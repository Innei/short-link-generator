<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="./js/inject.js"></script>
    <title>Title</title>
</head>
<body>
<div id="app">
    <ul id="data">

    </ul>

    <p style="text-align: center">
        <button onclick="callApi()">Add</button>
    </p>
</div>
</body>

<script>
    window.onload = () => {
        const $app = document.getElementById("app")
        const $data = document.getElementById("data")
        window.bus.on("dispatch", data => {

            console.log("received data: ", data)
            const $item = document.createElement("li")
            $item.textContent = data.code
            $data.appendChild($item)
        })


    }

    function callApi() {
        $_$.callGeneratorApi("https://baidu.com")
    }

</script>
</html>