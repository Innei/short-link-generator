var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,i=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,s=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&i(e,n,t[n]);if(r)for(var n of r(t))a.call(t,n)&&i(e,n,t[n]);return e},l=(e,r)=>t(e,n(r)),c=(e,t)=>{var n={};for(var i in e)o.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&r)for(var i of r(e))t.indexOf(i)<0&&a.call(e,i)&&(n[i]=e[i]);return n};function u(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}const p=u("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),d=u("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function f(e){if(F(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=f(P(r)?g(r):r);if(o)for(const e in o)t[e]=o[e]}return t}if(B(e))return e}const h=/;(?![^(]*\))/g,m=/:(.+)/;function g(e){const t={};return e.split(h).forEach((e=>{if(e){const n=e.split(m);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function v(e){let t="";if(P(e))t=e;else if(F(e))for(let n=0;n<e.length;n++){const r=v(e[n]);r&&(t+=r+" ")}else if(B(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function y(e,t){if(e===t)return!0;let n=j(e),r=j(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=F(e),r=F(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=y(e[r],t[r]);return n}(e,t);if(n=B(e),r=B(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),o=t.hasOwnProperty(n);if(r&&!o||!r&&o||!y(e[n],t[n]))return!1}}return String(e)===String(t)}function k(e,t){return e.findIndex((e=>y(e,t)))}const b=e=>null==e?"":B(e)?JSON.stringify(e,w,2):String(e),w=(e,t)=>N(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:I(t)?{[`Set(${t.size})`]:[...t.values()]}:!B(t)||F(t)||V(t)?t:String(t),x={},S=[],C=()=>{},M=()=>!1,T=/^on[^a-z]/,L=e=>T.test(e),A=e=>e.startsWith("onUpdate:"),O=Object.assign,R=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},E=Object.prototype.hasOwnProperty,D=(e,t)=>E.call(e,t),F=Array.isArray,N=e=>"[object Map]"===H(e),I=e=>"[object Set]"===H(e),j=e=>e instanceof Date,_=e=>"function"==typeof e,P=e=>"string"==typeof e,z=e=>"symbol"==typeof e,B=e=>null!==e&&"object"==typeof e,W=e=>B(e)&&_(e.then)&&_(e.catch),U=Object.prototype.toString,H=e=>U.call(e),V=e=>"[object Object]"===H(e),$=e=>P(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,q=u(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),G=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},K=/-(\w)/g,Y=G((e=>e.replace(K,((e,t)=>t?t.toUpperCase():"")))),X=/\B([A-Z])/g,J=G((e=>e.replace(X,"-$1").toLowerCase())),Z=G((e=>e.charAt(0).toUpperCase()+e.slice(1))),Q=G((e=>e?`on${Z(e)}`:"")),ee=(e,t)=>e!==t&&(e==e||t==t),te=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ne=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},re=e=>{const t=parseFloat(e);return isNaN(t)?e:t},oe=new WeakMap,ae=[];let ie;const se=Symbol(""),le=Symbol("");function ce(e,t=x){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const n=function(e,t){const n=function(){if(!n.active)return t.scheduler?void 0:e();if(!ae.includes(n)){de(n);try{return he.push(fe),fe=!0,ae.push(n),ie=n,e()}finally{ae.pop(),ge(),ie=ae[ae.length-1]}}};return n.id=pe++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}(e,t);return t.lazy||n(),n}function ue(e){e.active&&(de(e),e.options.onStop&&e.options.onStop(),e.active=!1)}let pe=0;function de(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let fe=!0;const he=[];function me(){he.push(fe),fe=!1}function ge(){const e=he.pop();fe=void 0===e||e}function ve(e,t,n){if(!fe||void 0===ie)return;let r=oe.get(e);r||oe.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=new Set),o.has(ie)||(o.add(ie),ie.deps.push(o))}function ye(e,t,n,r,o,a){const i=oe.get(e);if(!i)return;const s=new Set,l=e=>{e&&e.forEach((e=>{(e!==ie||e.allowRecurse)&&s.add(e)}))};if("clear"===t)i.forEach(l);else if("length"===n&&F(e))i.forEach(((e,t)=>{("length"===t||t>=r)&&l(e)}));else switch(void 0!==n&&l(i.get(n)),t){case"add":F(e)?$(n)&&l(i.get("length")):(l(i.get(se)),N(e)&&l(i.get(le)));break;case"delete":F(e)||(l(i.get(se)),N(e)&&l(i.get(le)));break;case"set":N(e)&&l(i.get(se))}s.forEach((e=>{e.options.scheduler?e.options.scheduler(e):e()}))}const ke=u("__proto__,__v_isRef,__isVue"),be=new Set(Object.getOwnPropertyNames(Symbol).map((e=>Symbol[e])).filter(z)),we=Te(),xe=Te(!1,!0),Se=Te(!0),Ce=Te(!0,!0),Me={};function Te(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&o===(e?t?nt:tt:t?et:Qe).get(n))return n;const a=F(n);if(!e&&a&&D(Me,r))return Reflect.get(Me,r,o);const i=Reflect.get(n,r,o);if(z(r)?be.has(r):ke(r))return i;if(e||ve(n,0,r),t)return i;if(dt(i)){return!a||!$(r)?i.value:i}return B(i)?e?at(i):ot(i):i}}["includes","indexOf","lastIndexOf"].forEach((e=>{const t=Array.prototype[e];Me[e]=function(...e){const n=ut(this);for(let t=0,o=this.length;t<o;t++)ve(n,0,t+"");const r=t.apply(n,e);return-1===r||!1===r?t.apply(n,e.map(ut)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{const t=Array.prototype[e];Me[e]=function(...e){me();const n=t.apply(this,e);return ge(),n}}));function Le(e=!1){return function(t,n,r,o){let a=t[n];if(!e&&(r=ut(r),a=ut(a),!F(t)&&dt(a)&&!dt(r)))return a.value=r,!0;const i=F(t)&&$(n)?Number(n)<t.length:D(t,n),s=Reflect.set(t,n,r,o);return t===ut(o)&&(i?ee(r,a)&&ye(t,"set",n,r):ye(t,"add",n,r)),s}}const Ae={get:we,set:Le(),deleteProperty:function(e,t){const n=D(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&ye(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return z(t)&&be.has(t)||ve(e,0,t),n},ownKeys:function(e){return ve(e,0,F(e)?"length":se),Reflect.ownKeys(e)}},Oe={get:Se,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},Re=O({},Ae,{get:xe,set:Le(!0)});O({},Oe,{get:Ce});const Ee=e=>B(e)?ot(e):e,De=e=>B(e)?at(e):e,Fe=e=>e,Ne=e=>Reflect.getPrototypeOf(e);function Ie(e,t,n=!1,r=!1){const o=ut(e=e.__v_raw),a=ut(t);t!==a&&!n&&ve(o,0,t),!n&&ve(o,0,a);const{has:i}=Ne(o),s=r?Fe:n?De:Ee;return i.call(o,t)?s(e.get(t)):i.call(o,a)?s(e.get(a)):void 0}function je(e,t=!1){const n=this.__v_raw,r=ut(n),o=ut(e);return e!==o&&!t&&ve(r,0,e),!t&&ve(r,0,o),e===o?n.has(e):n.has(e)||n.has(o)}function _e(e,t=!1){return e=e.__v_raw,!t&&ve(ut(e),0,se),Reflect.get(e,"size",e)}function Pe(e){e=ut(e);const t=ut(this);return Ne(t).has.call(t,e)||(t.add(e),ye(t,"add",e,e)),this}function ze(e,t){t=ut(t);const n=ut(this),{has:r,get:o}=Ne(n);let a=r.call(n,e);a||(e=ut(e),a=r.call(n,e));const i=o.call(n,e);return n.set(e,t),a?ee(t,i)&&ye(n,"set",e,t):ye(n,"add",e,t),this}function Be(e){const t=ut(this),{has:n,get:r}=Ne(t);let o=n.call(t,e);o||(e=ut(e),o=n.call(t,e)),r&&r.call(t,e);const a=t.delete(e);return o&&ye(t,"delete",e,void 0),a}function We(){const e=ut(this),t=0!==e.size,n=e.clear();return t&&ye(e,"clear",void 0,void 0),n}function Ue(e,t){return function(n,r){const o=this,a=o.__v_raw,i=ut(a),s=t?Fe:e?De:Ee;return!e&&ve(i,0,se),a.forEach(((e,t)=>n.call(r,s(e),s(t),o)))}}function He(e,t,n){return function(...r){const o=this.__v_raw,a=ut(o),i=N(a),s="entries"===e||e===Symbol.iterator&&i,l="keys"===e&&i,c=o[e](...r),u=n?Fe:t?De:Ee;return!t&&ve(a,0,l?le:se),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function Ve(e){return function(...t){return"delete"!==e&&this}}const $e={get(e){return Ie(this,e)},get size(){return _e(this)},has:je,add:Pe,set:ze,delete:Be,clear:We,forEach:Ue(!1,!1)},qe={get(e){return Ie(this,e,!1,!0)},get size(){return _e(this)},has:je,add:Pe,set:ze,delete:Be,clear:We,forEach:Ue(!1,!0)},Ge={get(e){return Ie(this,e,!0)},get size(){return _e(this,!0)},has(e){return je.call(this,e,!0)},add:Ve("add"),set:Ve("set"),delete:Ve("delete"),clear:Ve("clear"),forEach:Ue(!0,!1)},Ke={get(e){return Ie(this,e,!0,!0)},get size(){return _e(this,!0)},has(e){return je.call(this,e,!0)},add:Ve("add"),set:Ve("set"),delete:Ve("delete"),clear:Ve("clear"),forEach:Ue(!0,!0)};function Ye(e,t){const n=t?e?Ke:qe:e?Ge:$e;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(D(n,r)&&r in t?n:t,r,o)}["keys","values","entries",Symbol.iterator].forEach((e=>{$e[e]=He(e,!1,!1),Ge[e]=He(e,!0,!1),qe[e]=He(e,!1,!0),Ke[e]=He(e,!0,!0)}));const Xe={get:Ye(!1,!1)},Je={get:Ye(!1,!0)},Ze={get:Ye(!0,!1)},Qe=new WeakMap,et=new WeakMap,tt=new WeakMap,nt=new WeakMap;function rt(e){return e.__v_skip||!Object.isExtensible(e)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((e=>H(e).slice(8,-1))(e))}function ot(e){return e&&e.__v_isReadonly?e:it(e,!1,Ae,Xe,Qe)}function at(e){return it(e,!0,Oe,Ze,tt)}function it(e,t,n,r,o){if(!B(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const a=o.get(e);if(a)return a;const i=rt(e);if(0===i)return e;const s=new Proxy(e,2===i?r:n);return o.set(e,s),s}function st(e){return lt(e)?st(e.__v_raw):!(!e||!e.__v_isReactive)}function lt(e){return!(!e||!e.__v_isReadonly)}function ct(e){return st(e)||lt(e)}function ut(e){return e&&ut(e.__v_raw)||e}const pt=e=>B(e)?ot(e):e;function dt(e){return Boolean(e&&!0===e.__v_isRef)}function ft(e){return gt(e)}function ht(e){return gt(e,!0)}class mt{constructor(e,t=!1){this._rawValue=e,this._shallow=t,this.__v_isRef=!0,this._value=t?e:pt(e)}get value(){return ve(ut(this),0,"value"),this._value}set value(e){ee(ut(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:pt(e),ye(ut(this),"set","value",e))}}function gt(e,t=!1){return dt(e)?e:new mt(e,t)}function vt(e){return dt(e)?e.value:e}const yt={get:(e,t,n)=>vt(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return dt(o)&&!dt(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function kt(e){return st(e)?e:new Proxy(e,yt)}class bt{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}class wt{constructor(e,t,n){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=ce(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,ye(ut(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const e=ut(this);return e._dirty&&(e._value=this.effect(),e._dirty=!1),ve(e,0,"value"),e._value}set value(e){this._setter(e)}}function xt(e,t,n,r){let o;try{o=r?e(...r):e()}catch(a){Ct(a,t,n)}return o}function St(e,t,n,r){if(_(e)){const o=xt(e,t,n,r);return o&&W(o)&&o.catch((e=>{Ct(e,t,n)})),o}const o=[];for(let a=0;a<e.length;a++)o.push(St(e[a],t,n,r));return o}function Ct(e,t,n,r=!0){t&&t.vnode;if(t){let r=t.parent;const o=t.proxy,a=n;for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,o,a))return;r=r.parent}const i=t.appContext.config.errorHandler;if(i)return void xt(i,null,10,[e,o,a])}!function(e,t,n,r=!0){console.error(e)}(e,0,0,r)}let Mt=!1,Tt=!1;const Lt=[];let At=0;const Ot=[];let Rt=null,Et=0;const Dt=[];let Ft=null,Nt=0;const It=Promise.resolve();let jt=null,_t=null;function Pt(e){const t=jt||It;return e?t.then(this?e.bind(this):e):t}function zt(e){if(!(Lt.length&&Lt.includes(e,Mt&&e.allowRecurse?At+1:At)||e===_t)){const t=function(e){let t=At+1,n=Lt.length;const r=Vt(e);for(;t<n;){const e=t+n>>>1;Vt(Lt[e])<r?t=e+1:n=e}return t}(e);t>-1?Lt.splice(t,0,e):Lt.push(e),Bt()}}function Bt(){Mt||Tt||(Tt=!0,jt=It.then($t))}function Wt(e,t,n,r){F(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),Bt()}function Ut(e,t=null){if(Ot.length){for(_t=t,Rt=[...new Set(Ot)],Ot.length=0,Et=0;Et<Rt.length;Et++)Rt[Et]();Rt=null,Et=0,_t=null,Ut(e,t)}}function Ht(e){if(Dt.length){const e=[...new Set(Dt)];if(Dt.length=0,Ft)return void Ft.push(...e);for(Ft=e,Ft.sort(((e,t)=>Vt(e)-Vt(t))),Nt=0;Nt<Ft.length;Nt++)Ft[Nt]();Ft=null,Nt=0}}const Vt=e=>null==e.id?1/0:e.id;function $t(e){Tt=!1,Mt=!0,Ut(e),Lt.sort(((e,t)=>Vt(e)-Vt(t)));try{for(At=0;At<Lt.length;At++){const e=Lt[At];e&&xt(e,null,14)}}finally{At=0,Lt.length=0,Ht(),Mt=!1,jt=null,(Lt.length||Dt.length)&&$t(e)}}function qt(e,t,...n){const r=e.vnode.props||x;let o=n;const a=t.startsWith("update:"),i=a&&t.slice(7);if(i&&i in r){const e=`${"modelValue"===i?"model":i}Modifiers`,{number:t,trim:a}=r[e]||x;a?o=n.map((e=>e.trim())):t&&(o=n.map(re))}let s,l=r[s=Q(t)]||r[s=Q(Y(t))];!l&&a&&(l=r[s=Q(J(t))]),l&&St(l,e,6,o);const c=r[s+"Once"];if(c){if(e.emitted){if(e.emitted[s])return}else(e.emitted={})[s]=!0;St(c,e,6,o)}}function Gt(e,t,n=!1){if(!t.deopt&&void 0!==e.__emits)return e.__emits;const r=e.emits;let o={},a=!1;if(!_(e)){const r=e=>{const n=Gt(e,t,!0);n&&(a=!0,O(o,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return r||a?(F(r)?r.forEach((e=>o[e]=null)):O(o,r),e.__emits=o):e.__emits=null}function Kt(e,t){return!(!e||!L(t))&&(t=t.slice(2).replace(/Once$/,""),D(e,t[0].toLowerCase()+t.slice(1))||D(e,J(t))||D(e,t))}let Yt=0;const Xt=e=>Yt+=e;function Jt(e,t,n={},r,o){let a=e[t];Yt++,dr();const i=a&&Zt(a(n)),s=hr(ir,{key:n.key||`_${t}`},i||(r?r():[]),i&&1===e._?64:-2);return!o&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),Yt--,s}function Zt(e){return e.some((e=>!mr(e)||e.type!==lr&&!(e.type===ir&&!Zt(e.children))))?e:null}let Qt=null,en=null;function tn(e){const t=Qt;return Qt=e,en=e&&e.type.__scopeId||null,t}function nn(e){en=e}function rn(){en=null}const on=e=>an;function an(e,t=Qt){if(!t)return e;const n=(...n)=>{Yt||dr(!0);const r=tn(t),o=e(...n);return tn(r),Yt||fr(),o};return n._c=!0,n}function sn(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:a,propsOptions:[i],slots:s,attrs:l,emit:c,render:u,renderCache:p,data:d,setupState:f,ctx:h}=e;let m;const g=tn(e);try{let e;if(4&n.shapeFlag){const t=o||r;m=Cr(u.call(t,t,p,a,f,d,h)),e=l}else{const n=t;0,m=Cr(n.length>1?n(a,{attrs:l,slots:s,emit:c}):n(a,null)),e=t.props?l:cn(l)}let g=m;if(!1!==t.inheritAttrs&&e){const t=Object.keys(e),{shapeFlag:n}=g;t.length&&(1&n||6&n)&&(i&&t.some(A)&&(e=un(e,i)),g=wr(g,e))}n.dirs&&(g.dirs=g.dirs?g.dirs.concat(n.dirs):n.dirs),n.transition&&(g.transition=n.transition),m=g}catch(v){ur.length=0,Ct(v,e,1),m=br(lr)}return tn(g),m}function ln(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!mr(r))return;if(r.type!==lr||"v-if"===r.children){if(t)return;t=r}}return t}const cn=e=>{let t;for(const n in e)("class"===n||"style"===n||L(n))&&((t||(t={}))[n]=e[n]);return t},un=(e,t)=>{const n={};for(const r in e)A(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function pn(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const a=r[o];if(t[a]!==e[a]&&!Kt(n,a))return!0}return!1}function dn(e){if(_(e)&&(e=e()),F(e)){e=ln(e)}return Cr(e)}function fn(e,t,n,r=!1){const o={},a={};ne(a,vr,1),e.propsDefaults=Object.create(null),hn(e,t,o,a),n?e.props=r?o:it(o,!1,Re,Je,et):e.type.props?e.props=o:e.props=a,e.attrs=a}function hn(e,t,n,r){const[o,a]=e.propsOptions;if(t)for(const i in t){const a=t[i];if(q(i))continue;let s;o&&D(o,s=Y(i))?n[s]=a:Kt(e.emitsOptions,i)||(r[i]=a)}if(a){const t=ut(n);for(let r=0;r<a.length;r++){const i=a[r];n[i]=mn(o,t,i,t[i],e)}}}function mn(e,t,n,r,o){const a=e[n];if(null!=a){const e=D(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&_(e)){const{propsDefaults:a}=o;n in a?r=a[n]:($r(o),r=a[n]=e(t),$r(null))}else r=e}a[0]&&(D(t,n)||e?!a[1]||""!==r&&r!==J(n)||(r=!0):r=!1)}return r}function gn(e,t,n=!1){if(!t.deopt&&e.__props)return e.__props;const r=e.props,o={},a=[];let i=!1;if(!_(e)){const r=e=>{i=!0;const[n,r]=gn(e,t,!0);O(o,n),r&&a.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!r&&!i)return e.__props=S;if(F(r))for(let s=0;s<r.length;s++){const e=Y(r[s]);vn(e)&&(o[e]=x)}else if(r)for(const s in r){const e=Y(s);if(vn(e)){const t=r[s],n=o[e]=F(t)||_(t)?{type:t}:t;if(n){const t=bn(Boolean,n.type),r=bn(String,n.type);n[0]=t>-1,n[1]=r<0||t<r,(t>-1||D(n,"default"))&&a.push(e)}}}return e.__props=[o,a]}function vn(e){return"$"!==e[0]}function yn(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function kn(e,t){return yn(e)===yn(t)}function bn(e,t){return F(t)?t.findIndex((t=>kn(t,e))):_(t)&&kn(t,e)?0:-1}function wn(e,t,n=Hr,r=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;me(),$r(n);const o=St(t,n,e,r);return $r(null),ge(),o});return r?o.unshift(a):o.push(a),a}}const xn=e=>(t,n=Hr)=>!Gr&&wn(e,t,n),Sn=xn("bm"),Cn=xn("m"),Mn=xn("bu"),Tn=xn("u"),Ln=xn("bum"),An=xn("um"),On=xn("rtg"),Rn=xn("rtc");function En(e,t){return Nn(e,null,t)}const Dn={};function Fn(e,t,n){return Nn(e,t,n)}function Nn(e,t,{immediate:n,deep:r,flush:o,onTrack:a,onTrigger:i}=x,s=Hr){let l,c,u=!1;if(dt(e)?(l=()=>e.value,u=!!e._shallow):st(e)?(l=()=>e,r=!0):l=F(e)?()=>e.map((e=>dt(e)?e.value:st(e)?jn(e):_(e)?xt(e,s,2,[s&&s.proxy]):void 0)):_(e)?t?()=>xt(e,s,2,[s&&s.proxy]):()=>{if(!s||!s.isUnmounted)return c&&c(),St(e,s,3,[p])}:C,t&&r){const e=l;l=()=>jn(e())}let p=e=>{c=m.options.onStop=()=>{xt(e,s,4)}},d=F(e)?[]:Dn;const f=()=>{if(m.active)if(t){const e=m();(r||u||ee(e,d))&&(c&&c(),St(t,s,3,[e,d===Dn?void 0:d,p]),d=e)}else m()};let h;f.allowRecurse=!!t,h="sync"===o?f:"post"===o?()=>Zn(f,s&&s.suspense):()=>{!s||s.isMounted?function(e){Wt(e,Rt,Ot,Et)}(f):f()};const m=ce(l,{lazy:!0,onTrack:a,onTrigger:i,scheduler:h});return Xr(m,s),t?n?f():d=m():"post"===o?Zn(m,s&&s.suspense):m(),()=>{ue(m),s&&R(s.effects,m)}}function In(e,t,n){const r=this.proxy;return Nn(P(e)?()=>r[e]:e.bind(r),t.bind(r),n,this)}function jn(e,t=new Set){if(!B(e)||t.has(e))return e;if(t.add(e),dt(e))jn(e.value,t);else if(F(e))for(let n=0;n<e.length;n++)jn(e[n],t);else if(I(e)||N(e))e.forEach((e=>{jn(e,t)}));else for(const n in e)jn(e[n],t);return e}const _n=e=>e.type.__isKeepAlive;function Pn(e,t,n=Hr){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}e()});if(wn(t,r,n),n){let e=n.parent;for(;e&&e.parent;)_n(e.parent.vnode)&&zn(r,t,n,e),e=e.parent}}function zn(e,t,n,r){const o=wn(t,e,r,!0);An((()=>{R(r[t],o)}),n)}const Bn=e=>"_"===e[0]||"$stable"===e,Wn=e=>F(e)?e.map(Cr):[Cr(e)],Un=(e,t,n)=>an((e=>Wn(t(e))),n),Hn=(e,t)=>{const n=e._ctx;for(const r in e){if(Bn(r))continue;const o=e[r];if(_(o))t[r]=Un(0,o,n);else if(null!=o){const e=Wn(o);t[r]=()=>e}}},Vn=(e,t)=>{const n=Wn(t);e.slots.default=()=>n};function $n(e,t){if(null===Qt)return e;const n=Qt.proxy,r=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,a,i,s=x]=t[o];_(e)&&(e={mounted:e,updated:e}),r.push({dir:e,instance:n,value:a,oldValue:void 0,arg:i,modifiers:s})}return e}function qn(e,t,n,r){const o=e.dirs,a=t&&t.dirs;for(let i=0;i<o.length;i++){const s=o[i];a&&(s.oldValue=a[i].value);const l=s.dir[r];l&&St(l,n,8,[e.el,s,e,t])}}function Gn(){return{app:null,config:{isNativeTag:M,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:M,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}let Kn=0;function Yn(e,t){return function(n,r=null){null==r||B(r)||(r=null);const o=Gn(),a=new Set;let i=!1;const s=o.app={_uid:Kn++,_component:n,_props:r,_container:null,_context:o,version:to,get config(){return o.config},set config(e){},use:(e,...t)=>(a.has(e)||(e&&_(e.install)?(a.add(e),e.install(s,...t)):_(e)&&(a.add(e),e(s,...t))),s),mixin:e=>(o.mixins.includes(e)||(o.mixins.push(e),(e.props||e.emits)&&(o.deopt=!0)),s),component:(e,t)=>t?(o.components[e]=t,s):o.components[e],directive:(e,t)=>t?(o.directives[e]=t,s):o.directives[e],mount(a,l,c){if(!i){const u=br(n,r);return u.appContext=o,l&&t?t(u,a):e(u,a,c),i=!0,s._container=a,a.__vue_app__=s,u.component.proxy}},unmount(){i&&(e(null,s._container),delete s._container.__vue_app__)},provide:(e,t)=>(o.provides[e]=t,s)};return s}}function Xn(e){return _(e)?{setup:e,name:e.name}:e}const Jn={scheduler:zt,allowRecurse:!0},Zn=function(e,t){t&&t.pendingBranch?F(e)?t.effects.push(...e):t.effects.push(e):Wt(e,Ft,Dt,Nt)},Qn=(e,t,n,r)=>{if(F(e))return void e.forEach(((e,o)=>Qn(e,t&&(F(t)?t[o]:t),n,r)));let o;if(r){if((e=>!!e.type.__asyncLoader)(r))return;o=4&r.shapeFlag?r.component.exposed||r.component.proxy:r.el}else o=null;const{i:a,r:i}=e,s=t&&t.r,l=a.refs===x?a.refs={}:a.refs,c=a.setupState;if(null!=s&&s!==i&&(P(s)?(l[s]=null,D(c,s)&&(c[s]=null)):dt(s)&&(s.value=null)),P(i)){const e=()=>{l[i]=o,D(c,i)&&(c[i]=o)};o?(e.id=-1,Zn(e,n)):e()}else if(dt(i)){const e=()=>{i.value=o};o?(e.id=-1,Zn(e,n)):e()}else _(i)&&xt(i,a,12,[o,l])};function er(e){return function(e,t){const{insert:n,remove:r,patchProp:o,forcePatchProp:a,createElement:i,createText:s,createComment:l,setText:c,setElementText:u,parentNode:p,nextSibling:d,setScopeId:f=C,cloneNode:h,insertStaticContent:m}=e,g=(e,t,n,r=null,o=null,a=null,i=!1,s=null,l=!1)=>{e&&!gr(e,t)&&(r=Q(e),$(e,o,a,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:p}=t;switch(c){case sr:v(e,t,n,r);break;case lr:y(e,t,n,r);break;case cr:null==e&&k(t,n,r,i);break;case ir:N(e,t,n,r,o,a,i,s,l);break;default:1&p?M(e,t,n,r,o,a,i,s,l):6&p?I(e,t,n,r,o,a,i,s,l):(64&p||128&p)&&c.process(e,t,n,r,o,a,i,s,l,re)}null!=u&&o&&Qn(u,e&&e.ref,a,t)},v=(e,t,r,o)=>{if(null==e)n(t.el=s(t.children),r,o);else{const n=t.el=e.el;t.children!==e.children&&c(n,t.children)}},y=(e,t,r,o)=>{null==e?n(t.el=l(t.children||""),r,o):t.el=e.el},k=(e,t,n,r)=>{[e.el,e.anchor]=m(e.children,t,n,r)},b=({el:e,anchor:t},r,o)=>{let a;for(;e&&e!==t;)a=d(e),n(e,r,o),e=a;n(t,r,o)},w=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=d(e),r(e),e=n;r(t)},M=(e,t,n,r,o,a,i,s,l)=>{i=i||"svg"===t.type,null==e?T(t,n,r,o,a,i,s,l):R(e,t,o,a,i,s,l)},T=(e,t,r,a,s,l,c,p)=>{let d,f;const{type:m,props:g,shapeFlag:v,transition:y,patchFlag:k,dirs:b}=e;if(e.el&&void 0!==h&&-1===k)d=e.el=h(e.el);else{if(d=e.el=i(e.type,l,g&&g.is,g),8&v?u(d,e.children):16&v&&A(e.children,d,null,a,s,l&&"foreignObject"!==m,c,p||!!e.dynamicChildren),b&&qn(e,null,a,"created"),g){for(const t in g)q(t)||o(d,t,null,g[t],l,e.children,a,s,Z);(f=g.onVnodeBeforeMount)&&tr(f,a,e)}L(d,e,e.scopeId,c,a)}b&&qn(e,null,a,"beforeMount");const w=(!s||s&&!s.pendingBranch)&&y&&!y.persisted;w&&y.beforeEnter(d),n(d,t,r),((f=g&&g.onVnodeMounted)||w||b)&&Zn((()=>{f&&tr(f,a,e),w&&y.enter(d),b&&qn(e,null,a,"mounted")}),s)},L=(e,t,n,r,o)=>{if(n&&f(e,n),r)for(let a=0;a<r.length;a++)f(e,r[a]);if(o){if(t===o.subTree){const t=o.vnode;L(e,t,t.scopeId,t.slotScopeIds,o.parent)}}},A=(e,t,n,r,o,a,i,s,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=i?Mr(e[c]):Cr(e[c]);g(null,l,t,n,r,o,a,i,s)}},R=(e,t,n,r,i,s,l)=>{const c=t.el=e.el;let{patchFlag:p,dynamicChildren:d,dirs:f}=t;p|=16&e.patchFlag;const h=e.props||x,m=t.props||x;let g;if((g=m.onVnodeBeforeUpdate)&&tr(g,n,t,e),f&&qn(t,e,n,"beforeUpdate"),p>0){if(16&p)F(c,t,h,m,n,r,i);else if(2&p&&h.class!==m.class&&o(c,"class",null,m.class,i),4&p&&o(c,"style",h.style,m.style,i),8&p){const s=t.dynamicProps;for(let t=0;t<s.length;t++){const l=s[t],u=h[l],p=m[l];(p!==u||a&&a(c,l))&&o(c,l,u,p,i,e.children,n,r,Z)}}1&p&&e.children!==t.children&&u(c,t.children)}else l||null!=d||F(c,t,h,m,n,r,i);const v=i&&"foreignObject"!==t.type;d?E(e.dynamicChildren,d,c,n,r,v,s):l||B(e,t,c,null,n,r,v,s,!1),((g=m.onVnodeUpdated)||f)&&Zn((()=>{g&&tr(g,n,t,e),f&&qn(t,e,n,"updated")}),r)},E=(e,t,n,r,o,a,i)=>{for(let s=0;s<t.length;s++){const l=e[s],c=t[s],u=l.type===ir||!gr(l,c)||6&l.shapeFlag||64&l.shapeFlag?p(l.el):n;g(l,c,u,null,r,o,a,i,!0)}},F=(e,t,n,r,i,s,l)=>{if(n!==r){for(const c in r){if(q(c))continue;const u=r[c],p=n[c];(u!==p||a&&a(e,c))&&o(e,c,p,u,l,t.children,i,s,Z)}if(n!==x)for(const a in n)q(a)||a in r||o(e,a,n[a],null,l,t.children,i,s,Z)}},N=(e,t,r,o,a,i,l,c,u)=>{const p=t.el=e?e.el:s(""),d=t.anchor=e?e.anchor:s("");let{patchFlag:f,dynamicChildren:h,slotScopeIds:m}=t;f>0&&(u=!0),m&&(c=c?c.concat(m):m),null==e?(n(p,r,o),n(d,r,o),A(t.children,r,d,a,i,l,c,u)):f>0&&64&f&&h&&e.dynamicChildren?(E(e.dynamicChildren,h,r,a,i,l,c),(null!=t.key||a&&t===a.subTree)&&nr(e,t,!0)):B(e,t,r,d,a,i,l,c,u)},I=(e,t,n,r,o,a,i,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?o.ctx.activate(t,n,r,i,l):j(t,n,r,o,a,i,l):_(e,t,l)},j=(e,t,n,r,o,a,i)=>{const s=e.component=function(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||Wr,a={uid:Ur++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:gn(r,o),emitsOptions:Gt(r,o),emit:null,emitted:null,propsDefaults:x,ctx:x,data:x,props:x,attrs:x,slots:x,refs:x,setupState:x,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=qt.bind(null,a),a}(e,r,o);if(_n(e)&&(s.ctx.renderer=re),function(e,t=!1){Gr=t;const{props:n,children:r}=e.vnode,o=qr(e);fn(e,n,o,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=t,ne(t,"_",n)):Hn(t,e.slots={})}else e.slots={},t&&Vn(e,t);ne(e.slots,vr,1)})(e,r);const a=o?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,zr);const{setup:r}=n;if(r){const n=e.setupContext=r.length>1?function(e){const t=t=>{e.exposed=kt(t)};return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:t}}(e):null;Hr=e,me();const o=xt(r,e,0,[e.props,n]);if(ge(),Hr=null,W(o)){if(t)return o.then((t=>{Kr(e,t)})).catch((t=>{Ct(t,e,0)}));e.asyncDep=o}else Kr(e,o)}else Yr(e)}(e,t):void 0;Gr=!1}(s),s.asyncDep){if(o&&o.registerDep(s,P),!e.el){const e=s.subTree=br(lr);y(null,e,t,n)}}else P(s,e,t,n,o,a,i)},_=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:o,component:a}=e,{props:i,children:s,patchFlag:l}=t,c=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!o&&!s||s&&s.$stable)||r!==i&&(r?!i||pn(r,i,c):!!i);if(1024&l)return!0;if(16&l)return r?pn(r,i,c):!!i;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(i[n]!==r[n]&&!Kt(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void z(r,t,n);r.next=t,function(e){const t=Lt.indexOf(e);t>At&&Lt.splice(t,1)}(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},P=(e,t,n,r,o,a,i)=>{e.update=ce((function(){if(e.isMounted){let t,{next:n,bu:r,u:s,parent:l,vnode:c}=e,u=n;n?(n.el=c.el,z(e,n,i)):n=c,r&&te(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&tr(t,l,n,c);const d=sn(e),f=e.subTree;e.subTree=d,g(f,d,p(f.el),Q(f),e,o,a),n.el=d.el,null===u&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,d.el),s&&Zn(s,o),(t=n.props&&n.props.onVnodeUpdated)&&Zn((()=>{tr(t,l,n,c)}),o)}else{let i;const{el:s,props:l}=t,{bm:c,m:u,parent:p}=e;c&&te(c),(i=l&&l.onVnodeBeforeMount)&&tr(i,p,t);const d=e.subTree=sn(e);if(s&&ae?ae(t.el,d,e,o,null):(g(null,d,n,r,e,o,a),t.el=d.el),u&&Zn(u,o),i=l&&l.onVnodeMounted){const e=t;Zn((()=>{tr(i,p,e)}),o)}const{a:f}=e;f&&256&t.shapeFlag&&Zn(f,o),e.isMounted=!0,t=n=r=null}}),Jn)},z=(e,t,n)=>{t.component=e;const r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:o,attrs:a,vnode:{patchFlag:i}}=e,s=ut(o),[l]=e.propsOptions;if(!(r||i>0)||16&i){let r;hn(e,t,o,a);for(const a in s)t&&(D(t,a)||(r=J(a))!==a&&D(t,r))||(l?!n||void 0===n[a]&&void 0===n[r]||(o[a]=mn(l,t||x,a,void 0,e)):delete o[a]);if(a!==s)for(const e in a)t&&D(t,e)||delete a[e]}else if(8&i){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){const i=n[r],c=t[i];if(l)if(D(a,i))a[i]=c;else{const t=Y(i);o[t]=mn(l,s,t,c,e)}else a[i]=c}}ye(e,"set","$attrs")}(e,t.props,r,n),((e,t,n)=>{const{vnode:r,slots:o}=e;let a=!0,i=x;if(32&r.shapeFlag){const e=t._;e?n&&1===e?a=!1:(O(o,t),n||1!==e||delete o._):(a=!t.$stable,Hn(t,o)),i=t}else t&&(Vn(e,t),i={default:1});if(a)for(const s in o)Bn(s)||s in i||delete o[s]})(e,t.children,n),me(),Ut(void 0,e.update),ge()},B=(e,t,n,r,o,a,i,s,l=!1)=>{const c=e&&e.children,p=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:h}=t;if(f>0){if(128&f)return void H(c,d,n,r,o,a,i,s,l);if(256&f)return void U(c,d,n,r,o,a,i,s,l)}8&h?(16&p&&Z(c,o,a),d!==c&&u(n,d)):16&p?16&h?H(c,d,n,r,o,a,i,s,l):Z(c,o,a,!0):(8&p&&u(n,""),16&h&&A(d,n,r,o,a,i,s,l))},U=(e,t,n,r,o,a,i,s,l)=>{t=t||S;const c=(e=e||S).length,u=t.length,p=Math.min(c,u);let d;for(d=0;d<p;d++){const r=t[d]=l?Mr(t[d]):Cr(t[d]);g(e[d],r,n,null,o,a,i,s,l)}c>u?Z(e,o,a,!0,!1,p):A(t,n,r,o,a,i,s,l,p)},H=(e,t,n,r,o,a,i,s,l)=>{let c=0;const u=t.length;let p=e.length-1,d=u-1;for(;c<=p&&c<=d;){const r=e[c],u=t[c]=l?Mr(t[c]):Cr(t[c]);if(!gr(r,u))break;g(r,u,n,null,o,a,i,s,l),c++}for(;c<=p&&c<=d;){const r=e[p],c=t[d]=l?Mr(t[d]):Cr(t[d]);if(!gr(r,c))break;g(r,c,n,null,o,a,i,s,l),p--,d--}if(c>p){if(c<=d){const e=d+1,p=e<u?t[e].el:r;for(;c<=d;)g(null,t[c]=l?Mr(t[c]):Cr(t[c]),n,p,o,a,i,s,l),c++}}else if(c>d)for(;c<=p;)$(e[c],o,a,!0),c++;else{const f=c,h=c,m=new Map;for(c=h;c<=d;c++){const e=t[c]=l?Mr(t[c]):Cr(t[c]);null!=e.key&&m.set(e.key,c)}let v,y=0;const k=d-h+1;let b=!1,w=0;const x=new Array(k);for(c=0;c<k;c++)x[c]=0;for(c=f;c<=p;c++){const r=e[c];if(y>=k){$(r,o,a,!0);continue}let u;if(null!=r.key)u=m.get(r.key);else for(v=h;v<=d;v++)if(0===x[v-h]&&gr(r,t[v])){u=v;break}void 0===u?$(r,o,a,!0):(x[u-h]=c+1,u>=w?w=u:b=!0,g(r,t[u],n,null,o,a,i,s,l),y++)}const C=b?function(e){const t=e.slice(),n=[0];let r,o,a,i,s;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(o=n[n.length-1],e[o]<l){t[r]=o,n.push(r);continue}for(a=0,i=n.length-1;a<i;)s=(a+i)/2|0,e[n[s]]<l?a=s+1:i=s;l<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}a=n.length,i=n[a-1];for(;a-- >0;)n[a]=i,i=t[i];return n}(x):S;for(v=C.length-1,c=k-1;c>=0;c--){const e=h+c,p=t[e],d=e+1<u?t[e+1].el:r;0===x[c]?g(null,p,n,d,o,a,i,s,l):b&&(v<0||c!==C[v]?V(p,n,d,2):v--)}}},V=(e,t,r,o,a=null)=>{const{el:i,type:s,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void V(e.component.subTree,t,r,o);if(128&u)return void e.suspense.move(t,r,o);if(64&u)return void s.move(e,t,r,re);if(s===ir){n(i,t,r);for(let e=0;e<c.length;e++)V(c[e],t,r,o);return void n(e.anchor,t,r)}if(s===cr)return void b(e,t,r);if(2!==o&&1&u&&l)if(0===o)l.beforeEnter(i),n(i,t,r),Zn((()=>l.enter(i)),a);else{const{leave:e,delayLeave:o,afterLeave:a}=l,s=()=>n(i,t,r),c=()=>{e(i,(()=>{s(),a&&a()}))};o?o(i,s,c):c()}else n(i,t,r)},$=(e,t,n,r=!1,o=!1)=>{const{type:a,props:i,ref:s,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:p,dirs:d}=e;if(null!=s&&Qn(s,null,n,null),256&u)return void t.ctx.deactivate(e);const f=1&u&&d;let h;if((h=i&&i.onVnodeBeforeUnmount)&&tr(h,t,e),6&u)X(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);f&&qn(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,o,re,r):c&&(a!==ir||p>0&&64&p)?Z(c,t,n,!1,!0):(a===ir&&(128&p||256&p)||!o&&16&u)&&Z(l,t,n),r&&G(e)}((h=i&&i.onVnodeUnmounted)||f)&&Zn((()=>{h&&tr(h,t,e),f&&qn(e,null,t,"unmounted")}),n)},G=e=>{const{type:t,el:n,anchor:o,transition:a}=e;if(t===ir)return void K(n,o);if(t===cr)return void w(e);const i=()=>{r(n),a&&!a.persisted&&a.afterLeave&&a.afterLeave()};if(1&e.shapeFlag&&a&&!a.persisted){const{leave:t,delayLeave:r}=a,o=()=>t(n,i);r?r(e.el,i,o):o()}else i()},K=(e,t)=>{let n;for(;e!==t;)n=d(e),r(e),e=n;r(t)},X=(e,t,n)=>{const{bum:r,effects:o,update:a,subTree:i,um:s}=e;if(r&&te(r),o)for(let l=0;l<o.length;l++)ue(o[l]);a&&(ue(a),$(i,e,t,n)),s&&Zn(s,t),Zn((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},Z=(e,t,n,r=!1,o=!1,a=0)=>{for(let i=a;i<e.length;i++)$(e[i],t,n,r,o)},Q=e=>6&e.shapeFlag?Q(e.component.subTree):128&e.shapeFlag?e.suspense.next():d(e.anchor||e.el),ee=(e,t,n)=>{null==e?t._vnode&&$(t._vnode,null,null,!0):g(t._vnode||null,e,t,null,null,null,n),Ht(),t._vnode=e},re={p:g,um:$,m:V,r:G,mt:j,mc:A,pc:B,pbc:E,n:Q,o:e};let oe,ae;t&&([oe,ae]=t(re));return{render:ee,hydrate:oe,createApp:Yn(ee,oe)}}(e)}function tr(e,t,n,r=null){St(e,t,7,[n,r])}function nr(e,t,n=!1){const r=e.children,o=t.children;if(F(r)&&F(o))for(let a=0;a<r.length;a++){const e=r[a];let t=o[a];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[a]=Mr(o[a]),t.el=e.el),n||nr(e,t))}}const rr=Symbol();function or(e,t,n=!0,r=!1){const o=Qt||Hr;if(o){const n=o.type;if("components"===e){const e=Jr(n);if(e&&(e===t||e===Y(t)||e===Z(Y(t))))return n}const a=ar(o[e]||n[e],t)||ar(o.appContext[e],t);return!a&&r?n:a}}function ar(e,t){return e&&(e[t]||e[Y(t)]||e[Z(Y(t))])}const ir=Symbol(void 0),sr=Symbol(void 0),lr=Symbol(void 0),cr=Symbol(void 0),ur=[];let pr=null;function dr(e=!1){ur.push(pr=e?null:[])}function fr(){ur.pop(),pr=ur[ur.length-1]||null}function hr(e,t,n,r,o){const a=br(e,t,n,r,o,!0);return a.dynamicChildren=pr||S,fr(),pr&&pr.push(a),a}function mr(e){return!!e&&!0===e.__v_isVNode}function gr(e,t){return e.type===t.type&&e.key===t.key}const vr="__vInternal",yr=({key:e})=>null!=e?e:null,kr=({ref:e})=>null!=e?P(e)||dt(e)||_(e)?{i:Qt,r:e}:e:null,br=function(e,t=null,n=null,r=0,o=null,a=!1){e&&e!==rr||(e=lr);if(mr(e)){const r=wr(e,t,!0);return n&&Tr(r,n),r}i=e,_(i)&&"__vccOpts"in i&&(e=e.__vccOpts);var i;if(t){(ct(t)||vr in t)&&(t=O({},t));let{class:e,style:n}=t;e&&!P(e)&&(t.class=v(e)),B(n)&&(ct(n)&&!F(n)&&(n=O({},n)),t.style=f(n))}const s=P(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:B(e)?4:_(e)?2:0,l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&yr(t),ref:t&&kr(t),scopeId:en,slotScopeIds:null,children:null,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};if(Tr(l,n),128&s){const{content:e,fallback:t}=function(e){const{shapeFlag:t,children:n}=e;let r,o;return 32&t?(r=dn(n.default),o=dn(n.fallback)):(r=dn(n),o=Cr(null)),{content:r,fallback:o}}(l);l.ssContent=e,l.ssFallback=t}!a&&pr&&(r>0||6&s)&&32!==r&&pr.push(l);return l};function wr(e,t,n=!1){const{props:r,ref:o,patchFlag:a,children:i}=e,s=t?function(...e){const t=O({},e[0]);for(let n=1;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=v([t.class,r.class]));else if("style"===e)t.style=f([t.style,r.style]);else if(L(e)){const n=t[e],o=r[e];n!==o&&(t[e]=n?[].concat(n,r[e]):o)}else""!==e&&(t[e]=r[e])}return t}(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&yr(s),ref:t&&t.ref?n&&o?F(o)?o.concat(kr(t)):[o,kr(t)]:kr(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ir?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&wr(e.ssContent),ssFallback:e.ssFallback&&wr(e.ssFallback),el:e.el,anchor:e.anchor}}function xr(e=" ",t=0){return br(sr,null,e,t)}function Sr(e="",t=!1){return t?(dr(),hr(lr,null,e)):br(lr,null,e)}function Cr(e){return null==e||"boolean"==typeof e?br(lr):F(e)?br(ir,null,e):"object"==typeof e?null===e.el?e:wr(e):br(sr,null,String(e))}function Mr(e){return null===e.el?e:wr(e)}function Tr(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(F(t))n=16;else if("object"==typeof t){if(1&r||64&r){const n=t.default;return void(n&&(n._c&&Xt(1),Tr(e,n()),n._c&&Xt(-1)))}{n=32;const r=t._;r||vr in t?3===r&&Qt&&(1024&Qt.vnode.patchFlag?(t._=2,e.patchFlag|=1024):t._=1):t._ctx=Qt}}else _(t)?(t={default:t,_ctx:Qt},n=32):(t=String(t),64&r?(n=16,t=[xr(t)]):n=8);e.children=t,e.shapeFlag|=n}function Lr(e,t){if(Hr){let n=Hr.provides;const r=Hr.parent&&Hr.parent.provides;r===n&&(n=Hr.provides=Object.create(r)),n[e]=t}else;}function Ar(e,t,n=!1){const r=Hr||Qt;if(r){const o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&_(t)?t():t}}let Or=!0;function Rr(e,t,n=[],r=[],o=[],a=!1){const{mixins:i,extends:s,data:l,computed:c,methods:u,watch:p,provide:d,inject:f,components:h,directives:m,beforeMount:g,mounted:v,beforeUpdate:y,updated:k,activated:b,deactivated:w,beforeDestroy:S,beforeUnmount:M,destroyed:T,unmounted:L,render:A,renderTracked:R,renderTriggered:E,errorCaptured:D,expose:N}=t,I=e.proxy,j=e.ctx,P=e.appContext.mixins;if(a&&A&&e.render===C&&(e.render=A),a||(Or=!1,Er("beforeCreate","bc",t,e,P),Or=!0,Fr(e,P,n,r,o)),s&&Rr(e,s,n,r,o,!0),i&&Fr(e,i,n,r,o),f)if(F(f))for(let x=0;x<f.length;x++){const e=f[x];j[e]=Ar(e)}else for(const x in f){const e=f[x];B(e)?j[x]=Ar(e.from||x,e.default,!0):j[x]=Ar(e)}if(u)for(const x in u){const e=u[x];_(e)&&(j[x]=e.bind(I))}if(a?l&&n.push(l):(n.length&&n.forEach((t=>Nr(e,t,I))),l&&Nr(e,l,I)),c)for(const x in c){const e=c[x],t=Zr({get:_(e)?e.bind(I,I):_(e.get)?e.get.bind(I,I):C,set:!_(e)&&_(e.set)?e.set.bind(I):C});Object.defineProperty(j,x,{enumerable:!0,configurable:!0,get:()=>t.value,set:e=>t.value=e})}var z;if(p&&r.push(p),!a&&r.length&&r.forEach((e=>{for(const t in e)Ir(e[t],j,I,t)})),d&&o.push(d),!a&&o.length&&o.forEach((e=>{const t=_(e)?e.call(I):e;Reflect.ownKeys(t).forEach((e=>{Lr(e,t[e])}))})),a&&(h&&O(e.components||(e.components=O({},e.type.components)),h),m&&O(e.directives||(e.directives=O({},e.type.directives)),m)),a||Er("created","c",t,e,P),g&&Sn(g.bind(I)),v&&Cn(v.bind(I)),y&&Mn(y.bind(I)),k&&Tn(k.bind(I)),b&&Pn(b.bind(I),"a",z),w&&function(e,t){Pn(e,"da",t)}(w.bind(I)),D&&((e,t=Hr)=>{wn("ec",e,t)})(D.bind(I)),R&&Rn(R.bind(I)),E&&On(E.bind(I)),M&&Ln(M.bind(I)),L&&An(L.bind(I)),F(N)&&!a)if(N.length){const t=e.exposed||(e.exposed=kt({}));N.forEach((e=>{t[e]=function(e,t){return dt(e[t])?e[t]:new bt(e,t)}(I,e)}))}else e.exposed||(e.exposed=x)}function Er(e,t,n,r,o){for(let a=0;a<o.length;a++)Dr(e,t,o[a],r);Dr(e,t,n,r)}function Dr(e,t,n,r){const{extends:o,mixins:a}=n,i=n[e];if(o&&Dr(e,t,o,r),a)for(let s=0;s<a.length;s++)Dr(e,t,a[s],r);i&&St(i.bind(r.proxy),r,t)}function Fr(e,t,n,r,o){for(let a=0;a<t.length;a++)Rr(e,t[a],n,r,o,!0)}function Nr(e,t,n){Or=!1;const r=t.call(n,n);Or=!0,B(r)&&(e.data===x?e.data=ot(r):O(e.data,r))}function Ir(e,t,n,r){const o=r.includes(".")?function(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}(n,r):()=>n[r];if(P(e)){const n=t[e];_(n)&&Fn(o,n)}else if(_(e))Fn(o,e.bind(n));else if(B(e))if(F(e))e.forEach((e=>Ir(e,t,n,r)));else{const r=_(e.handler)?e.handler.bind(n):t[e.handler];_(r)&&Fn(o,r,e)}}function jr(e,t,n){const r=n.appContext.config.optionMergeStrategies,{mixins:o,extends:a}=t;a&&jr(e,a,n),o&&o.forEach((t=>jr(e,t,n)));for(const i in t)r&&D(r,i)?e[i]=r[i](e[i],t[i],n.proxy,i):e[i]=t[i]}const _r=e=>e?qr(e)?e.exposed?e.exposed:e.proxy:_r(e.parent):null,Pr=O(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>_r(e.parent),$root:e=>_r(e.root),$emit:e=>e.emit,$options:e=>function(e){const t=e.type,{__merged:n,mixins:r,extends:o}=t;if(n)return n;const a=e.appContext.mixins;if(!a.length&&!r&&!o)return t;const i={};return a.forEach((t=>jr(i,t,e))),jr(i,t,e),t.__merged=i}(e),$forceUpdate:e=>()=>zt(e.update),$nextTick:e=>Pt.bind(e.proxy),$watch:e=>In.bind(e)}),zr={get({_:e},t){const{ctx:n,setupState:r,data:o,props:a,accessCache:i,type:s,appContext:l}=e;if("__v_skip"===t)return!0;let c;if("$"!==t[0]){const s=i[t];if(void 0!==s)switch(s){case 0:return r[t];case 1:return o[t];case 3:return n[t];case 2:return a[t]}else{if(r!==x&&D(r,t))return i[t]=0,r[t];if(o!==x&&D(o,t))return i[t]=1,o[t];if((c=e.propsOptions[0])&&D(c,t))return i[t]=2,a[t];if(n!==x&&D(n,t))return i[t]=3,n[t];Or&&(i[t]=4)}}const u=Pr[t];let p,d;return u?("$attrs"===t&&ve(e,0,t),u(e)):(p=s.__cssModules)&&(p=p[t])?p:n!==x&&D(n,t)?(i[t]=3,n[t]):(d=l.config.globalProperties,D(d,t)?d[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:a}=e;if(o!==x&&D(o,t))o[t]=n;else if(r!==x&&D(r,t))r[t]=n;else if(D(e.props,t))return!1;return("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:a}},i){let s;return void 0!==n[i]||e!==x&&D(e,i)||t!==x&&D(t,i)||(s=a[0])&&D(s,i)||D(r,i)||D(Pr,i)||D(o.config.globalProperties,i)}},Br=O({},zr,{get(e,t){if(t!==Symbol.unscopables)return zr.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!p(t)}),Wr=Gn();let Ur=0;let Hr=null;const Vr=()=>Hr||Qt,$r=e=>{Hr=e};function qr(e){return 4&e.vnode.shapeFlag}let Gr=!1;function Kr(e,t,n){_(t)?e.render=t:B(t)&&(e.setupState=kt(t)),Yr(e)}function Yr(e,t){const n=e.type;e.render||(e.render=n.render||C,e.render._rc&&(e.withProxy=new Proxy(e.ctx,Br))),Hr=e,me(),Rr(e,n),ge(),Hr=null}function Xr(e,t=Hr){t&&(t.effects||(t.effects=[])).push(e)}function Jr(e){return _(e)&&e.displayName||e.name}function Zr(e){const t=function(e){let t,n;return _(e)?(t=e,n=C):(t=e.get,n=e.set),new wt(t,n,_(e)||!e.set)}(e);return Xr(t.effect),t}function Qr(e,t,n){const r=arguments.length;return 2===r?B(t)&&!F(t)?mr(t)?br(e,null,[t]):br(e,t):br(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&mr(n)&&(n=[n]),br(e,t,n))}function eo(e,t){let n;if(F(e)||P(e)){n=new Array(e.length);for(let r=0,o=e.length;r<o;r++)n[r]=t(e[r],r)}else if("number"==typeof e){n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r)}else if(B(e))if(e[Symbol.iterator])n=Array.from(e,t);else{const r=Object.keys(e);n=new Array(r.length);for(let o=0,a=r.length;o<a;o++){const a=r[o];n[o]=t(e[a],a,o)}}else n=[];return n}const to="3.0.11",no="http://www.w3.org/2000/svg",ro="undefined"!=typeof document?document:null;let oo,ao;const io={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?ro.createElementNS(no,e):ro.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&o.setAttribute("multiple",r.multiple),o},createText:e=>ro.createTextNode(e),createComment:e=>ro.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ro.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r){const o=r?ao||(ao=ro.createElementNS(no,"svg")):oo||(oo=ro.createElement("div"));o.innerHTML=e;const a=o.firstChild;let i=a,s=i;for(;i;)s=i,io.insert(i,t,n),i=o.firstChild;return[a,s]}};const so=/\s*!important$/;function lo(e,t,n){if(F(n))n.forEach((n=>lo(e,t,n)));else if(t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=uo[t];if(n)return n;let r=Y(t);if("filter"!==r&&r in e)return uo[t]=r;r=Z(r);for(let o=0;o<co.length;o++){const n=co[o]+r;if(n in e)return uo[t]=n}return t}(e,t);so.test(n)?e.setProperty(J(r),n.replace(so,""),"important"):e[r]=n}}const co=["Webkit","Moz","ms"],uo={};const po="http://www.w3.org/1999/xlink";let fo=Date.now,ho=!1;if("undefined"!=typeof window){fo()>document.createEvent("Event").timeStamp&&(fo=()=>performance.now());const e=navigator.userAgent.match(/firefox\/(\d+)/i);ho=!!(e&&Number(e[1])<=53)}let mo=0;const go=Promise.resolve(),vo=()=>{mo=0};function yo(e,t,n,r){e.addEventListener(t,n,r)}function ko(e,t,n,r,o=null){const a=e._vei||(e._vei={}),i=a[t];if(r&&i)i.value=r;else{const[n,s]=function(e){let t;if(bo.test(e)){let n;for(t={};n=e.match(bo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[J(e.slice(2)),t]}(t);if(r){yo(e,n,a[t]=function(e,t){const n=e=>{const r=e.timeStamp||fo();(ho||r>=n.attached-1)&&St(function(e,t){if(F(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=(()=>mo||(go.then(vo),mo=fo()))(),n}(r,o),s)}else i&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,i,s),a[t]=void 0)}}const bo=/(?:Once|Passive|Capture)$/;const wo=/^on[a-z]/;const xo=e=>{const t=e.props["onUpdate:modelValue"];return F(t)?e=>te(t,e):t};function So(e){e.target.composing=!0}function Co(e){const t=e.target;t.composing&&(t.composing=!1,function(e,t){const n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}(t,"input"))}const Mo={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=xo(o);const a=r||"number"===e.type;yo(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n?r=r.trim():a&&(r=re(r)),e._assign(r)})),n&&yo(e,"change",(()=>{e.value=e.value.trim()})),t||(yo(e,"compositionstart",So),yo(e,"compositionend",Co),yo(e,"change",Co))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{trim:n,number:r}},o){if(e._assign=xo(o),e.composing)return;if(document.activeElement===e){if(n&&e.value.trim()===t)return;if((r||"number"===e.type)&&re(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}},To={created(e,t,n){e._assign=xo(n),yo(e,"change",(()=>{const t=e._modelValue,n=function(e){return"_value"in e?e._value:e.value}(e),r=e.checked,o=e._assign;if(F(t)){const e=k(t,n),a=-1!==e;if(r&&!a)o(t.concat(n));else if(!r&&a){const n=[...t];n.splice(e,1),o(n)}}else if(I(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(Ao(e,r))}))},mounted:Lo,beforeUpdate(e,t,n){e._assign=xo(n),Lo(e,t,n)}};function Lo(e,{value:t,oldValue:n},r){e._modelValue=t,F(t)?e.checked=k(t,r.props.value)>-1:I(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=y(t,Ao(e,!0)))}function Ao(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Oo={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ro=(e,t)=>n=>{if(!("key"in n))return;const r=J(n.key);return t.some((e=>e===r||Oo[e]===r))?e(n):void 0},Eo={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Do(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Do(e,!0),r.enter(e)):r.leave(e,(()=>{Do(e,!1)})):Do(e,t))},beforeUnmount(e,{value:t}){Do(e,t)}};function Do(e,t){e.style.display=t?e._vod:"none"}const Fo=O({patchProp:(e,t,n,r,o=!1,a,i,s,l)=>{switch(t){case"class":!function(e,t,n){if(null==t&&(t=""),n)e.setAttribute("class",t);else{const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),e.className=t}}(e,r,o);break;case"style":!function(e,t,n){const r=e.style;if(n)if(P(n)){if(t!==n){const t=r.display;r.cssText=n,"_vod"in e&&(r.display=t)}}else{for(const e in n)lo(r,e,n[e]);if(t&&!P(t))for(const e in t)null==n[e]&&lo(r,e,"")}else e.removeAttribute("style")}(e,n,r);break;default:L(t)?A(t)||ko(e,t,0,r,i):function(e,t,n,r){if(r)return"innerHTML"===t||!!(t in e&&wo.test(t)&&_(n));if("spellcheck"===t||"draggable"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if(wo.test(t)&&P(n))return!1;return t in e}(e,t,r,o)?function(e,t,n,r,o,a,i){if("innerHTML"===t||"textContent"===t)return r&&i(r,o,a),void(e[t]=null==n?"":n);if("value"!==t||"PROGRESS"===e.tagName){if(""===n||null==n){const r=typeof e[t];if(""===n&&"boolean"===r)return void(e[t]=!0);if(null==n&&"string"===r)return e[t]="",void e.removeAttribute(t);if("number"===r)return e[t]=0,void e.removeAttribute(t)}try{e[t]=n}catch(s){}}else{e._value=n;const t=null==n?"":n;e.value!==t&&(e.value=t)}}(e,t,r,a,i,s,l):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),function(e,t,n,r){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(po,t.slice(6,t.length)):e.setAttributeNS(po,t,n);else{const r=d(t);null==n||r&&!1===n?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}(e,t,r,o))}},forcePatchProp:(e,t)=>"value"===t},io);let No;var Io=(e,t,n)=>{const r=n.createElement(e);for(const o of Object.keys(t)){let e=t[o];"key"!==o&&!1!==e&&("children"===o?r.textContent=e:r.setAttribute(o,e))}return r},jo=()=>{const e=Ar("usehead");if(!e)throw new Error("You may forget to apply app.use(head)");return e},_o=["title","meta","link","base","style","script","htmlAttrs","bodyAttrs"],Po=(e,t)=>{const n=e.getAttribute("data-head-attrs");if(n)for(const o of n.split(","))e.removeAttribute(o);const r=[];for(const o in t){const n=t[o];null!=n&&(!1===n?e.removeAttribute(o):e.setAttribute(o,n),r.push(o))}r.length?e.setAttribute("data-head-attrs",r.join(",")):e.removeAttribute("data-head-attrs")},zo="undefined"!=typeof window;function Bo(...e){return Zr((()=>e.every((e=>vt(e)))))}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Wo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}Xn({name:"Head",setup(e,{slots:t}){const n=jo();let r;return Ln((()=>{r&&(n.removeHeadObjs(r),n.updateDOM())})),()=>(En((()=>{t.default&&(r&&n.removeHeadObjs(r),r=ft((e=>{const t={title:void 0,htmlAttrs:void 0,bodyAttrs:void 0,base:void 0,meta:[],link:[],style:[],script:[]};for(const n of e){const e="html"===n.type?"htmlAttrs":"body"===n.type?"bodyAttrs":n.type;if("string"!=typeof e||!(e in t))continue;const r=l(s({},n.props),{children:Array.isArray(n.children)?n.children[0].children:n.children});Array.isArray(t[e])?t[e].push(r):"title"===e?t.title=r.children:t[e]=r}return t})(t.default())),n.addHeadObjs(r),zo&&n.updateDOM())})),null)}});const Uo="undefined"!=typeof window,Ho=Object.prototype.toString,Vo=e=>"string"==typeof e,$o=e=>"[object Object]"===Ho.call(e),qo=()=>{};const Go=e=>e();function Ko(e,t=!0){let n,r=0;const o=()=>{n&&(clearTimeout(n),n=void 0)};return a=>{const i=vt(e),s=Date.now()-r;if(o(),i<=0)return r=Date.now(),a();s>i?(r=Date.now(),a()):t&&(n=setTimeout((()=>{o(),a()}),i))}}function Yo(e,t,n={}){const{eventFilter:r=Go}=n,o=Wo(n,["eventFilter"]);return Fn(e,(a=r,i=t,function(...e){a((()=>i.apply(this,e)),{fn:i,thisArg:this,args:e})}),o);var a,i}function Xo(e){return Zr((()=>!vt(e)))}function Jo(e,t,n={}){const{eventFilter:r}=n,o=Wo(n,["eventFilter"]),{eventFilter:a,pause:i,resume:s,isActive:l}=function(e=Go){const t=ft(!0);return{isActive:t,pause:function(){t.value=!1},resume:function(){t.value=!0},eventFilter:(...n)=>{t.value&&e(...n)}}}(r);return{stop:Yo(e,t,Object.assign(Object.assign({},o),{eventFilter:a})),pause:i,resume:s,isActive:l}}function Zo(e){Vr()&&An(e)}function Qo(e=!1){if(dt(e))return()=>e.value=!e.value;{const t=ft(e),n=()=>t.value=!t.value;return[t,n]}}function ea(e,t,n){return Fn(e,(e=>{e&&t()}),n)}const ta=Uo?window:void 0,na=Uo?window.document:void 0,ra=Uo?window.navigator:void 0;function oa(e){var t,n;const r=vt(e);return null!==(n=null===(t=r)||void 0===t?void 0:t.$el)&&void 0!==n?n:r}function aa(...e){let t,n,r,o;if(Vo(e[0])?([n,r,o]=e,t=ta):[t,n,r,o]=e,!t)return qo;let a=qo;const i=Fn((()=>vt(t)),(e=>{a(),e&&(e.addEventListener(n,r,o),a=()=>{e.removeEventListener(n,r,o),a=qo})}),{immediate:!0,flush:"post"}),s=()=>{i(),a()};return Zo(s),s}const ia=["mousedown","touchstart","pointerdown"];function sa(e,t={}){const{window:n=ta}=t;if(!n)return ft(!1);const r=n.matchMedia(e),o=ft(r.matches),a=e=>{o.value=e.matches};return"addEventListener"in r?r.addEventListener("change",a):r.addListener(a),Zo((()=>{"removeEventListener"in r?r.removeEventListener("change",a):r.removeListener(a)})),o}const la={boolean:{read:(e,t)=>null!=e?"true"===e:t,write:e=>String(e)},object:{read:(e,t)=>e?JSON.parse(e):t,write:e=>JSON.stringify(e)},number:{read:(e,t)=>null!=e?Number.parseFloat(e):t,write:e=>String(e)},any:{read:(e,t)=>null!=e?e:t,write:e=>String(e)},string:{read:(e,t)=>null!=e?e:t,write:e=>String(e)}};function ca(e,t,n=(null==ta?void 0:ta.localStorage),r={}){const{flush:o="pre",deep:a=!0,listenToStorageChanges:i=!0,window:s=ta,eventFilter:l}=r,c=ft(t),u=null==t?"any":"boolean"==typeof t?"boolean":"string"==typeof t?"string":"object"==typeof t||Array.isArray(t)?"object":Number.isNaN(t)?"any":"number";function p(){if(n)try{let r=n.getItem(e);null==r&&t&&(r=la[u].write(t),n.setItem(e,r)),c.value=la[u].read(r,t)}catch(r){console.warn(r)}}return p(),s&&i&&aa(s,"storage",p),Yo(c,(()=>{if(n)try{null==c.value?n.removeItem(e):n.setItem(e,la[u].write(c.value))}catch(t){console.warn(t)}}),{flush:o,deep:a,eventFilter:l}),c}function ua(e,t,n={}){const{window:r=ta}=n,o=
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(n,["window"]);let a;const i=r&&"ResizeObserver"in r,s=()=>{a&&(a.disconnect(),a=void 0)},l=Fn((()=>oa(e)),(e=>{s(),i&&r&&e&&(a=new r.ResizeObserver(t),a.observe(e,o))}),{immediate:!0,flush:"post"}),c=()=>{s(),l()};return Zo(c),{isSupported:i,stop:c}}function pa(e){return function(e,...t){return t.some((t=>t in e))}(e,"immediate","refetch","beforeFetch")}const da=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];const fa={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};var ha,ma;function ga(e,t={}){const{threshold:n=50,onSwipe:r,onSwipeEnd:o,onSwipeStart:a,passive:i=!0,window:s=ta}=t,l=ot({x:0,y:0}),c=ot({x:0,y:0}),u=Zr((()=>l.x-c.x)),p=Zr((()=>l.y-c.y)),{max:d,abs:f}=Math,h=Zr((()=>d(f(u.value),f(p.value))>=n)),m=ft(!1),g=Zr((()=>h.value?f(u.value)>f(p.value)?u.value>0?ha.LEFT:ha.RIGHT:p.value>0?ha.UP:ha.DOWN:ha.NONE)),v=e=>[e.touches[0].clientX,e.touches[0].clientY],y=(e,t)=>{c.x=e,c.y=t};let k;const b=function(e){if(!e)return!1;let t=!1;const n={get passive(){return t=!0,!1}};return e.addEventListener("x",qo,n),e.removeEventListener("x",qo),t}(null==s?void 0:s.document);k=i?b?{passive:!0}:{capture:!1}:b?{passive:!1,capture:!0}:{capture:!0};const w=[aa(e,"touchstart",(e=>{k.capture&&!k.passive&&e.preventDefault();const[t,n]=v(e);((e,t)=>{l.x=e,l.y=t})(t,n),y(t,n),null==a||a(e)}),k),aa(e,"touchmove",(e=>{const[t,n]=v(e);y(t,n),!m.value&&h.value&&(m.value=!0),m.value&&(null==r||r(e))}),k),aa(e,"touchend",(e=>{m.value&&(null==o||o(e,g.value)),m.value=!1}),k)];return{isPassiveEventSupported:b,isSwiping:m,direction:g,coordsStart:l,coordsEnd:c,lengthX:u,lengthY:p,stop:()=>w.forEach((e=>e()))}}function va(e,t,n,r={}){var o;const{passive:a=!1,eventName:i}=r,s=Vr(),l=n||(null==s?void 0:s.emit)||(null===(o=null==s?void 0:s.$emit)||void 0===o?void 0:o.bind(s));let c=i;if(t||(t="modelValue"),c=i||c||`update:${t}`,a){const n=ft(e[t]);return Fn((()=>e[t]),(e=>n.value=e)),Fn(n,(n=>{n!==e[t]&&l(c,n)})),n}return Zr({get:()=>e[t],set(e){l(c,e)}})}(ma=ha||(ha={})).UP="UP",ma.RIGHT="RIGHT",ma.DOWN="DOWN",ma.LEFT="LEFT",ma.NONE="NONE";const ya=ft(!1),ka=ft(!1),ba=ft(!1),wa=ft(!1),xa=ft(!0),Sa=function(e="history",t={}){const{window:n=ta}=t;if(!n)return ot(Object.assign({}));const r=Zr((()=>{const e=n.location.hash||"",t=e.indexOf("?");return t>0?e.substring(0,t):e})),o=()=>{if("hash"===e){const e=n.location.hash||"",t=e.indexOf("?");return new URLSearchParams(t>=0?e.substring(t+1):"")}return new URLSearchParams(n.location.search||"")};let a=o();const i=ot(Object.assign({}));function s(e,t){return i[e]=t}function l(){Object.keys(i).forEach((e=>delete i[e]));for(const e of a.keys()){const t=a.getAll(e);s(e,t.length>1?t:a.get(e)||"")}}l();const{pause:c,resume:u}=Jo(i,(()=>{a=new URLSearchParams(""),Object.keys(i).forEach((e=>{const t=i[e];Array.isArray(t)?t.forEach((t=>a.append(e,t))):a.set(e,t)})),p(a)}),{deep:!0});function p(t,o){c(),o&&l();const a=!t.keys().next()?r.value:"hash"===e?`${r.value}?${t}`:`?${t}${r.value}`;n&&n.history.replaceState({},"",n.location.pathname+a),u()}return aa(n,"popstate",(()=>{a=o(),p(a,!0)})),i}(),Ca=function(e,t={}){function n(t,n){let r=e[t];return null!=n&&(r=function(e,t){var n;if("number"==typeof e)return e+t;const r=(null===(n=e.match(/^-?[0-9]+\.?[0-9]*/))||void 0===n?void 0:n[0])||"",o=e.slice(r.length),a=parseFloat(r)+t;return Number.isNaN(a)?e:a+o}(r,n)),"number"==typeof r&&(r=`${r}px`),r}const{window:r=ta}=t;function o(e){return!!r&&r.matchMedia(e).matches}return{greater:e=>sa(`(min-width: ${n(e)})`,t),smaller:e=>sa(`(max-width: ${n(e,-.1)})`,t),between:(e,r)=>sa(`(min-width: ${n(e)}) and (max-width: ${n(r,-.1)})`,t),isGreater:e=>o(`(min-width: ${n(e)})`),isSmaller:e=>o(`(max-width: ${n(e,-.1)})`),isInBetween:(e,t)=>o(`(min-width: ${n(e)}) and (max-width: ${n(t,-.1)})`)}}({sm:640,md:768,lg:1024,xl:1280,"2xl":1536}),Ma=function({window:e=ta,initialWidth:t=1/0,initialHeight:n=1/0}={}){if(!e)return{width:ft(t),height:ft(n)};const r=ft(e.innerWidth),o=ft(e.innerHeight);return aa("resize",(()=>{r.value=e.innerWidth,o.value=e.innerHeight}),{passive:!0}),{width:r,height:o}}(),Ta=function(e={}){const{reactive:t=!1,target:n=ta,aliasMap:r=fa,passive:o=!0,onEventFired:a=qo}=e,i=ot(new Set),s={toJSON:()=>({}),current:i},l=t?ot(s):s;function c(e,n){const r=e.key.toLowerCase(),o=[e.code.toLowerCase(),r];n?i.add(e.code):i.delete(e.code);for(const a of o)a in l&&(t?l[a]=n:l[a].value=n)}n&&(aa(n,"keydown",(e=>(c(e,!0),a(e))),{passive:o}),aa(n,"keyup",(e=>(c(e,!1),a(e))),{passive:o}));const u=new Proxy(l,{get(e,n,o){if("string"!=typeof n)return Reflect.get(e,n,o);if((n=n.toLowerCase())in r&&(n=r[n]),!(n in l))if(/[+_-]/.test(n)){const e=n.split(/[+_-]/g).map((e=>e.trim()));l[n]=Zr((()=>e.every((e=>vt(u[e])))))}else l[n]=ft(!1);const a=Reflect.get(e,n,o);return t?vt(a):a}});return u}(),La=Zr((()=>Ma.width.value<=Ma.height.value)),Aa=function(e,t={}){const{document:n=na}=t,r=ft(e||(null==n?void 0:n.querySelector("html"))),o=ft(!1);let a=!1,i=da[0];if(n){for(const f of da)if(f[1]in n){i=f,a=!0;break}}else a=!1;const[s,l,c,,u]=i;async function p(){a&&((null==n?void 0:n[c])&&await n[l](),o.value=!1)}async function d(){a&&(await p(),r.value&&(await r.value[s](),o.value=!0))}return n&&aa(n,u,(()=>{o.value=!!(null==n?void 0:n[c])}),!1),{isSupported:a,isFullscreen:o,enter:d,exit:p,toggle:async function(){o.value?await p():await d()}}}(Uo?document.body:null),Oa=function(e={}){const{window:t=ta}=e,n=ft(0);return t&&(aa(t,"blur",(()=>n.value+=1),!0),aa(t,"focus",(()=>n.value+=1),!0)),Zr((()=>(n.value,null==t?void 0:t.document.activeElement)))}(),Ra=Zr((()=>{var e,t;return["INPUT","TEXTAREA"].includes((null==(e=Oa.value)?void 0:e.tagName)||"")||(null==(t=Oa.value)?void 0:t.classList.contains("CodeMirror-code"))})),Ea=Zr((()=>{var e;return["BUTTON","A"].includes((null==(e=Oa.value)?void 0:e.tagName)||"")})),Da=ca("slidev-camera","default"),Fa=ca("slidev-mic","default"),Na=ca("slidev-scale",null),Ia=ca("slidev-show-editor",!1),ja=ca("slidev-editor-width",Uo?.4*window.innerWidth:100),_a=Zr((()=>null!=Sa.print)),Pa=Qo(ya),za="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Ba=e=>za?Symbol(e):"_vr_"+e,Wa=Ba("rvlm"),Ua=Ba("rvd"),Ha=Ba("r"),Va=Ba("rl"),$a=Ba("rvl"),qa="undefined"!=typeof window;const Ga=Object.assign;function Ka(e,t){const n={};for(const r in t){const o=t[r];n[r]=Array.isArray(o)?o.map(e):e(o)}return n}let Ya=()=>{};const Xa=/\/$/;function Ja(e,t,n="/"){let r,o={},a="",i="";const s=t.indexOf("?"),l=t.indexOf("#",s>-1?s:0);return s>-1&&(r=t.slice(0,s),a=t.slice(s+1,l>-1?l:t.length),o=e(a)),l>-1&&(r=r||t.slice(0,l),i=t.slice(l,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let o,a,i=n.length-1;for(o=0;o<r.length;o++)if(a=r[o],1!==i&&"."!==a){if(".."!==a)break;i--}return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}(null!=r?r:t,n),{fullPath:r+(a&&"?")+a+i,path:r,query:o,hash:i}}function Za(e,t){return!t||e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"}function Qa(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ei(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!ti(e[n],t[n]))return!1;return!0}function ti(e,t){return Array.isArray(e)?ni(e,t):Array.isArray(t)?ni(t,e):e===t}function ni(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var ri,oi,ai,ii;function si(e){if(!e)if(qa){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(Xa,"")}(oi=ri||(ri={})).pop="pop",oi.push="push",(ii=ai||(ai={})).back="back",ii.forward="forward",ii.unknown="";const li=/^[^#]+#/;function ci(e,t){return e.replace(li,"#")+t}const ui=()=>({left:window.pageXOffset,top:window.pageYOffset});function pi(e){let t;if("el"in e){let n=e.el;const r="string"==typeof n&&n.startsWith("#"),o="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!o)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(o,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function di(e,t){return(history.state?history.state.position-t:-1)+e}const fi=new Map;function hi(e,t){const{pathname:n,search:r,hash:o}=t,a=e.indexOf("#");if(a>-1){let t=o.includes(e.slice(a))?e.slice(a).length:1,n=o.slice(t);return"/"!==n[0]&&(n="/"+n),Za(n,"")}return Za(n,e)+r+o}function mi(e,t,n,r=!1,o=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:o?ui():null}}function gi(e){const{history:t,location:n}=window;let r={value:hi(e,n)},o={value:t.state};function a(r,a,i){const s=e.indexOf("#"),l=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+r:location.protocol+"//"+location.host+e+r;try{t[i?"replaceState":"pushState"](a,"",l),o.value=a}catch(c){console.error(c),n[i?"replace":"assign"](l)}}return o.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:o,push:function(e,n){const i=Ga({},o.value,t.state,{forward:e,scroll:ui()});a(i.current,i,!0),a(e,Ga({},mi(r.value,e,null),{position:i.position+1},n),!1),r.value=e},replace:function(e,n){a(e,Ga({},t.state,mi(o.value.back,e,o.value.forward,!0),n,{position:o.value.position}),!0),r.value=e}}}function vi(e){return"string"==typeof e||"symbol"==typeof e}const yi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},ki=Ba("nf");var bi,wi;function xi(e,t){return Ga(new Error,{type:e,[ki]:!0},t)}function Si(e,t){return e instanceof Error&&ki in e&&(null==t||!!(e.type&t))}(wi=bi||(bi={}))[wi.aborted=4]="aborted",wi[wi.cancelled=8]="cancelled",wi[wi.duplicated=16]="duplicated";const Ci={sensitive:!1,strict:!1,start:!0,end:!0},Mi=/[.+*?^${}()[\]/\\]/g;function Ti(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Li(e,t){let n=0;const r=e.score,o=t.score;for(;n<r.length&&n<o.length;){const e=Ti(r[n],o[n]);if(e)return e;n++}return o.length-r.length}const Ai={type:0,value:""},Oi=/[a-zA-Z0-9_]/;function Ri(e,t,n){const r=function(e,t){const n=Ga({},Ci,t);let r=[],o=n.start?"^":"";const a=[];for(const l of e){const e=l.length?[]:[90];n.strict&&!l.length&&(o+="/");for(let t=0;t<l.length;t++){const r=l[t];let i=40+(n.sensitive?.25:0);if(0===r.type)t||(o+="/"),o+=r.value.replace(Mi,"\\$&"),i+=40;else if(1===r.type){const{value:e,repeatable:n,optional:c,regexp:u}=r;a.push({name:e,repeatable:n,optional:c});const p=u||"[^/]+?";if("[^/]+?"!==p){i+=10;try{new RegExp(`(${p})`)}catch(s){throw new Error(`Invalid custom RegExp for param "${e}" (${p}): `+s.message)}}let d=n?`((?:${p})(?:/(?:${p}))*)`:`(${p})`;t||(d=c&&l.length<2?`(?:/${d})`:"/"+d),c&&(d+="?"),o+=d,i+=20,c&&(i+=-8),n&&(i+=-20),".*"===p&&(i+=-50)}e.push(i)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(o+="/?"),n.end?o+="$":n.strict&&(o+="(?:/|$)");const i=new RegExp(o,n.sensitive?"":"i");return{re:i,score:r,keys:a,parse:function(e){const t=e.match(i),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",o=a[r-1];n[o.name]=e&&o.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",r=!1;for(const o of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of o)if(0===e.type)n+=e.value;else if(1===e.type){const{value:a,repeatable:i,optional:s}=e,l=a in t?t[a]:"";if(Array.isArray(l)&&!i)throw new Error(`Provided param "${a}" is an array but it is not repeatable (* or + modifiers)`);const c=Array.isArray(l)?l.join("/"):l;if(!c){if(!s)throw new Error(`Missing required param "${a}"`);o.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n}}}(function(e){if(!e)return[[]];if("/"===e)return[[Ai]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,r=n;const o=[];let a;function i(){a&&o.push(a),a=[]}let s,l=0,c="",u="";function p(){c&&(0===n?a.push({type:0,value:c}):1===n||2===n||3===n?(a.length>1&&("*"===s||"+"===s)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),a.push({type:1,value:c,regexp:u,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function d(){c+=s}for(;l<e.length;)if(s=e[l++],"\\"!==s||2===n)switch(n){case 0:"/"===s?(c&&p(),i()):":"===s?(p(),n=1):d();break;case 4:d(),n=r;break;case 1:"("===s?n=2:Oi.test(s)?d():(p(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case 2:")"===s?"\\"==u[u.length-1]?u=u.slice(0,-1)+s:n=3:u+=s;break;case 3:p(),n=0,"*"!==s&&"?"!==s&&"+"!==s&&l--,u="";break;default:t("Unknown state")}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),p(),i(),o}(e.path),n),o=Ga(r,{record:e,parent:t,children:[],alias:[]});return t&&!o.record.aliasOf==!t.record.aliasOf&&t.children.push(o),o}function Ei(e,t){const n=[],r=new Map;function o(e,n,r){let s=!r,l=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Di(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);l.aliasOf=r&&r.record;const c=Ii(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(Ga({},l,{components:r?r.record.components:l.components,path:e,aliasOf:r?r.record:l}))}let p,d;for(const t of u){let{path:u}=t;if(n&&"/"!==u[0]){let e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&r+u)}if(p=Ri(t,n,c),r?r.alias.push(p):(d=d||p,d!==p&&d.alias.push(p),s&&e.name&&!Fi(p)&&a(e.name)),"children"in l){let e=l.children;for(let t=0;t<e.length;t++)o(e[t],p,r&&r.children[t])}r=r||p,i(p)}return d?()=>{a(d)}:Ya}function a(e){if(vi(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{let t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function i(e){let t=0;for(;t<n.length&&Li(e,n[t])>=0;)t++;n.splice(t,0,e),e.record.name&&!Fi(e)&&r.set(e.record.name,e)}return t=Ii({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:function(e,t){let o,a,i,s={};if("name"in e&&e.name){if(o=r.get(e.name),!o)throw xi(1,{location:e});i=o.record.name,s=Ga(function(e,t){let n={};for(let r of t)r in e&&(n[r]=e[r]);return n}(t.params,o.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),a=o.stringify(s)}else if("path"in e)a=e.path,o=n.find((e=>e.re.test(a))),o&&(s=o.parse(a),i=o.record.name);else{if(o=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!o)throw xi(1,{location:e,currentLocation:t});i=o.record.name,s=Ga({},t.params,e.params),a=o.stringify(s)}const l=[];let c=o;for(;c;)l.unshift(c.record),c=c.parent;return{name:i,path:a,params:s,matched:l,meta:Ni(l)}},removeRoute:a,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function Di(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(let r in e.components)t[r]="boolean"==typeof n?n:n[r];return t}function Fi(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Ni(e){return e.reduce(((e,t)=>Ga(e,t.meta)),{})}function Ii(e,t){let n={};for(let r in e)n[r]=r in t?t[r]:e[r];return n}const ji=/#/g,_i=/&/g,Pi=/\//g,zi=/=/g,Bi=/\?/g,Wi=/\+/g,Ui=/%5B/g,Hi=/%5D/g,Vi=/%5E/g,$i=/%60/g,qi=/%7B/g,Gi=/%7C/g,Ki=/%7D/g,Yi=/%20/g;function Xi(e){return encodeURI(""+e).replace(Gi,"|").replace(Ui,"[").replace(Hi,"]")}function Ji(e){return Xi(e).replace(Wi,"%2B").replace(Yi,"+").replace(ji,"%23").replace(_i,"%26").replace($i,"`").replace(qi,"{").replace(Ki,"}").replace(Vi,"^")}function Zi(e){return function(e){return Xi(e).replace(ji,"%23").replace(Bi,"%3F")}(e).replace(Pi,"%2F")}function Qi(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function es(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(Wi," ");let o=e.indexOf("="),a=Qi(o<0?e:e.slice(0,o));if(Object.prototype.hasOwnProperty(a))continue;let i=o<0?null:Qi(e.slice(o+1));if(a in t){let e=t[a];Array.isArray(e)||(e=t[a]=[e]),e.push(i)}else t[a]=i}return t}function ts(e){let t="";for(let n in e){const r=e[n];if(n=Ji(n).replace(zi,"%3D"),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}(Array.isArray(r)?r.map((e=>e&&Ji(e))):[r&&Ji(r)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function ns(e){const t={};for(let n in e){let r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}function rs(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function os(e,t,n,r,o){const a=r&&(r.enterCallbacks[o]=r.enterCallbacks[o]||[]);return()=>new Promise(((i,s)=>{const l=e=>{var l;!1===e?s(xi(4,{from:n,to:t})):e instanceof Error?s(e):"string"==typeof(l=e)||l&&"object"==typeof l?s(xi(2,{from:t,to:e})):(a&&r.enterCallbacks[o]===a&&"function"==typeof e&&a.push(e),i())},c=e.call(r&&r.instances[o],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch((e=>s(e)))}))}function as(e,t,n,r){const o=[];for(const i of e)for(const e in i.components){let s=i.components[e];if("beforeRouteEnter"===t||i.instances[e])if("object"==typeof(a=s)||"displayName"in a||"props"in a||"__vccOpts"in a){const a=(s.__vccOpts||s)[t];a&&o.push(os(a,n,r,i,e))}else{let a=s();a=a.catch(console.error),o.push((()=>a.then((o=>{if(!o)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${i.path}"`));const a=(s=o).__esModule||za&&"Module"===s[Symbol.toStringTag]?o.default:o;var s;i.components[e]=a;const l=(a.__vccOpts||a)[t];return l&&os(l,n,r,i,e)()}))))}}var a;return o}function is(e){const t=Ar(Ha),n=Ar(Va),r=Zr((()=>t.resolve(vt(e.to)))),o=Zr((()=>{let{matched:e}=r.value,{length:t}=e;const o=e[t-1];let a=n.matched;if(!o||!a.length)return-1;let i=a.findIndex(Qa.bind(null,o));if(i>-1)return i;let s=ls(e[t-2]);return t>1&&ls(o)===s&&a[a.length-1].path!==s?a.findIndex(Qa.bind(null,e[t-2])):i})),a=Zr((()=>o.value>-1&&function(e,t){for(let n in t){let r=t[n],o=e[n];if("string"==typeof r){if(r!==o)return!1}else if(!Array.isArray(o)||o.length!==r.length||r.some(((e,t)=>e!==o[t])))return!1}return!0}(n.params,r.value.params))),i=Zr((()=>o.value>-1&&o.value===n.matched.length-1&&ei(n.params,r.value.params)));return{route:r,href:Zr((()=>r.value.href)),isActive:a,isExactActive:i,navigate:function(n={}){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)?t[vt(e.replace)?"replace":"push"](vt(e.to)):Promise.resolve()}}}const ss=Xn({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup(e,{slots:t}){const n=ot(is(e)),{options:r}=Ar(Ha),o=Zr((()=>({[cs(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[cs(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const r=t.default&&t.default(n);return e.custom?r:Qr("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:o.value},r)}}});function ls(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const cs=(e,t,n)=>null!=e?e:null!=t?t:n;function us(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const ps=Xn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:t,slots:n}){const r=Ar($a),o=Zr((()=>e.route||r.value)),a=Ar(Ua,0),i=Zr((()=>o.value.matched[a]));Lr(Ua,a+1),Lr(Wa,i),Lr($a,o);const s=ft();return Fn((()=>[s.value,i.value,e.name]),(([e,t,n],[r,o,a])=>{t&&(t.instances[n]=e,o&&o!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=o.leaveGuards),t.updateGuards.size||(t.updateGuards=o.updateGuards))),!e||!t||o&&Qa(t,o)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=o.value,a=i.value,l=a&&a.components[e.name],c=e.name;if(!l)return us(n.default,{Component:l,route:r});const u=a.props[e.name],p=u?!0===u?r.params:"function"==typeof u?u(r):u:null,d=Qr(l,Ga({},p,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(a.instances[c]=null)},ref:s}));return us(n.default,{Component:d,route:r})||d}}});function ds(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}var fs={theme:"seriph",title:"WebView - IPC 构建 APP",remoteAssets:!0,monaco:"dev",download:!1,info:!1,highlighter:"prism",colorSchema:"auto"};const hs=fs,ms=ca("slidev-color-schema",!1),gs=Zr((()=>"auto"===hs.colorSchema)),vs=Zr({get:()=>gs.value?ms.value:"dark"===hs.colorSchema,set(e){gs.value&&(ms.value=e)}}),ys=Qo(vs);Uo&&Fn(vs,(e=>{const t=document.querySelector("html");t.classList.toggle("dark",e),t.classList.toggle("light",!e)}),{immediate:!0});const ks=Bo(Xo(Ra),Xo(Ea),xa);function bs(e,t){return ea(Bo(Ta[e],ks),t,{flush:"sync"})}const ws={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},xs=br("path",{d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z",fill:"currentColor"},null,-1);var Ss={render:function(e,t){return dr(),hr("svg",ws,[xs])}};function Cs(e,t){if(!e)return!1;const n=e.indexOf(t);return n>=0&&(e.splice(n,1),!0)}function Ms(e){return Boolean(e)}const Ts=Symbol("v-click-clicks"),Ls=Symbol("v-click-clicks-elements"),As=Symbol("v-click-clicks-disabled");function Os(e,t,n){var r,o;return null!=(o=(null==(r=e.instance)?void 0:r.$).provides[t])?o:n}var Rs=Xn({expose:[],props:{width:{type:Number},clicks:{default:0},clicksElements:{default:()=>[]},clicksDisabled:{default:!1},meta:{default:()=>({})},route:{default:()=>({})},scale:{type:Number},no:{type:Number},is:{type:Object}},setup(e,{emit:t}){const n=e,r=va(n,"clicks",t),o=va(n,"clicksElements",t),a=va(n,"clicksDisabled",t);o.value=[],Lr(Ts,r),Lr(As,a),Lr(Ls,o);const i=ft(),s=function(e,t={width:0,height:0},n={}){const r=ft(t.width),o=ft(t.height);return ua(e,(([e])=>{r.value=e.contentRect.width,o.value=e.contentRect.height}),n),{width:r,height:o}}(i),l=Zr((()=>n.width?n.width:s.width.value)),c=Zr((()=>n.width?n.width/1.7777777777777777:s.height.value));n.width&&En((()=>{i.value&&(i.value.style.width=`${l.value}px`,i.value.style.height=`${c.value}px`)}));const u=Zr((()=>l.value/c.value)),p=Zr((()=>null!=n.scale?n.scale:u.value<1.7777777777777777?l.value/980:1.7777777777777777*c.value/980)),d=Zr((()=>({height:"551.25px",width:"980px",transform:`translate(-50%, -50%) scale(${p.value})`}))),f=Zr((()=>{var e,t,r,o;const a=null!=(o=n.no)?o:null==(r=null==(t=null==(e=n.route)?void 0:e.meta)?void 0:t.slide)?void 0:r.no;return null!=a?`slidev-page-${a}`:""}));return(t,r)=>(dr(),hr("div",{id:"slide-container",ref:i},[br("div",{id:"slide-content",style:vt(d)},[Jt(t.$slots,"default",{},(()=>{return[(dr(),hr((t=n.is||e.route.component,P(t)?or("components",t,!1)||t:t||rr),{class:vt(f)},null,8,["class"]))];var t}))],4),Jt(t.$slots,"controls")],512))}});const Es={class:"slides-overview bg-main !bg-opacity-75 p-16 overflow-y-auto"};var Ds=Xn({expose:[],props:{modelValue:{type:Boolean,required:!0}},setup(e,{emit:t}){const n=va(e,"modelValue",t);function r(){n.value=!1}const o=Ca.smaller("sm"),a=Ca.smaller("md"),i=Zr((()=>o.value?Ma.width.value-128:a.value?(Ma.width.value-128-32)/2:300));return(e,t)=>{const o=Ss;return dr(),hr(ir,null,[$n(br("div",Es,[br("div",{class:"grid gap-y-4 gap-x-8 w-full",style:`grid-template-columns: repeat(auto-fit,minmax(${vt(i)}px,1fr))`},[(dr(!0),hr(ir,null,eo(vt(od).slice(0,-1),((e,t)=>(dr(),hr("div",{key:e.path,class:"relative"},[br("div",{class:"inline-block border border-gray-400 rounded border-opacity-50 overflow-hidden bg-main hover:border-primary",onClick:t=>(Td(+e.path),void r())},[br(Rs,{key:e.path,width:vt(i),route:e,"clicks-disabled":!0,class:"pointer-events-none"},null,8,["width","route"])],8,["onClick"]),br("div",{class:"absolute top-0 opacity-50",style:`left: ${vt(i)+5}px`},b(t+1),5)])))),128))],4)],512),[[Eo,vt(n)]]),vt(n)?(dr(),hr("button",{key:0,class:"fixed text-2xl top-4 right-4 icon-btn text-gray-400",onClick:r},[br(o)])):Sr("v-if",!0)],64)}}}),Fs="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ns={exports:{}};!function(e){
/**
   * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. 
   * @summary Record audio, video or screen inside the browser.
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @typedef RecordRTC
   * @class
   * @example
   * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {
   *     type: 'video', // audio or video or gif or canvas
   *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc
   * });
   * recorder.startRecording();
   * @see For further information:
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
   * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}
   */
function t(e,o){if(!e)throw"First parameter is required.";o=new n(e,o=o||{type:"video"});var a=this;function i(t){t&&(o.initCallback=function(){t(),t=o.initCallback=null});var n=new r(e,o);(f=new n(e,o)).record(),d("recording"),o.disableLogs||console.log("Initialized recorderType:",f.constructor.name,"for output-type:",o.type)}function s(e){if(e=e||function(){},f){if("paused"===a.state)return a.resumeRecording(),void setTimeout((function(){s(e)}),1);"recording"===a.state||o.disableLogs||console.warn('Recording state should be: "recording", however current state is: ',a.state),o.disableLogs||console.log("Stopped recording "+o.type+" stream."),"gif"!==o.type?f.stop(t):(f.stop(),t()),d("stopped")}else m();function t(t){if(f){Object.keys(f).forEach((function(e){"function"!=typeof f[e]&&(a[e]=f[e])}));var n=f.blob;if(!n){if(!t)throw"Recording failed.";f.blob=n=t}if(n&&!o.disableLogs&&console.log(n.type,"->",v(n.size)),e){var r;try{r=u.createObjectURL(n)}catch(i){}"function"==typeof e.call?e.call(a,r):e(r)}o.autoWriteToDisk&&c((function(e){var t={};t[o.type+"Blob"]=e,O.Store(t)}))}else"function"==typeof e.call?e.call(a,""):e("")}}function l(e){postMessage((new FileReaderSync).readAsDataURL(e))}function c(e,t){if(!e)throw"Pass a callback function over getDataURL.";var n=t?t.blob:(f||{}).blob;if(!n)return o.disableLogs||console.warn("Blob encoder did not finish its job yet."),void setTimeout((function(){c(e,t)}),1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var r=new FileReader;r.readAsDataURL(n),r.onload=function(t){e(t.target.result)}}else{var a=function(e){try{var t=u.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return u.revokeObjectURL(t),n}catch(r){}}(l);a.onmessage=function(t){e(t.data)},a.postMessage(n)}}function p(e){e=e||0,"paused"!==a.state?"stopped"!==a.state&&(e>=a.recordingDuration?s(a.onRecordingStopped):(e+=1e3,setTimeout((function(){p(e)}),1e3))):setTimeout((function(){p(e)}),1e3)}function d(e){a&&(a.state=e,"function"==typeof a.onStateChanged.call?a.onStateChanged.call(a,e):a.onStateChanged(e))}var f,h='It seems that recorder is destroyed or "startRecording" is not invoked for '+o.type+" recorder.";function m(){!0!==o.disableLogs&&console.warn(h)}var g={startRecording:function(t){return o.disableLogs||console.log("RecordRTC version: ",a.version),t&&(o=new n(e,t)),o.disableLogs||console.log("started recording "+o.type+" stream."),f?(f.clearRecordedData(),f.record(),d("recording"),a.recordingDuration&&p(),a):(i((function(){a.recordingDuration&&p()})),a)},stopRecording:s,pauseRecording:function(){f?"recording"===a.state?(d("paused"),f.pause(),o.disableLogs||console.log("Paused recording.")):o.disableLogs||console.warn("Unable to pause the recording. Recording state: ",a.state):m()},resumeRecording:function(){f?"paused"===a.state?(d("recording"),f.resume(),o.disableLogs||console.log("Resumed recording.")):o.disableLogs||console.warn("Unable to resume the recording. Recording state: ",a.state):m()},initRecorder:i,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return a.recordingDuration=e,a.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){a.onRecordingStopped=e}}},clearRecordedData:function(){f?(f.clearRecordedData(),o.disableLogs||console.log("Cleared old recorded data.")):m()},getBlob:function(){if(f)return f.blob;m()},getDataURL:c,toURL:function(){if(f)return u.createObjectURL(f.blob);m()},getInternalRecorder:function(){return f},save:function(e){f?y(f.blob,e):m()},getFromDisk:function(e){f?t.getFromDisk(o.type,e):m()},setAdvertisementArray:function(e){o.advertisement=[];for(var t=e.length,n=0;n<t;n++)o.advertisement.push({duration:n,image:e[n]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"!==a.state||o.disableLogs||console.warn("Stop an active recorder."),f&&"function"==typeof f.clearRecordedData&&f.clearRecordedData(),f=null,d("inactive"),a.blob=null},onStateChanged:function(e){o.disableLogs||console.log("Recorder state changed:",e)},state:"inactive",getState:function(){return a.state},destroy:function(){var e=o.disableLogs;o={disableLogs:!0},a.reset(),d("destroyed"),g=a=null,x.AudioContextConstructor&&(x.AudioContextConstructor.close(),x.AudioContextConstructor=null),o.disableLogs=e,o.disableLogs||console.log("RecordRTC is destroyed.")},version:"5.6.2"};if(!this)return a=g,g;for(var k in g)this[k]=g[k];return a=this,g}
/**
   * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.
   * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid "config" object.
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @typedef RecordRTCConfiguration
   * @class
   * @example
   * var options = RecordRTCConfiguration(mediaStream, options);
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
   * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}
   */
function n(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===L||t.recorderType===T||t.recorderType===F?t.type="video":t.recorderType===R?t.type="gif":t.recorderType===M?t.type="audio":t.recorderType===C&&(b(e,"audio").length&&b(e,"video").length||!b(e,"audio").length&&b(e,"video").length?t.type="video":b(e,"audio").length&&!b(e,"video").length&&(t.type="audio"))),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}
/**
   * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.
   * @summary It returns best recorder-type available for your browser.
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @typedef GetRecorderType
   * @class
   * @example
   * var RecorderType = GetRecorderType(options);
   * var recorder = new RecorderType(options);
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
   * @param {object} config - {type:"video", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
   */function r(e,t){var n;return(h||p||d)&&(n=M),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!h&&(n=C),"video"===t.type&&(h||d)&&(n=L,"undefined"!=typeof ReadableStream&&(n=F)),"gif"===t.type&&(n=R),"canvas"===t.type&&(n=T),S()&&n!==T&&n!==R&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(b(e,"video").length||b(e,"audio").length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(n=C):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(n=C)),e instanceof Array&&e.length&&(n=D),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name&&console.log("Using recorderType:",n.name||n.constructor.name),!n&&m&&(n=C),n}
/**
   * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.
   * @summary MRecordRTC stands for "Multiple-RecordRTC".
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @typedef MRecordRTC
   * @class
   * @example
   * var recorder = new MRecordRTC();
   * recorder.addStream(MediaStream);
   * recorder.mediaType = {
   *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder
   *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder
   *     gif: true    // or GifRecorder
   * };
   * // mimeType is optional and should be set only in advance cases.
   * recorder.mimeType = {
   *     audio: 'audio/wav',
   *     video: 'video/webm',
   *     gif:   'image/gif'
   * };
   * recorder.startRecording();
   * @see For further information:
   * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}
   * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
   * @requires {@link RecordRTC}
   */function o(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var n,r=this.mediaType,o=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof r.audio&&S()&&!b(e,"audio").length&&(r.audio=!1),"function"!=typeof r.video&&S()&&!b(e,"video").length&&(r.video=!1),"function"!=typeof r.gif&&S()&&!b(e,"video").length&&(r.gif=!1),!r.audio&&!r.video&&!r.gif)throw"MediaStream must have either audio or video tracks.";if(r.audio&&(n=null,"function"==typeof r.audio&&(n=r.audio),this.audioRecorder=new t(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:n,mimeType:o.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),r.video||this.audioRecorder.startRecording()),r.video){n=null,"function"==typeof r.video&&(n=r.video);var a=e;if(S()&&r.audio&&"function"==typeof r.audio){var i=b(e,"video")[0];f?((a=new g).addTrack(i),n&&n===L&&(n=C)):(a=new g).addTrack(i)}this.videoRecorder=new t(a,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:n,mimeType:o.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),r.audio||this.videoRecorder.startRecording()}if(r.audio&&r.video){var s=this,l=!0===S();(r.audio instanceof M&&r.video||!0!==r.audio&&!0!==r.video&&r.audio!==r.video)&&(l=!1),!0===l?(s.audioRecorder=null,s.videoRecorder.startRecording()):s.videoRecorder.initRecorder((function(){s.audioRecorder.initRecorder((function(){s.videoRecorder.startRecording(),s.audioRecorder.startRecording()}))}))}r.gif&&(n=null,"function"==typeof r.gif&&(n=r.gif),this.gifRecorder=new t(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:n,mimeType:o.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording((function(t){e(t,"audio")})),this.videoRecorder&&this.videoRecorder.stopRecording((function(t){e(t,"video")})),this.gifRecorder&&this.gifRecorder.stopRecording((function(t){e(t,"gif")}))},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var n=function(e){var t,n=u.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),r=new Worker(n);if(void 0!==u)t=u;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),r}((function(e){postMessage((new FileReaderSync).readAsDataURL(e))}));n.onmessage=function(e){t(e.data)},n.postMessage(e)}else{var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){t(e.target.result)}}}this.getBlob((function(n){n.audio&&n.video?t(n.audio,(function(r){t(n.video,(function(t){e({audio:r,video:t})}))})):n.audio?t(n.audio,(function(t){e({audio:t})})):n.video&&t(n.video,(function(t){e({video:t})}))}))},this.writeToDisk=function(){t.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}t.version="5.6.2",e.exports=t,t.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";console.log("Getting recorded "+("all"===e?"blobs":e+" blob ")+" from disk!"),O.Fetch((function(n,r){"all"!==e&&r===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,r.replace("Blob",""))}))},t.writeToDisk=function(e){console.log("Writing recorded blob(s) to disk!"),(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL((function(t){e.video.getDataURL((function(n){e.gif.getDataURL((function(e){O.Store({audioBlob:t,videoBlob:n,gifBlob:e})}))}))})):e.audio&&e.video?e.audio.getDataURL((function(t){e.video.getDataURL((function(e){O.Store({audioBlob:t,videoBlob:e})}))})):e.audio&&e.gif?e.audio.getDataURL((function(t){e.gif.getDataURL((function(e){O.Store({audioBlob:t,gifBlob:e})}))})):e.video&&e.gif?e.video.getDataURL((function(t){e.gif.getDataURL((function(e){O.Store({videoBlob:t,gifBlob:e})}))})):e.audio?e.audio.getDataURL((function(e){O.Store({audioBlob:e})})):e.video?e.video.getDataURL((function(e){O.Store({videoBlob:e})})):e.gif&&e.gif.getDataURL((function(e){O.Store({gifBlob:e})}))},o.getFromDisk=t.getFromDisk,o.writeToDisk=t.writeToDisk,t.MRecordRTC=o;var a;(a=void 0!==Fs?Fs:null)&&"undefined"==typeof window&&void 0!==Fs&&(Fs.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},Fs.console||(Fs.console={}),void 0!==Fs.console.log&&void 0!==Fs.console.error||(Fs.console.error=Fs.console.log=Fs.console.log||function(){console.log(arguments)}),"undefined"==typeof document&&(a.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},a.HTMLVideoElement=function(){}),"undefined"==typeof location&&(a.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(a.screen={width:0,height:0}),void 0===u&&(a.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),a.window=Fs);var i=window.requestAnimationFrame;if(void 0===i)if("undefined"!=typeof webkitRequestAnimationFrame)i=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)i=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)i=msRequestAnimationFrame;else if(void 0===i){var s=0;i=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-s)),o=setTimeout((function(){e(n+r)}),r);return s=n+r,o}}var l=window.cancelAnimationFrame;void 0===l&&("undefined"!=typeof webkitCancelAnimationFrame?l=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?l=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?l=msCancelAnimationFrame:void 0===l&&(l=function(e){clearTimeout(e)}));var c=window.AudioContext;void 0===c&&("undefined"!=typeof webkitAudioContext&&(c=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(c=mozAudioContext));var u=window.URL;void 0===u&&"undefined"!=typeof webkitURL&&(u=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var p=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),d=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),f=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),h=!d&&!p&&!!navigator.webkitGetUserMedia||k()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),m=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);m&&!h&&-1!==navigator.userAgent.indexOf("CriOS")&&(m=!1,h=!0);var g=window.MediaStream;function v(e){if(0===e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][t]}function y(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(i){}var n=(e.type||"video/webm").split("/")[1];if(-1!==n.indexOf(";")&&(n=n.split(";")[0]),t&&-1!==t.indexOf(".")){var r=t.split(".");t=r[0],n=r[1]}var o=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,o);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,o);var a=document.createElement("a");a.href=u.createObjectURL(e),a.download=o,a.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(a),"function"==typeof a.click?a.click():(a.target="_blank",a.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),u.revokeObjectURL(a.href)}function k(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||(!("undefined"==typeof process||"object"!=typeof process.versions||!process.versions.electron)||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function b(e,t){return e&&e.getTracks?e.getTracks().filter((function(e){return e.kind===(t||"audio")})):[]}function w(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}void 0===g&&"undefined"!=typeof webkitMediaStream&&(g=webkitMediaStream),void 0!==g&&void 0===g.prototype.stop&&(g.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))}),t.invokeSaveAsDialog=y,t.getTracks=b,t.getSeekableBlob=function(e,t){if("undefined"==typeof EBML)throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,r=new EBML.Decoder,o=EBML.tools,a=new FileReader;a.onload=function(e){r.decode(this.result).forEach((function(e){n.read(e)})),n.stop();var a=o.makeMetadataSeekable(n.metadatas,n.duration,n.cues),i=this.result.slice(n.metadataSize),s=new Blob([a,i],{type:"video/webm"});t(s)},a.readAsArrayBuffer(e)},t.bytesToSize=v,t.isElectron=k;
/**
   * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. "new AudioContext".
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @example
   * Storage.AudioContext === webkitAudioContext
   * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   */
var x={};function S(){if(f||m||p)return!0;var e,t,n=navigator.userAgent,r=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10);return(h||d)&&(e=n.indexOf("Chrome"),r=n.substring(e+7)),-1!==(t=r.indexOf(";"))&&(r=r.substring(0,t)),-1!==(t=r.indexOf(" "))&&(r=r.substring(0,t)),o=parseInt(""+r,10),isNaN(o)&&(r=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10)),o>=49}
/**
   * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.
   * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://github.com/muaz-khan|Muaz Khan}
   * @typedef MediaStreamRecorder
   * @class
   * @example
   * var config = {
   *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis
   *     audioBitsPerSecond : 256 * 8 * 1024,
   *     videoBitsPerSecond : 256 * 8 * 1024,
   *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two
   *     checkForInactiveTracks: true,
   *     timeSlice: 1000, // concatenate intervals based blobs
   *     ondataavailable: function() {} // get intervals based blobs
   * }
   * var recorder = new MediaStreamRecorder(mediaStream, config);
   * recorder.record();
   * recorder.stop(function(blob) {
   *     video.src = URL.createObjectURL(blob);
   *
   *     // or
   *     var blob = recorder.blob;
   * });
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
   * @param {object} config - {disableLogs:true, initCallback: function, mimeType: "video/webm", timeSlice: 1000}
   * @throws Will throw an error if first argument "MediaStream" is missing. Also throws error if "MediaRecorder API" are not supported by the browser.
   */function C(e,t){var n=this;if(void 0===e)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if("audio"===(t=t||{mimeType:"video/webm"}).type){var r;if(b(e,"video").length&&b(e,"audio").length)navigator.mozGetUserMedia?(r=new g).addTrack(b(e,"audio")[0]):r=new g(b(e,"audio")),e=r;t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=h?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg")}var o,a=[];function i(){n.timestamps.push((new Date).getTime()),"function"==typeof t.onTimeStamp&&t.onTimeStamp(n.timestamps[n.timestamps.length-1],n.timestamps)}function s(e){return o&&o.mimeType?o.mimeType:e.mimeType||"video/webm"}function l(){a=[],o=null,n.timestamps=[]}this.getArrayOfBlobs=function(){return a},this.record=function(){n.blob=null,n.clearRecordedData(),n.timestamps=[],c=[],a=[];var r=t;t.disableLogs||console.log("Passing following config over MediaRecorder API.",r),o&&(o=null),h&&!S()&&(r="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&r.mimeType&&(MediaRecorder.isTypeSupported(r.mimeType)||(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",r.mimeType),r.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{o=new MediaRecorder(e,r),t.mimeType=r.mimeType}catch(l){o=new MediaRecorder(e)}r.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in o&&!1===o.canRecordMimeType(r.mimeType)&&(t.disableLogs||console.warn("MediaRecorder API seems unable to record mimeType:",r.mimeType)),o.ondataavailable=function(e){if(e.data&&c.push("ondataavailable: "+v(e.data.size)),"number"!=typeof t.timeSlice)!e.data||!e.data.size||e.data.size<100||n.blob?n.recordingCallback&&(n.recordingCallback(new Blob([],{type:s(r)})),n.recordingCallback=null):(n.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:s(r)}),n.recordingCallback&&(n.recordingCallback(n.blob),n.recordingCallback=null));else if(e.data&&e.data.size&&(a.push(e.data),i(),"function"==typeof t.ondataavailable)){var o=t.getNativeBlob?e.data:new Blob([e.data],{type:s(r)});t.ondataavailable(o)}},o.onstart=function(){c.push("started")},o.onpause=function(){c.push("paused")},o.onresume=function(){c.push("resumed")},o.onstop=function(){c.push("stopped")},o.onerror=function(e){e&&(e.name||(e.name="UnknownError"),c.push("error: "+e),t.disableLogs||(-1!==e.name.toString().toLowerCase().indexOf("invalidstate")?console.error("The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.",e):-1!==e.name.toString().toLowerCase().indexOf("notsupported")?console.error("MIME type (",r.mimeType,") is not supported.",e):-1!==e.name.toString().toLowerCase().indexOf("security")?console.error("MediaRecorder security error",e):"OutOfMemory"===e.name?console.error("The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"IllegalStreamModification"===e.name?console.error("A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"OtherRecordingError"===e.name?console.error("Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.",e):"GenericError"===e.name?console.error("The UA cannot provide the codec or recording option that has been requested.",e):console.error("MediaRecorder Error",e)),function(e){if(!n.manuallyStopped&&o&&"inactive"===o.state)return delete t.timeslice,void o.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==o.state&&"stopped"!==o.state&&o.stop())},"number"==typeof t.timeSlice?(i(),o.start(t.timeSlice)):o.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},n.manuallyStopped=!0,o&&(this.recordingCallback=e,"recording"===o.state&&o.stop(),"number"==typeof t.timeSlice&&setTimeout((function(){n.blob=new Blob(a,{type:s(t)}),n.recordingCallback(n.blob)}),100))},this.pause=function(){o&&"recording"===o.state&&o.pause()},this.resume=function(){o&&"paused"===o.state&&o.resume()},this.clearRecordedData=function(){o&&"recording"===o.state&&n.stop(l),l()},this.getInternalRecorder=function(){return o},this.blob=null,this.getState=function(){return o&&o.state||"inactive"};var c=[];this.getAllStates=function(){return c},void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1);n=this;!function r(){if(o&&!1!==t.checkForInactiveTracks)return!1===function(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}()?(t.disableLogs||console.log("MediaStream seems stopped."),void n.stop()):void setTimeout(r,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}
/**
   * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring "stereo" audio-recording in chrome.
   * @summary JavaScript standalone object for stereo audio recording.
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @typedef StereoAudioRecorder
   * @class
   * @example
   * var recorder = new StereoAudioRecorder(MediaStream, {
   *     sampleRate: 44100,
   *     bufferSize: 4096
   * });
   * recorder.record();
   * recorder.stop(function(blob) {
   *     video.src = URL.createObjectURL(blob);
   * });
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
   * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}
   */
function M(e,n){if(!b(e,"audio").length)throw"Your stream has no audio tracks.";var r,o=this,a=[],i=[],s=!1,l=0,c=2,p=(n=n||{}).desiredSampRate;function d(){if(!1===n.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function f(e,t){function n(e,t){var n,r=e.numberOfAudioChannels,o=e.leftBuffers.slice(0),a=e.rightBuffers.slice(0),i=e.sampleRate,s=e.internalInterleavedLength,l=e.desiredSampRate;function c(e,t,n){var r=Math.round(e.length*(t/n)),o=[],a=Number((e.length-1)/(r-1));o[0]=e[0];for(var i=1;i<r-1;i++){var s=i*a,l=Number(Math.floor(s)).toFixed(),c=Number(Math.ceil(s)).toFixed(),p=s-l;o[i]=u(e[l],e[c],p)}return o[r-1]=e[e.length-1],o}function u(e,t,n){return e+(t-e)*n}function p(e,t){for(var n=new Float64Array(t),r=0,o=e.length,a=0;a<o;a++){var i=e[a];n.set(i,r),r+=i.length}return n}function d(e,t,n){for(var r=n.length,o=0;o<r;o++)e.setUint8(t+o,n.charCodeAt(o))}2===r&&(o=p(o,s),a=p(a,s),l&&(o=c(o,l,i),a=c(a,l,i))),1===r&&(o=p(o,s),l&&(o=c(o,l,i))),l&&(i=l),2===r&&(n=function(e,t){for(var n=e.length+t.length,r=new Float64Array(n),o=0,a=0;a<n;)r[a++]=e[o],r[a++]=t[o],o++;return r}(o,a)),1===r&&(n=o);var f=n.length,h=new ArrayBuffer(44+2*f),m=new DataView(h);d(m,0,"RIFF"),m.setUint32(4,36+2*f,!0),d(m,8,"WAVE"),d(m,12,"fmt "),m.setUint32(16,16,!0),m.setUint16(20,1,!0),m.setUint16(22,r,!0),m.setUint32(24,i,!0),m.setUint32(28,i*r*2,!0),m.setUint16(32,2*r,!0),m.setUint16(34,16,!0),d(m,36,"data"),m.setUint32(40,2*f,!0);for(var g=f,v=44,y=0;y<g;y++)m.setInt16(v,32767*n[y],!0),v+=2;if(t)return t({buffer:h,view:m});postMessage({buffer:h,view:m})}if(e.noWorker)n(e,(function(e){t(e.buffer,e.view)}));else{var r,o,a,i=(r=n,o=u.createObjectURL(new Blob([r.toString(),";this.onmessage =  function (eee) {"+r.name+"(eee.data);}"],{type:"application/javascript"})),(a=new Worker(o)).workerURL=o,a);i.onmessage=function(e){t(e.data.buffer,e.data.view),u.revokeObjectURL(i.workerURL),i.terminate()},i.postMessage(e)}}!0===n.leftChannel&&(c=1),1===n.numberOfAudioChannels&&(c=1),(!c||c<1)&&(c=2),n.disableLogs||console.log("StereoAudioRecorder is set to record number of channels: "+c),void 0===n.checkForInactiveTracks&&(n.checkForInactiveTracks=!0),this.record=function(){if(!1===d())throw"Please make sure MediaStream is active.";w(),S=k=!1,s=!0,void 0!==n.timeSlice&&M()},this.stop=function(e){e=e||function(){},s=!1,f({desiredSampRate:p,sampleRate:y,numberOfAudioChannels:c,internalInterleavedLength:l,leftBuffers:a,rightBuffers:1===c?[]:i,noWorker:n.noWorker},(function(t,n){o.blob=new Blob([n],{type:"audio/wav"}),o.buffer=new ArrayBuffer(n.buffer.byteLength),o.view=n,o.sampleRate=p||y,o.bufferSize=v,o.length=l,S=!1,e&&e(o.blob)}))},void 0===t.Storage&&(t.Storage={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext}),t.Storage.AudioContextConstructor&&"closed"!==t.Storage.AudioContextConstructor.state||(t.Storage.AudioContextConstructor=new t.Storage.AudioContext);var h=t.Storage.AudioContextConstructor,m=h.createMediaStreamSource(e),g=[0,256,512,1024,2048,4096,8192,16384],v=void 0===n.bufferSize?4096:n.bufferSize;if(-1===g.indexOf(v)&&(n.disableLogs||console.log("Legal values for buffer-size are "+JSON.stringify(g,null,"\t"))),h.createJavaScriptNode)r=h.createJavaScriptNode(v,c,c);else{if(!h.createScriptProcessor)throw"WebAudio API has no support on this browser.";r=h.createScriptProcessor(v,c,c)}m.connect(r),n.bufferSize||(v=r.bufferSize);var y=void 0!==n.sampleRate?n.sampleRate:h.sampleRate||44100;(y<22050||y>96e3)&&(n.disableLogs||console.log("sample-rate must be under range 22050 and 96000.")),n.disableLogs||n.desiredSampRate&&console.log("Desired sample-rate: "+n.desiredSampRate);var k=!1;function w(){a=[],i=[],l=0,S=!1,s=!1,k=!1,h=null,o.leftchannel=a,o.rightchannel=i,o.numberOfAudioChannels=c,o.desiredSampRate=p,o.sampleRate=y,o.recordingLength=l,C={left:[],right:[],recordingLength:0}}function x(){r&&(r.onaudioprocess=null,r.disconnect(),r=null),m&&(m.disconnect(),m=null),w()}this.pause=function(){k=!0},this.resume=function(){if(!1===d())throw"Please make sure MediaStream is active.";if(!s)return n.disableLogs||console.log("Seems recording has been restarted."),void this.record();k=!1},this.clearRecordedData=function(){n.checkForInactiveTracks=!1,s&&this.stop(x),x()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var S=!1;r.onaudioprocess=function(e){if(!k)if(!1===d()&&(n.disableLogs||console.log("MediaStream seems stopped."),r.disconnect(),s=!1),s){S||(S=!0,n.onAudioProcessStarted&&n.onAudioProcessStarted(),n.initCallback&&n.initCallback());var t=e.inputBuffer.getChannelData(0),u=new Float32Array(t);if(a.push(u),2===c){var p=e.inputBuffer.getChannelData(1),f=new Float32Array(p);i.push(f)}l+=v,o.recordingLength=l,void 0!==n.timeSlice&&(C.recordingLength+=v,C.left.push(u),2===c&&C.right.push(f))}else m&&(m.disconnect(),m=null)},h.createMediaStreamDestination?r.connect(h.createMediaStreamDestination()):r.connect(h.destination),this.leftchannel=a,this.rightchannel=i,this.numberOfAudioChannels=c,this.desiredSampRate=p,this.sampleRate=y,o.recordingLength=l;var C={left:[],right:[],recordingLength:0};function M(){s&&"function"==typeof n.ondataavailable&&void 0!==n.timeSlice&&(C.left.length?(f({desiredSampRate:p,sampleRate:y,numberOfAudioChannels:c,internalInterleavedLength:C.recordingLength,leftBuffers:C.left,rightBuffers:1===c?[]:C.right},(function(e,t){var r=new Blob([t],{type:"audio/wav"});n.ondataavailable(r),setTimeout(M,n.timeSlice)})),C={left:[],right:[],recordingLength:0}):setTimeout(M,n.timeSlice))}}
/**
   * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.
   * @summary HTML2Canvas recording into video WebM.
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @typedef CanvasRecorder
   * @class
   * @example
   * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });
   * recorder.record();
   * recorder.stop(function(blob) {
   *     video.src = URL.createObjectURL(blob);
   * });
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.
   * @param {object} config - {disableLogs:true, initCallback: function}
   */
function T(e,t){if("undefined"==typeof html2canvas)throw"Please link: https://www.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var n=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){e in document.createElement("canvas")&&(n=!0)}));var r,o,a,i=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),s=50,l=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(i&&l&&l[2]&&(s=parseInt(l[2],10)),i&&s<52&&(n=!1),t.useWhammyRecorder&&(n=!1),n)if(t.disableLogs||console.log("Your browser supports both MediRecorder API and canvas.captureStream!"),e instanceof HTMLCanvasElement)r=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";r=e.canvas}else navigator.mozGetUserMedia&&(t.disableLogs||console.error("Canvas recording is NOT supported in Firefox."));this.record=function(){if(a=!0,n&&!t.useWhammyRecorder){var e;"captureStream"in r?e=r.captureStream(25):"mozCaptureStream"in r?e=r.mozCaptureStream(25):"webkitCaptureStream"in r&&(e=r.webkitCaptureStream(25));try{var i=new g;i.addTrack(b(e,"video")[0]),e=i}catch(s){}if(!e)throw"captureStream API are NOT available.";(o=new C(e,{mimeType:t.mimeType||"video/webm"})).record()}else f.frames=[],d=(new Date).getTime(),p();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"===e.nodeName.toLowerCase()){var r=f.frames.length;f.frames.forEach((function(e,n){var o=r-n;t.disableLogs||console.log(o+"/"+r+" frames remaining"),t.onEncodingCallback&&t.onEncodingCallback(o,r);var a=e.image.toDataURL("image/webp",1);f.frames[n].image=a})),t.disableLogs||console.log("Generating WebM"),n()}else n()},this.stop=function(e){a=!1;var r=this;n&&o?o.stop(e):this.getWebPImages((function(){f.compile((function(n){t.disableLogs||console.log("Recording finished!"),r.blob=n,r.blob.forEach&&(r.blob=new Blob([],{type:"video/webm"})),e&&e(r.blob),f.frames=[]}))}))};var c=!1;function u(){f.frames=[],a=!1,c=!1}function p(){if(c)return d=(new Date).getTime(),setTimeout(p,500);if("canvas"===e.nodeName.toLowerCase()){var n=(new Date).getTime()-d;return d=(new Date).getTime(),f.frames.push({image:(r=document.createElement("canvas"),o=r.getContext("2d"),r.width=e.width,r.height=e.height,o.drawImage(e,0,0),r),duration:n}),void(a&&setTimeout(p,t.frameInterval))}var r,o;html2canvas(e,{grabMouse:void 0===t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-d;if(!n)return setTimeout(p,t.frameInterval);d=(new Date).getTime(),f.frames.push({image:e.toDataURL("image/webp",1),duration:n}),a&&setTimeout(p,t.frameInterval)}})}this.pause=function(){c=!0,o instanceof C&&o.pause()},this.resume=function(){c=!1,o instanceof C?o.resume():a||this.record()},this.clearRecordedData=function(){a&&this.stop(u),u()},this.name="CanvasRecorder",this.toString=function(){return this.name};var d=(new Date).getTime(),f=new A.Video(100)}
/**
   * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.
   * @summary Video recording feature in Chrome.
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @typedef WhammyRecorder
   * @class
   * @example
   * var recorder = new WhammyRecorder(mediaStream);
   * recorder.record();
   * recorder.stop(function(blob) {
   *     video.src = URL.createObjectURL(blob);
   * });
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
   * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}
   */
function L(e,t){function n(e){e=void 0!==e?e:10;var t=(new Date).getTime()-l;return t?a?(l=(new Date).getTime(),setTimeout(n,100)):(l=(new Date).getTime(),s.paused&&s.play(),p.drawImage(s,0,0,u.width,u.height),c.frames.push({duration:t,image:u.toDataURL("image/webp")}),void(o||setTimeout(n,e,e))):setTimeout(n,e,e)}function r(e,t,n,r,o){var a=document.createElement("canvas");a.width=u.width,a.height=u.height;var i=a.getContext("2d"),s=[],l=-1===t,c=t&&t>0&&t<=e.length?t:e.length,p=0,d=0,f=0,h=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),m=n&&n>=0&&n<=1?n:0,g=r&&r>=0&&r<=1?r:0,v=!1;!function(e){var t=-1,n=e.length;!function r(){++t!==n?setTimeout((function(){e.functionToLoop(r,t)}),1):e.callback()}()}({length:c,functionToLoop:function(t,n){var r,o,a,c=function(){!v&&a-r<=a*g||(l&&(v=!0),s.push(e[n])),t()};if(v)c();else{var y=new Image;y.onload=function(){i.drawImage(y,0,0,u.width,u.height);var e=i.getImageData(0,0,u.width,u.height);r=0,o=e.data.length,a=e.data.length/4;for(var t=0;t<o;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(n.r-p,2)+Math.pow(n.g-d,2)+Math.pow(n.b-f,2))<=h*m&&r++}c()},y.src=e[n].image}},callback:function(){(s=s.concat(e.slice(c))).length<=0&&s.push(e[e.length-1]),o(s)}})}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs||console.log("Using frames-interval:",t.frameInterval),this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),u.width=t.canvas.width||320,u.height=t.canvas.height||240,p=u.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(s=t.video.cloneNode(),t.initCallback&&t.initCallback()):(s=document.createElement("video"),w(e,s),s.onloadedmetadata=function(){t.initCallback&&t.initCallback()},s.width=t.video.width,s.height=t.video.height),s.muted=!0,s.play(),l=(new Date).getTime(),c=new A.Video,t.disableLogs||(console.log("canvas resolutions",u.width,"*",u.height),console.log("video width/height",s.width||u.width,"*",s.height||u.height)),n(t.frameInterval)};var o=!1;this.stop=function(e){e=e||function(){},o=!0;var n=this;setTimeout((function(){r(c.frames,-1,null,null,(function(r){c.frames=r,t.advertisement&&t.advertisement.length&&(c.frames=t.advertisement.concat(c.frames)),c.compile((function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)}))}))}),10)};var a=!1;function i(){c.frames=[],o=!0,a=!1}this.pause=function(){a=!0},this.resume=function(){a=!1,o&&this.record()},this.clearRecordedData=function(){o||this.stop(i),i()},this.name="WhammyRecorder",this.toString=function(){return this.name};var s,l,c,u=document.createElement("canvas"),p=u.getContext("2d")}void 0!==c?x.AudioContext=c:"undefined"!=typeof webkitAudioContext&&(x.AudioContext=webkitAudioContext),t.Storage=x,t.MediaStreamRecorder=C,t.StereoAudioRecorder=M,t.CanvasRecorder=T,t.WhammyRecorder=L;
/**
   * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}
   * @summary A real time javascript webm encoder based on a canvas hack.
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @typedef Whammy
   * @class
   * @example
   * var recorder = new Whammy().Video(15);
   * recorder.add(context || canvas || dataURL);
   * var output = recorder.compile();
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   */
var A=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){function t(e,t,n){return[{data:e,id:231}].concat(n.map((function(e){var n=function(e){var t=0;e.keyframe&&(t|=128);e.invisible&&(t|=8);e.lacing&&(t|=e.lacing<<1);e.discardable&&(t|=1);if(e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map((function(e){return String.fromCharCode(e)})).join("")+e.frame}({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}})))}function n(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function r(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function o(e){for(var t=[],a=0;a<e.length;a++){var i=e[a].data;"object"==typeof i&&(i=o(i)),"number"==typeof i&&(i=r(i.toString(2))),"string"==typeof i&&(i=new Uint8Array(i.split("").map((function(e){return e.charCodeAt(0)}))));var s=i.size||i.byteLength||i.length,l=Math.ceil(Math.ceil(Math.log(s)/Math.log(2))/8),c=s.toString(2),u=new Array(7*l+7+1-c.length).join("0")+c,p=new Array(l).join("0")+"1"+u;t.push(n(e[a].id)),t.push(r(p)),t.push(i)}return new Blob(t,{type:"video/webm"})}function a(e,t){return parseInt(e.substr(t+4,4).split("").map((function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t})).join(""),2)}function i(e){for(var t=0,n={};t<e.length;){var r=e.substr(t,4),o=a(e,t),s=e.substr(t+4+4,o);t+=8+o,n[r]=n[r]||[],"RIFF"===r||"LIST"===r?n[r].push(i(s)):n[r].push(s)}return n}var s=new function(e){var n=function(e){if(!e[0])return void postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});for(var t=e[0].width,n=e[0].height,r=e[0].duration,o=1;o<e.length;o++)r+=e[o].duration;return{duration:r,width:t,height:n}}(e);if(!n)return[];for(var r,a=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(r=n.duration,[].slice.call(new Uint8Array(new Float64Array([r]).buffer),0).map((function(e){return String.fromCharCode(e)})).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:n.width,id:176},{data:n.height,id:186}]}]}]}]}],i=0,s=0;i<e.length;){var l=[],c=0;do{l.push(e[i]),c+=e[i].duration,i++}while(i<e.length&&c<3e4);var u={id:524531317,data:t(s,0,l)};a[1].data.push(u),s+=c}return o(a)}(e.map((function(e){var t=function(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("*"),r=0,o=[];r<4;r++)o[r]=t.charCodeAt(n+3+r);return{width:16383&(o[1]<<8|o[0]),height:16383&(o[3]<<8|o[2]),data:t,riff:e}}(i(atob(e.image.slice(23))));return t.duration=e.duration,t})));postMessage(s)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var n,r,o,a=(n=t,r=u.createObjectURL(new Blob([n.toString(),"this.onmessage =  function (eee) {"+n.name+"(eee.data);}"],{type:"application/javascript"})),o=new Worker(r),u.revokeObjectURL(r),o);a.onmessage=function(t){t.data.error?console.error(t.data.error):e(t.data)},a.postMessage(this.frames)},{Video:e}}();t.Whammy=A;
/**
   * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.
   * @summary Writing blobs into IndexedDB.
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @example
   * DiskStorage.Store({
   *     audioBlob: yourAudioBlob,
   *     videoBlob: yourVideoBlob,
   *     gifBlob  : yourGifBlob
   * });
   * DiskStorage.Fetch(function(dataURL, type) {
   *     if(type === 'audioBlob') { }
   *     if(type === 'videoBlob') { }
   *     if(type === 'gifBlob')   { }
   * });
   * // DiskStorage.dataStoreName = 'recordRTC';
   * // DiskStorage.onError = function(error) { };
   * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.
   * @property {function} Fetch - This method fetches stored blobs from IndexedDB.
   * @property {function} Store - This method stores blobs in IndexedDB.
   * @property {function} onError - This function is invoked for any known/unknown error.
   * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   */
var O={init:function(){var e=this;if("undefined"!=typeof indexedDB&&void 0!==indexedDB.open){var t,n=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),r=indexedDB.open(n,1);r.onerror=e.onError,r.onsuccess=function(){((t=r.result).onerror=e.onError,t.setVersion)?1!==t.version?t.setVersion(1).onsuccess=function(){o(t),a()}:a():a()},r.onupgradeneeded=function(e){o(e.target.result)}}else console.error("IndexedDB API are not available in this browser.");function o(t){t.createObjectStore(e.dataStoreName)}function a(){var n=t.transaction([e.dataStoreName],"readwrite");function r(t){n.objectStore(e.dataStoreName).get(t).onsuccess=function(n){e.callback&&e.callback(n.target.result,t)}}e.videoBlob&&n.objectStore(e.dataStoreName).put(e.videoBlob,"videoBlob"),e.gifBlob&&n.objectStore(e.dataStoreName).put(e.gifBlob,"gifBlob"),e.audioBlob&&n.objectStore(e.dataStoreName).put(e.audioBlob,"audioBlob"),r("audioBlob"),r("videoBlob"),r("gifBlob")}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){console.error(JSON.stringify(e,null,"\t"))},dataStoreName:"recordRTC",dbName:null};
/**
   * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @typedef GifRecorder
   * @class
   * @example
   * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });
   * recorder.record();
   * recorder.stop(function(blob) {
   *     img.src = URL.createObjectURL(blob);
   * });
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.
   * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}
   */
function R(e,t){if("undefined"==typeof GIFEncoder){var n=document.createElement("script");n.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}t=t||{};var r=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){"undefined"!=typeof GIFEncoder&&c?(r||(t.width||(t.width=u.offsetWidth||320),t.height||(t.height=u.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),a.width=t.canvas.width||320,a.height=t.canvas.height||240,u.width=t.video.width||320,u.height=t.video.height||240),(d=new GIFEncoder).setRepeat(0),d.setDelay(t.frameRate||200),d.setQuality(t.quality||10),d.start(),"function"==typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),f=i((function e(n){if(!0!==h.clearedRecordedData){if(o)return setTimeout((function(){e(n)}),100);f=i(e),void 0===typeof p&&(p=n),n-p<90||(!r&&u.paused&&u.play(),r||s.drawImage(u,0,0,a.width,a.height),t.onGifPreview&&t.onGifPreview(a.toDataURL("image/png")),d.addFrame(s),p=n)}})),t.initCallback&&t.initCallback()):setTimeout(h.record,1e3)},this.stop=function(e){e=e||function(){},f&&l(f),this.blob=new Blob([new Uint8Array(d.stream().bin)],{type:"image/gif"}),e(this.blob),d.stream().bin=[]};var o=!1;this.pause=function(){o=!0},this.resume=function(){o=!1},this.clearRecordedData=function(){h.clearedRecordedData=!0,d&&(d.stream().bin=[])},this.name="GifRecorder",this.toString=function(){return this.name};var a=document.createElement("canvas"),s=a.getContext("2d");r&&(e instanceof CanvasRenderingContext2D?a=(s=e).canvas:e instanceof HTMLCanvasElement&&(s=e.getContext("2d"),a=e));var c=!0;if(!r){var u=document.createElement("video");u.muted=!0,u.autoplay=!0,u.playsInline=!0,c=!1,u.onloadedmetadata=function(){c=!0},w(e,u),u.play()}var p,d,f=null,h=this}function E(e,t){t=t||"multi-streams-mixer";var n=[],r=!1,o=document.createElement("canvas"),a=o.getContext("2d");o.style.opacity=0,o.style.position="absolute",o.style.zIndex=-1,o.style.top="-1000em",o.style.left="-1000em",o.className=t,(document.body||document.documentElement).appendChild(o),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var i=this,s=window.AudioContext;void 0===s&&("undefined"!=typeof webkitAudioContext&&(s=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(s=mozAudioContext));var l=window.URL;void 0===l&&"undefined"!=typeof webkitURL&&(l=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var c=window.MediaStream;void 0===c&&"undefined"!=typeof webkitMediaStream&&(c=webkitMediaStream),void 0!==c&&void 0===c.prototype.stop&&(c.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))});var u={};function p(){if(!r){var e=n.length,t=!1,a=[];if(n.forEach((function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:a.push(e)})),t)o.width=t.stream.width,o.height=t.stream.height;else if(a.length){o.width=e>1?2*a[0].width:a[0].width;var s=1;3!==e&&4!==e||(s=2),5!==e&&6!==e||(s=3),7!==e&&8!==e||(s=4),9!==e&&10!==e||(s=5),o.height=a[0].height*s}else o.width=i.width||360,o.height=i.height||240;t&&t instanceof HTMLVideoElement&&d(t),a.forEach((function(e,t){d(e,t)})),setTimeout(p,i.frameInterval)}}function d(e,t){if(!r){var n=0,o=0,i=e.width,s=e.height;1===t&&(n=e.width),2===t&&(o=e.height),3===t&&(n=e.width,o=e.height),4===t&&(o=2*e.height),5===t&&(n=e.width,o=2*e.height),6===t&&(o=3*e.height),7===t&&(n=e.width,o=3*e.height),void 0!==e.stream.left&&(n=e.stream.left),void 0!==e.stream.top&&(o=e.stream.top),void 0!==e.stream.width&&(i=e.stream.width),void 0!==e.stream.height&&(s=e.stream.height),a.drawImage(e,n,o,i,s),"function"==typeof e.stream.onRender&&e.stream.onRender(a,n,o,i,s,t)}}function f(e){var n=document.createElement("video");return function(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}(e,n),n.className=t,n.muted=!0,n.volume=0,n.width=e.width||i.width||360,n.height=e.height||i.height||240,n.play(),n}function h(t){n=[],(t=t||e).forEach((function(e){if(e.getTracks().filter((function(e){return"video"===e.kind})).length){var t=f(e);t.stream=e,n.push(t)}}))}void 0!==s?u.AudioContext=s:"undefined"!=typeof webkitAudioContext&&(u.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){p()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),t.forEach((function(t){var r=new c;if(t.getTracks().filter((function(e){return"video"===e.kind})).length){var o=f(t);o.stream=t,n.push(o),r.addTrack(t.getTracks().filter((function(e){return"video"===e.kind}))[0])}if(t.getTracks().filter((function(e){return"audio"===e.kind})).length){var a=i.audioContext.createMediaStreamSource(t);i.audioDestination=i.audioContext.createMediaStreamDestination(),a.connect(i.audioDestination),r.addTrack(i.audioDestination.stream.getTracks().filter((function(e){return"audio"===e.kind}))[0])}e.push(r)}))},this.releaseStreams=function(){n=[],r=!0,i.gainNode&&(i.gainNode.disconnect(),i.gainNode=null),i.audioSources.length&&(i.audioSources.forEach((function(e){e.disconnect()})),i.audioSources=[]),i.audioDestination&&(i.audioDestination.disconnect(),i.audioDestination=null),i.audioContext&&i.audioContext.close(),i.audioContext=null,a.clearRect(0,0,o.width,o.height),o.stream&&(o.stream.stop(),o.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),h(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function(){r=!1;var t=function(){var e;h(),"captureStream"in o?e=o.captureStream():"mozCaptureStream"in o?e=o.mozCaptureStream():i.disableLogs||console.error("Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features");var t=new c;return e.getTracks().filter((function(e){return"video"===e.kind})).forEach((function(e){t.addTrack(e)})),o.stream=t,t}(),n=function(){u.AudioContextConstructor||(u.AudioContextConstructor=new u.AudioContext);i.audioContext=u.AudioContextConstructor,i.audioSources=[],!0===i.useGainNode&&(i.gainNode=i.audioContext.createGain(),i.gainNode.connect(i.audioContext.destination),i.gainNode.gain.value=0);var t=0;if(e.forEach((function(e){if(e.getTracks().filter((function(e){return"audio"===e.kind})).length){t++;var n=i.audioContext.createMediaStreamSource(e);!0===i.useGainNode&&n.connect(i.gainNode),i.audioSources.push(n)}})),!t)return;return i.audioDestination=i.audioContext.createMediaStreamDestination(),i.audioSources.forEach((function(e){e.connect(i.audioDestination)})),i.audioDestination.stream}();return n&&n.getTracks().filter((function(e){return"audio"===e.kind})).forEach((function(e){t.addTrack(e)})),e.forEach((function(e){e.fullcanvas})),t}}
/**
   * MultiStreamRecorder can record multiple videos in single container.
   * @summary Multi-videos recorder.
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @typedef MultiStreamRecorder
   * @class
   * @example
   * var options = {
   *     mimeType: 'video/webm'
   * }
   * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);
   * recorder.record();
   * recorder.stop(function(blob) {
   *     video.src = URL.createObjectURL(blob);
   *
   *     // or
   *     var blob = recorder.blob;
   * });
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   * @param {MediaStreams} mediaStreams - Array of MediaStreams.
   * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: "video/webm"}
   */
function D(e,t){e=e||[];var n,r,o=this;(t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){var o;n=new E(e,t.elementClass||"multi-streams-mixer"),(o=[],e.forEach((function(e){b(e,"video").forEach((function(e){o.push(e)}))})),o).length&&(n.frameInterval=t.frameInterval||10,n.width=t.video.width||360,n.height=t.video.height||240,n.startDrawingFrames()),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()),(r=new C(n.getMixedStream(),t)).record()},this.stop=function(e){r&&r.stop((function(t){o.blob=t,e(t),o.clearRecordedData()}))},this.pause=function(){r&&r.pause()},this.resume=function(){r&&r.resume()},this.clearRecordedData=function(){r&&(r.clearRecordedData(),r=null),n&&(n.releaseStreams(),n=null)},this.addStreams=function(o){if(!o)throw"First parameter is required.";o instanceof Array||(o=[o]),e.concat(o),r&&n&&(n.appendStreams(o),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()))},this.resetVideoStreams=function(e){n&&(!e||e instanceof Array||(e=[e]),n.resetVideoStreams(e))},this.getMixer=function(){return n},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}
/**
   * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.
   * @summary Video recording feature in Chrome, Firefox and maybe Edge.
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @typedef WebAssemblyRecorder
   * @class
   * @example
   * var recorder = new WebAssemblyRecorder(mediaStream);
   * recorder.record();
   * recorder.stop(function(blob) {
   *     video.src = URL.createObjectURL(blob);
   * });
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.
   * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}
   */
function F(e,t){var n,r,o;function a(s,l){if(!t.workerPath&&!l)return n=!1,void fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then((function(e){e.arrayBuffer().then((function(e){a(s,e)}))}));if(!t.workerPath&&l instanceof ArrayBuffer){var c=new Blob([l],{type:"text/javascript"});t.workerPath=u.createObjectURL(c)}t.workerPath||console.error("workerPath parameter is missing."),(r=new Worker(t.workerPath)).postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),r.addEventListener("message",(function(a){"READY"===a.data?(r.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:t.realtime}),new ReadableStream({start:function(r){var o=document.createElement("canvas"),a=document.createElement("video"),i=!0;a.srcObject=e,a.muted=!0,a.height=t.height,a.width=t.width,a.volume=0,a.onplaying=function(){o.width=t.width,o.height=t.height;var e=o.getContext("2d"),s=1e3/t.frameRate,l=setInterval((function(){if(n&&(clearInterval(l),r.close()),i&&(i=!1,t.onVideoProcessStarted&&t.onVideoProcessStarted()),e.drawImage(a,0,0),"closed"!==r._controlledReadableStream.state)try{r.enqueue(e.getImageData(0,0,t.width,t.height))}catch(o){}}),s)},a.play()}}).pipeTo(new WritableStream({write:function(e){n?console.error("Got image, but recorder is finished!"):r.postMessage(e.data.buffer,[e.data.buffer])}}))):a.data&&(o||i.push(a.data))}))}"undefined"!=typeof ReadableStream&&"undefined"!=typeof WritableStream||console.error("Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js"),(t=t||{}).width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,t.realtime=t.realtime||!0,this.record=function(){i=[],o=!1,this.blob=null,a(e),"function"==typeof t.initCallback&&t.initCallback()},this.pause=function(){o=!0},this.resume=function(){o=!1};var i=[];this.stop=function(e){n=!0;var t=this;!function(e){r?(r.addEventListener("message",(function(t){null===t.data&&(r.terminate(),r=null,e&&e())})),r.postMessage(null)):e&&e()}((function(){t.blob=new Blob(i,{type:"video/webm"}),e(t.blob)}))},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){i=[],o=!1,this.blob=null},this.blob=null}t.DiskStorage=O,t.GifRecorder=R,t.MultiStreamRecorder=D,t.RecordRTCPromisesHandler=
/**
   * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}
   * @summary Promises for {@link RecordRTC}
   * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}
   * @author {@link https://MuazKhan.com|Muaz Khan}
   * @typedef RecordRTCPromisesHandler
   * @class
   * @example
   * var recorder = new RecordRTCPromisesHandler(mediaStream, options);
   * recorder.startRecording()
   *         .then(successCB)
   *         .catch(errorCB);
   * // Note: You can access all RecordRTC API using "recorder.recordRTC" e.g. 
   * recorder.recordRTC.onStateChanged = function(state) {};
   * recorder.recordRTC.setRecordingDuration(5000);
   * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}
   * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.
   * @param {object} config - {type:"video", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}
   * @throws Will throw an error if "new" keyword is not used to initiate "RecordRTCPromisesHandler". Also throws error if first argument "MediaStream" is missing.
   * @requires {@link RecordRTC}
   */
function(e,n){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var r=this;r.recordRTC=new t(e,n),this.startRecording=function(){return new Promise((function(e,t){try{r.recordRTC.startRecording(),e()}catch(n){t(n)}}))},this.stopRecording=function(){return new Promise((function(e,t){try{r.recordRTC.stopRecording((function(n){r.blob=r.recordRTC.getBlob(),r.blob&&r.blob.size?e(n):t("Empty blob.",r.blob)}))}catch(n){t(n)}}))},this.pauseRecording=function(){return new Promise((function(e,t){try{r.recordRTC.pauseRecording(),e()}catch(n){t(n)}}))},this.resumeRecording=function(){return new Promise((function(e,t){try{r.recordRTC.resumeRecording(),e()}catch(n){t(n)}}))},this.getDataURL=function(e){return new Promise((function(e,t){try{r.recordRTC.getDataURL((function(t){e(t)}))}catch(n){t(n)}}))},this.getBlob=function(){return new Promise((function(e,t){try{e(r.recordRTC.getBlob())}catch(n){t(n)}}))},this.getInternalRecorder=function(){return new Promise((function(e,t){try{e(r.recordRTC.getInternalRecorder())}catch(n){t(n)}}))},this.reset=function(){return new Promise((function(e,t){try{e(r.recordRTC.reset())}catch(n){t(n)}}))},this.destroy=function(){return new Promise((function(e,t){try{e(r.recordRTC.destroy())}catch(n){t(n)}}))},this.getState=function(){return new Promise((function(e,t){try{e(r.recordRTC.getState())}catch(n){t(n)}}))},this.blob=null,this.version="5.6.2"},t.WebAssemblyRecorder=F}(Ns);var Is=Ns.exports;const js=ft(""),_s=ft(!0);function Ps(e){const t=new Date,n=e=>`${e}`.padStart(2,"0"),r=`${n(t.getMonth()+1)}${n(t.getDate())}-${n(t.getHours())}${n(t.getMinutes())}`;return`${[e,js.value,r].filter(Ms).join("-")}.webm`}const{devices:zs,videoInputs:Bs,audioInputs:Ws,ensurePermissions:Us}=function(e={}){const{navigator:t=ra,requestPermissions:n=!1,onUpdated:r}=e,o=ft([]),a=Zr((()=>o.value.filter((e=>"videoinput"===e.kind)))),i=Zr((()=>o.value.filter((e=>"audioinput"===e.kind)))),s=Zr((()=>o.value.filter((e=>"audiooutput"===e.kind))));let l=!1;const c=ft(!1);async function u(){l&&(o.value=await t.mediaDevices.enumerateDevices(),null==r||r(o.value))}async function p(){if(!l)return!1;if(c.value)return!0;const{state:e,query:n}=function(e,t={}){const{controls:n=!1,navigator:r=ra}=t,o=Boolean(r&&"permissions"in r);let a;const i="string"==typeof e?{name:e}:e,s=ft(),l=()=>{a&&(s.value=a.state)},c=function(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const e=t;t=void 0,e&&await e},n}((async()=>{if(o){if(!a)try{a=await r.permissions.query(i),aa(a,"change",l),l()}catch(e){s.value="prompt"}return a}}));return c(),n?{state:s,isSupported:o,query:c}:s}("camera",{controls:!0});if(await n(),"granted"!==e.value){(await t.mediaDevices.getUserMedia({audio:!0,video:!0})).getTracks().forEach((e=>e.stop())),u(),c.value=!0}else c.value=!0;return c.value}return t&&(l=Boolean(t.mediaDevices&&t.mediaDevices.enumerateDevices),l&&(n&&p(),aa(t.mediaDevices,"devicechange",u),u())),{devices:o,ensurePermissions:p,permissionGranted:c,videoInputs:a,audioInputs:i,audioOutputs:s,isSupported:l}}({onUpdated(){var e,t;"none"!==Da.value&&(Bs.value.find((e=>e.deviceId===Da.value))||(Da.value=(null==(e=Bs.value[0])?void 0:e.deviceId)||"default")),"none"!==Fa.value&&(Ws.value.find((e=>e.deviceId===Fa.value))||(Fa.value=(null==(t=Ws.value[0])?void 0:t.deviceId)||"default"))}});function Hs(e,t){const n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download",e),document.body.appendChild(n),n.click(),document.body.removeChild(n)}const Vs=function(){const e=ft(!1),t=ft(!1),n=ht(),r=ht(),o=ht(),a=ht(),i={type:"video",bitsPerSecond:8388608};async function s(){if(!o.value){if("none"===Da.value&&"none"===Fa.value)return;o.value=await navigator.mediaDevices.getUserMedia({video:"none"!==Da.value&&!1!==_s.value&&{deviceId:Da.value},audio:"none"!==Fa.value&&{deviceId:Fa.value}})}}async function l(){var t;if(await s(),a.value=await navigator.mediaDevices.getDisplayMedia({video:{aspectRatio:1.6,frameRate:15,width:3840,height:2160,cursor:"motion",resizeMode:"crop-and-scale"}}),o.value){const e=null==(t=o.value.getAudioTracks())?void 0:t[0];e&&a.value.addTrack(e),n.value=new Is(o.value,i),n.value.startRecording()}r.value=new Is(a.value,i),r.value.startRecording(),e.value=!0}async function c(){var i,s;e.value=!1,null==(i=n.value)||i.stopRecording((()=>{const e=n.value.getBlob(),r=URL.createObjectURL(e);Hs(Ps("camera"),r),window.URL.revokeObjectURL(r),n.value=void 0,t.value||u(o)})),null==(s=r.value)||s.stopRecording((()=>{const e=r.value.getBlob(),t=URL.createObjectURL(e);Hs(Ps("screen"),t),window.URL.revokeObjectURL(t),u(a),r.value=void 0}))}function u(e){const t=e.value;t&&(t.getTracks().forEach((e=>{e.stop(),t.removeTrack(e)})),e.value=void 0)}return Fn(Da,(async t=>{if("none"===t)u(o);else{if(e.value)return;o.value&&(u(o),await s())}})),aa("beforeunload",(t=>{e.value&&(confirm("Recording is not saved yet, do you want to leave?")||(t.preventDefault(),t.returnValue=""))})),{recording:e,showAvatar:t,toggleRecording:function(){e.value?c():l()},startRecording:l,stopRecording:c,toggleAvatar:async function(){"none"!==Da.value&&(t.value?(t.value=!1,e.value||u(o)):(await s(),o.value&&(t.value=!!o.value)))},recorderCamera:n,recorderSlides:r,streamCamera:o,streamSlides:a}}();Xn({expose:[],setup(e){const t=ca("webcam-size",Math.round(Math.min(window.innerHeight,window.innerWidth/8))),n=ca("webcam-x",window.innerWidth-t.value-30),r=ca("webcam-y",window.innerHeight-t.value-30),o=ft(),a=ft(),i=ft(),{streamCamera:s,showAvatar:l}=Vs;En((()=>{i.value&&(i.value.srcObject=s.value)}),{flush:"post"});const c=Zr((()=>({left:`${n.value}px`,top:`${r.value}px`}))),u=Zr((()=>({width:`${t.value}px`,height:`${t.value}px`}))),p=Zr((()=>({width:"14px",height:"14px",top:.8536*t.value-7+"px",left:.8536*t.value-7+"px",cursor:"nwse-resize"}))),d=ft(!1),f=ft(!1);let h=0,m=0;function g(){n.value>=window.innerWidth&&(n.value=window.innerWidth-t.value-30),r.value>=window.innerHeight&&(r.value=window.innerHeight-t.value-30)}return aa(o,"pointerdown",(e=>{if(o.value){d.value=!0;const t=o.value.getBoundingClientRect();h=e.screenX-t.x,m=e.screenY-t.y}})),aa(a,"pointerdown",(e=>{if(o.value){f.value=!0;const t=o.value.getBoundingClientRect();h=e.screenX-t.x,m=e.screenY-t.y}})),aa(window,"pointerup",(e=>{d.value=!1,f.value=!1})),aa(window,"pointermove",(e=>{if(d.value&&(n.value=e.screenX-h,r.value=e.screenY-m),f.value&&o.value){const n=o.value.getBoundingClientRect();t.value=Math.max(10,Math.min(e.clientX-n.x,e.clientY-n.y)/.8536)}})),aa("resize",g),Cn(g),(e,t)=>vt(s)&&vt(l)&&"none"!==vt(Da)?(dr(),hr("div",{key:0,class:"fixed z-10",style:vt(c)},[br("div",{ref:o,class:"rounded-full shadow bg-gray-400 bg-opacity-10 overflow-hidden object-cover",style:vt(u)},[br("video",{ref:i,autoplay:"",muted:"",volume:"0",class:"object-cover min-w-full min-h-full",style:{transform:"rotateY(180deg)"}},null,512)],4),br("div",{ref:a,class:["absolute bottom-0 right-0 rounded-full bg-main shadow opacity-0 shadow z-30 hover:opacity-100 dark:border dark:border-true-gray-700",f.value?"!opacity-100":""],style:vt(p)},null,6)],4)):Sr("v-if",!0)}});const $s={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},qs=br("path",{d:"M21 26H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h17a2 2 0 0 1 2 2v4.06l5.42-3.87A1 1 0 0 1 30 9v14a1 1 0 0 1-1.58.81L23 19.94V24a2 2 0 0 1-2 2zM4 8v16h17v-6a1 1 0 0 1 1.58-.81L28 21.06V10.94l-5.42 3.87A1 1 0 0 1 21 14V8z",fill:"currentColor"},null,-1);var Gs={render:function(e,t){return dr(),hr("svg",$s,[qs])}},Ks=Xn({expose:[],props:{modelValue:{default:!1},class:{default:""}},setup(e,{emit:t}){const n=e,r=va(n,"modelValue",t),o=ht();function a(e){(null==e?void 0:e.target)===o.value&&(r.value=!1)}return(e,t)=>$n((dr(),hr("div",{ref:o,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20",bg:"black opacity-80",onClick:a},[br("div",{class:["m-auto rounded-md bg-main shadow",n.class],"dark:border":"~ gray-400 opacity-10"},[Jt(e.$slots,"default")],2)],512)),[[Eo,vt(r)]])}});const Ys={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Xs=br("path",{d:"M13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z",fill:"currentColor"},null,-1);var Js={render:function(e,t){return dr(),hr("svg",Ys,[Xs])}};nn("data-v-aaecc568");const Zs={class:"select-list"},Qs={class:"title"},el={class:"items"};rn();var tl=Xn({expose:[],props:{modelValue:{type:[Object,String,Number]},title:{type:String},items:{type:Array}},setup(e,{emit:t}){const n=va(e,"modelValue",t,{passive:!0});return(t,r)=>{const o=Js;return dr(),hr("div",Zs,[br("div",Qs,b(e.title),1),br("div",el,[(dr(!0),hr(ir,null,eo(e.items,(e=>(dr(),hr("div",{key:e.value,class:["item",{active:vt(n)===e.value}],onClick:()=>{var t;n.value=e.value,null==(t=e.onClick)||t.call(e)}},[br(o,{class:["text-green-500",{"opacity-0":vt(n)!==e.value}]},null,8,["class"]),xr(" "+b(e.display||e.value),1)],10,["onClick"])))),128))])])}}});tl.__scopeId="data-v-aaecc568";const nl={class:"text-sm"};var rl=Xn({expose:[],setup(e){const t=Zr((()=>[{value:"none",display:"None"},...Bs.value.map((e=>({value:e.deviceId,display:e.label})))])),n=Zr((()=>[{value:"none",display:"None"},...Ws.value.map((e=>({value:e.deviceId,display:e.label})))]));return Us(),(e,r)=>(dr(),hr("div",nl,[br(tl,{modelValue:vt(Da),"onUpdate:modelValue":r[1]||(r[1]=e=>dt(Da)?Da.value=e:null),title:"Camera",items:vt(t)},null,8,["modelValue","items"]),br(tl,{modelValue:vt(Fa),"onUpdate:modelValue":r[2]||(r[2]=e=>dt(Fa)?Fa.value=e:null),title:"Microphone",items:vt(n)},null,8,["modelValue","items"])]))}});const ol={class:"flex gap-2 text-xl"},al=xr("Recording "),il={class:"grid grid-cols-2 gap-4"},sl={class:"flex flex-col gap-2 py-2"},ll={class:"form-text"},cl=br("label",{for:"title"},"Recording Name",-1),ul=br("div",{class:"text-xs w-full opacity-50 py-2"},[br("div",null,[xr("This will be used in the output filename that might "),br("br"),xr("help you better orangize your recording chips.")])],-1),pl={class:"form-check"},dl={class:"text-xs w-full opacity-50"},fl=br("div",{class:"mt-2 opacity-50"}," Enumated filenames ",-1),hl={class:"font-mono"},ml={key:0,class:"font-mono"},gl=br("div",{class:"flex-auto"},null,-1);Xn({expose:[],props:{modelValue:{default:!1}},setup(e,{emit:t}){const n=va(e,"modelValue",t),{startRecording:r}=Vs;function o(){n.value=!1}async function a(){o(),await Pt(),r()}return(e,t)=>{const r=Gs;return dr(),hr(Ks,{modelValue:vt(n),"onUpdate:modelValue":t[4]||(t[4]=e=>dt(n)?n.value=e:null),class:"px-6 py-4 recording-dialog flex flex-col gap-2"},{default:an((()=>[br("div",ol,[br(r,{class:"my-auto"}),al]),br("div",il,[br("div",sl,[br("div",ll,[cl,$n(br("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>dt(js)?js.value=e:null),class:"bg-transparent text-current",name:"title",type:"text",placeholder:"Enter the title..."},null,512),[[Mo,vt(js)]]),ul]),br("div",pl,[$n(br("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>dt(_s)?_s.value=e:null),name:"record-camera",type:"checkbox"},null,512),[[To,vt(_s)]]),br("label",{for:"record-camera",onClick:t[3]||(t[3]=e=>_s.value=!vt(_s))},"Record camera sperately")]),br("div",dl,[fl,br("div",hl,b(vt(Ps)("screen")),1),vt(_s)?(dr(),hr("div",ml,b(vt(Ps)("camera")),1)):Sr("v-if",!0)])]),br(rl)]),br("div",{class:"flex my-1"},[br("button",{class:"cancel",onClick:o}," Cancel "),gl,br("button",{onClick:a}," Start ")])])),_:1},8,["modelValue"])}}});const vl={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},yl=br("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[br("div",{class:"flex gap-1 children:my-auto"},[br("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),br("img",{class:"w-5 h-5",src:"assets/logo.b72bde5d.png",alt:"Slidev"}),br("div",{style:{color:"#2082A6"}},[br("b",null,"Sli"),xr("dev ")])])],-1);var kl=Xn({expose:[],props:{modelValue:{default:!1}},setup(e,{emit:t}){const n=va(e,"modelValue",t);return(e,t)=>(dr(),hr(Ks,{modelValue:vt(n),"onUpdate:modelValue":t[1]||(t[1]=e=>dt(n)?n.value=e:null),class:"px-6 py-4"},{default:an((()=>[br("div",vl,["string"==typeof vt(hs).info?(dr(),hr("div",{key:0,class:"mb-4",innerHTML:vt(hs).info},null,8,["innerHTML"])):Sr("v-if",!0),yl])])),_:1},8,["modelValue"]))}}),bl=Xn({expose:[],setup(e){const t=ft(),n=ft(""),r=Zr((()=>+n.value)),o=Zr((()=>!isNaN(r.value)&&r.value>0&&r.value<=cd.value));function a(){o.value&&Td(r.value),i()}function i(){wa.value=!1}return ea(wa,(async()=>{var e;n.value="",await Pt(),null==(e=t.value)||e.focus()})),(e,r)=>(dr(),hr("div",{class:["fixed right-5 bg-main transform transition-all",vt(wa)?"top-5":"-top-20"],shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:gray-400 dark:opacity-25"},[$n(br("input",{ref:t,"onUpdate:modelValue":r[1]||(r[1]=e=>n.value=e),type:"number",disabled:!vt(wa),class:["outline-none bg-transparent",{"text-red-400":!vt(o)&&n.value}],placeholder:"Goto...",onKeydown:[Ro(a,["enter"]),Ro(i,["escape"])],onBlur:i},null,42,["disabled","onKeydown"]),[[Mo,n.value]])],2))}});bl.__scopeId="data-v-ffce27da";var wl=Xn({expose:[],setup:e=>(e,t)=>(dr(),hr(ir,null,[br(Ds,{modelValue:vt(ya),"onUpdate:modelValue":t[1]||(t[1]=e=>dt(ya)?ya.value=e:null)},null,8,["modelValue"]),br(bl),Sr("v-if",!0),vt(hs).info?(dr(),hr(kl,{key:1,modelValue:vt(ba),"onUpdate:modelValue":t[3]||(t[3]=e=>dt(ba)?ba.value=e:null)},null,8,["modelValue"])):Sr("v-if",!0)],64))});const xl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Sl=br("path",{d:"M8 14h11v2H8zm0 5h13v2H8z",fill:"currentColor"},null,-1),Cl=br("path",{d:"M28 4H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 2v2H4V6zM4 26V10h24v16z",fill:"currentColor"},null,-1);var Ml={render:function(e,t){return dr(),hr("svg",xl,[Sl,Cl])}};const Tl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Ll=br("path",{d:"M26 30H6a2.002 2.002 0 0 1-2-2V4a2.002 2.002 0 0 1 2-2h20a2.002 2.002 0 0 1 2 2v24a2.002 2.002 0 0 1-2 2zM6 4v24h20V4z",fill:"currentColor"},null,-1),Al=br("path",{d:"M23 20H12v-2h11z",fill:"currentColor"},null,-1),Ol=br("path",{d:"M23 25h-7v-2h7z",fill:"currentColor"},null,-1);var Rl={render:function(e,t){return dr(),hr("svg",Tl,[Ll,Al,Ol])}};const El={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Dl=br("path",{d:"M26 28H6a2.003 2.003 0 0 1-2-2V6a2.003 2.003 0 0 1 2-2h10v2H6v20h20V16h2v10a2.003 2.003 0 0 1-2 2z",fill:"currentColor"},null,-1),Fl=br("path",{d:"M20 2v2h6.586L18 12.586L19.414 14L28 5.414V12h2V2H20z",fill:"currentColor"},null,-1);var Nl,Il={render:function(e,t){return dr(),hr("svg",El,[Dl,Fl])}},jl={exports:{}},_l=jl.exports=function(){var e=navigator.userAgent,t=navigator.platform,n=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),o=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),a=/Edge\/(\d+)/.exec(e),i=r||o||a,s=i&&(r?document.documentMode||6:+(a||o)[1]),l=!a&&/WebKit\//.test(e),c=l&&/Qt\/\d+\.\d+/.test(e),u=!a&&/Chrome\//.test(e),p=/Opera\//.test(e),d=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),h=/PhantomJS/.test(e),m=d&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),g=/Android/.test(e),v=m||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=m||/Mac/.test(t),k=/\bCrOS\b/.test(e),b=/win/i.test(t),w=p&&e.match(/Version\/(\d*\.\d*)/);w&&(w=Number(w[1])),w&&w>=15&&(p=!1,l=!0);var x=y&&(c||p&&(null==w||w<12.11)),S=n||i&&s>=9;function C(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var M,T=function(e,t){var n=e.className,r=C(t).exec(n);if(r){var o=n.slice(r.index+r[0].length);e.className=n.slice(0,r.index)+(o?r[1]+o:"")}};function L(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function A(e,t){return L(e).appendChild(t)}function O(e,t,n,r){var o=document.createElement(e);if(n&&(o.className=n),r&&(o.style.cssText=r),"string"==typeof t)o.appendChild(document.createTextNode(t));else if(t)for(var a=0;a<t.length;++a)o.appendChild(t[a]);return o}function R(e,t,n,r){var o=O(e,t,n,r);return o.setAttribute("role","presentation"),o}function E(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function D(){var e;try{e=document.activeElement}catch(Fe){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function F(e,t){var n=e.className;C(t).test(n)||(e.className+=(n?" ":"")+t)}function N(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!C(n[r]).test(t)&&(t+=" "+n[r]);return t}M=document.createRange?function(e,t,n,r){var o=document.createRange();return o.setEnd(r||e,n),o.setStart(e,t),o}:function(e,t,n){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(Fe){return r}return r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r};var I=function(e){e.select()};function j(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function _(e,t,n){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===n&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function P(e,t,n,r,o){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var a=r||0,i=o||0;;){var s=e.indexOf("\t",a);if(s<0||s>=t)return i+(t-a);i+=s-a,i+=n-i%n,a=s+1}}m?I=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:i&&(I=function(e){try{e.select()}catch(t){}});var z=function(){this.id=null,this.f=null,this.time=0,this.handler=j(this.onTimeout,this)};function B(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}z.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},z.prototype.set=function(e,t){this.f=t;var n=+new Date+e;(!this.id||n<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=n)};var W=50,U={toString:function(){return"CodeMirror.Pass"}},H={scroll:!1},V={origin:"*mouse"},$={origin:"+move"};function q(e,t,n){for(var r=0,o=0;;){var a=e.indexOf("\t",r);-1==a&&(a=e.length);var i=a-r;if(a==e.length||o+i>=t)return r+Math.min(i,t-o);if(o+=a-r,r=a+1,(o+=n-o%n)>=t)return r}}var G=[""];function K(e){for(;G.length<=e;)G.push(Y(G)+" ");return G[e]}function Y(e){return e[e.length-1]}function X(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function J(e,t,n){for(var r=0,o=n(t);r<e.length&&n(e[r])<=o;)r++;e.splice(r,0,t)}function Z(){}function Q(e,t){var n;return Object.create?n=Object.create(e):(Z.prototype=e,n=new Z),t&&_(t,n),n}var ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function te(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||ee.test(e))}function ne(e,t){return t?!!(t.source.indexOf("\\w")>-1&&te(e))||t.test(e):te(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var oe=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ae(e){return e.charCodeAt(0)>=768&&oe.test(e)}function ie(e,t,n){for(;(n<0?t>0:t<e.length)&&ae(e.charAt(t));)t+=n;return t}function se(e,t,n){for(var r=t>n?-1:1;;){if(t==n)return t;var o=(t+n)/2,a=r<0?Math.ceil(o):Math.floor(o);if(a==t)return e(a)?t:n;e(a)?n=a:t=a+r}}function le(e,t,n,r){if(!e)return r(t,n,"ltr",0);for(var o=!1,a=0;a<e.length;++a){var i=e[a];(i.from<n&&i.to>t||t==n&&i.to==t)&&(r(Math.max(i.from,t),Math.min(i.to,n),1==i.level?"rtl":"ltr",a),o=!0)}o||r(t,n,"ltr")}var ce=null;function ue(e,t,n){var r;ce=null;for(var o=0;o<e.length;++o){var a=e[o];if(a.from<t&&a.to>t)return o;a.to==t&&(a.from!=a.to&&"before"==n?r=o:ce=o),a.from==t&&(a.from!=a.to&&"before"!=n?r=o:ce=o)}return null!=r?r:ce}var pe=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function n(n){return n<=247?e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?t.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L"}var r=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,i=/[Lb1n]/,s=/[1n]/;function l(e,t,n){this.level=e,this.from=t,this.to=n}return function(e,t){var c="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!r.test(e))return!1;for(var u=e.length,p=[],d=0;d<u;++d)p.push(n(e.charCodeAt(d)));for(var f=0,h=c;f<u;++f){var m=p[f];"m"==m?p[f]=h:h=m}for(var g=0,v=c;g<u;++g){var y=p[g];"1"==y&&"r"==v?p[g]="n":a.test(y)&&(v=y,"r"==y&&(p[g]="R"))}for(var k=1,b=p[0];k<u-1;++k){var w=p[k];"+"==w&&"1"==b&&"1"==p[k+1]?p[k]="1":","!=w||b!=p[k+1]||"1"!=b&&"n"!=b||(p[k]=b),b=w}for(var x=0;x<u;++x){var S=p[x];if(","==S)p[x]="N";else if("%"==S){var C=void 0;for(C=x+1;C<u&&"%"==p[C];++C);for(var M=x&&"!"==p[x-1]||C<u&&"1"==p[C]?"1":"N",T=x;T<C;++T)p[T]=M;x=C-1}}for(var L=0,A=c;L<u;++L){var O=p[L];"L"==A&&"1"==O?p[L]="L":a.test(O)&&(A=O)}for(var R=0;R<u;++R)if(o.test(p[R])){var E=void 0;for(E=R+1;E<u&&o.test(p[E]);++E);for(var D="L"==(R?p[R-1]:c),F=D==("L"==(E<u?p[E]:c))?D?"L":"R":c,N=R;N<E;++N)p[N]=F;R=E-1}for(var I,j=[],_=0;_<u;)if(i.test(p[_])){var P=_;for(++_;_<u&&i.test(p[_]);++_);j.push(new l(0,P,_))}else{var z=_,B=j.length,W="rtl"==t?1:0;for(++_;_<u&&"L"!=p[_];++_);for(var U=z;U<_;)if(s.test(p[U])){z<U&&(j.splice(B,0,new l(1,z,U)),B+=W);var H=U;for(++U;U<_&&s.test(p[U]);++U);j.splice(B,0,new l(2,H,U)),B+=W,z=U}else++U;z<_&&j.splice(B,0,new l(1,z,_))}return"ltr"==t&&(1==j[0].level&&(I=e.match(/^\s+/))&&(j[0].from=I[0].length,j.unshift(new l(0,0,I[0].length))),1==Y(j).level&&(I=e.match(/\s+$/))&&(Y(j).to-=I[0].length,j.push(new l(0,u-I[0].length,u)))),"rtl"==t?j.reverse():j}}();function de(e,t){var n=e.order;return null==n&&(n=e.order=pe(e.text,t)),n}var fe=[],he=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||fe).concat(n)}};function me(e,t){return e._handlers&&e._handlers[t]||fe}function ge(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers,o=r&&r[t];if(o){var a=B(o,n);a>-1&&(r[t]=o.slice(0,a).concat(o.slice(a+1)))}}}function ve(e,t){var n=me(e,t);if(n.length)for(var r=Array.prototype.slice.call(arguments,2),o=0;o<n.length;++o)n[o].apply(null,r)}function ye(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),ve(e,n||t.type,e,t),Ce(t)||t.codemirrorIgnore}function ke(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==B(n,t[r])&&n.push(t[r])}function be(e,t){return me(e,t).length>0}function we(e){e.prototype.on=function(e,t){he(this,e,t)},e.prototype.off=function(e,t){ge(this,e,t)}}function xe(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Se(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ce(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Me(e){xe(e),Se(e)}function Te(e){return e.target||e.srcElement}function Le(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var Ae,Oe,Re=function(){if(i&&s<9)return!1;var e=O("div");return"draggable"in e||"dragDrop"in e}();function Ee(e){if(null==Ae){var t=O("span","​");A(e,O("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ae=t.offsetWidth<=1&&t.offsetHeight>2&&!(i&&s<8))}var n=Ae?O("span","​"):O("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function De(e){if(null!=Oe)return Oe;var t=A(e,document.createTextNode("AخA")),n=M(t,0,1).getBoundingClientRect(),r=M(t,1,2).getBoundingClientRect();return L(e),!(!n||n.left==n.right)&&(Oe=r.right-n.right<3)}var Fe,Ne=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;t<=r;){var o=e.indexOf("\n",t);-1==o&&(o=e.length);var a=e.slice(t,"\r"==e.charAt(o-1)?o-1:o),i=a.indexOf("\r");-1!=i?(n.push(a.slice(0,i)),t+=i+1):(n.push(a),t=o+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Ie=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(Fe){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(Fe){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},je="oncopy"in(Fe=O("div"))||(Fe.setAttribute("oncopy","return;"),"function"==typeof Fe.oncopy),_e=null;function Pe(e){if(null!=_e)return _e;var t=A(e,O("span","x")),n=t.getBoundingClientRect(),r=M(t,0,1).getBoundingClientRect();return _e=Math.abs(n.left-r.left)>1}var ze={},Be={};function We(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ze[e]=t}function Ue(e,t){Be[e]=t}function He(e){if("string"==typeof e&&Be.hasOwnProperty(e))e=Be[e];else if(e&&"string"==typeof e.name&&Be.hasOwnProperty(e.name)){var t=Be[e.name];"string"==typeof t&&(t={name:t}),(e=Q(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return He("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return He("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ve(e,t){t=He(t);var n=ze[t.name];if(!n)return Ve(e,"text/plain");var r=n(e,t);if($e.hasOwnProperty(t.name)){var o=$e[t.name];for(var a in o)o.hasOwnProperty(a)&&(r.hasOwnProperty(a)&&(r["_"+a]=r[a]),r[a]=o[a])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var i in t.modeProps)r[i]=t.modeProps[i];return r}var $e={};function qe(e,t){_(t,$e.hasOwnProperty(e)?$e[e]:$e[e]={})}function Ge(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var o=t[r];o instanceof Array&&(o=o.concat([])),n[r]=o}return n}function Ke(e,t){for(var n;e.innerMode&&(n=e.innerMode(t))&&n.mode!=e;)t=n.state,e=n.mode;return n||{mode:e,state:t}}function Ye(e,t,n){return!e.startState||e.startState(t,n)}var Xe=function(e,t,n){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Je(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var o=n.children[r],a=o.chunkSize();if(t<a){n=o;break}t-=a}return n.lines[t]}function Ze(e,t,n){var r=[],o=t.line;return e.iter(t.line,n.line+1,(function(e){var a=e.text;o==n.line&&(a=a.slice(0,n.ch)),o==t.line&&(a=a.slice(t.ch)),r.push(a),++o})),r}function Qe(e,t,n){var r=[];return e.iter(t,n,(function(e){r.push(e.text)})),r}function et(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function tt(e){if(null==e.parent)return null;for(var t=e.parent,n=B(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var o=0;r.children[o]!=t;++o)n+=r.children[o].chunkSize();return n+t.first}function nt(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var o=e.children[r],a=o.height;if(t<a){e=o;continue e}t-=a,n+=o.chunkSize()}return n}while(!e.lines);for(var i=0;i<e.lines.length;++i){var s=e.lines[i].height;if(t<s)break;t-=s}return n+i}function rt(e,t){return t>=e.first&&t<e.first+e.size}function ot(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function at(e,t,n){if(void 0===n&&(n=null),!(this instanceof at))return new at(e,t,n);this.line=e,this.ch=t,this.sticky=n}function it(e,t){return e.line-t.line||e.ch-t.ch}function st(e,t){return e.sticky==t.sticky&&0==it(e,t)}function lt(e){return at(e.line,e.ch)}function ct(e,t){return it(e,t)<0?t:e}function ut(e,t){return it(e,t)<0?e:t}function pt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function dt(e,t){if(t.line<e.first)return at(e.first,0);var n=e.first+e.size-1;return t.line>n?at(n,Je(e,n).text.length):ft(t,Je(e,t.line).text.length)}function ft(e,t){var n=e.ch;return null==n||n>t?at(e.line,t):n<0?at(e.line,0):e}function ht(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=dt(e,t[r]);return n}Xe.prototype.eol=function(){return this.pos>=this.string.length},Xe.prototype.sol=function(){return this.pos==this.lineStart},Xe.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Xe.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Xe.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Xe.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Xe.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Xe.prototype.skipToEnd=function(){this.pos=this.string.length},Xe.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Xe.prototype.backUp=function(e){this.pos-=e},Xe.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=P(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.indentation=function(){return P(this.string,null,this.tabSize)-(this.lineStart?P(this.string,this.lineStart,this.tabSize):0)},Xe.prototype.match=function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var o=function(e){return n?e.toLowerCase():e};if(o(this.string.substr(this.pos,e.length))==o(e))return!1!==t&&(this.pos+=e.length),!0},Xe.prototype.current=function(){return this.string.slice(this.start,this.pos)},Xe.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Xe.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Xe.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var mt=function(e,t){this.state=e,this.lookAhead=t},gt=function(e,t,n,r){this.state=t,this.doc=e,this.line=n,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function vt(e,t,n,r){var o=[e.state.modeGen],a={};Tt(e,t.text,e.doc.mode,n,(function(e,t){return o.push(e,t)}),a,r);for(var i=n.state,s=function(r){n.baseTokens=o;var s=e.state.overlays[r],l=1,c=0;n.state=!0,Tt(e,t.text,s.mode,n,(function(e,t){for(var n=l;c<e;){var r=o[l];r>e&&o.splice(l,1,e,o[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(s.opaque)o.splice(n,l-n,e,"overlay "+t),l=n+2;else for(;n<l;n+=2){var a=o[n+1];o[n+1]=(a?a+" ":"")+"overlay "+t}}),a),n.state=i,n.baseTokens=null,n.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:o,classes:a.bgClass||a.textClass?a:null}}function yt(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=kt(e,tt(t)),o=t.text.length>e.options.maxHighlightLength&&Ge(e.doc.mode,r.state),a=vt(e,t,r);o&&(r.state=o),t.stateAfter=r.save(!o),t.styles=a.styles,a.classes?t.styleClasses=a.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function kt(e,t,n){var r=e.doc,o=e.display;if(!r.mode.startState)return new gt(r,!0,t);var a=Lt(e,t,n),i=a>r.first&&Je(r,a-1).stateAfter,s=i?gt.fromSaved(r,i,a):new gt(r,Ye(r.mode),a);return r.iter(a,t,(function(n){bt(e,n.text,s);var r=s.line;n.stateAfter=r==t-1||r%5==0||r>=o.viewFrom&&r<o.viewTo?s.save():null,s.nextLine()})),n&&(r.modeFrontier=s.line),s}function bt(e,t,n,r){var o=e.doc.mode,a=new Xe(t,e.options.tabSize,n);for(a.start=a.pos=r||0,""==t&&wt(o,n.state);!a.eol();)xt(o,a,n.state),a.start=a.pos}function wt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=Ke(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function xt(e,t,n,r){for(var o=0;o<10;o++){r&&(r[0]=Ke(e,n).mode);var a=e.token(t,n);if(t.pos>t.start)return a}throw new Error("Mode "+e.name+" failed to advance stream.")}gt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},gt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},gt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},gt.fromSaved=function(e,t,n){return t instanceof mt?new gt(e,Ge(e.mode,t.state),n,t.lookAhead):new gt(e,Ge(e.mode,t),n)},gt.prototype.save=function(e){var t=!1!==e?Ge(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new mt(t,this.maxLookAhead):t};var St=function(e,t,n){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=n};function Ct(e,t,n,r){var o,a,i=e.doc,s=i.mode,l=Je(i,(t=dt(i,t)).line),c=kt(e,t.line,n),u=new Xe(l.text,e.options.tabSize,c);for(r&&(a=[]);(r||u.pos<t.ch)&&!u.eol();)u.start=u.pos,o=xt(s,u,c.state),r&&a.push(new St(u,o,Ge(i.mode,c.state)));return r?a:new St(u,o,c.state)}function Mt(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|\\s)"+n[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+n[2])}return e}function Tt(e,t,n,r,o,a,i){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,p=new Xe(t,e.options.tabSize,r),d=e.options.addModeClass&&[null];for(""==t&&Mt(wt(n,r.state),a);!p.eol();){if(p.pos>e.options.maxHighlightLength?(s=!1,i&&bt(e,t,r,p.pos),p.pos=t.length,l=null):l=Mt(xt(n,p,r.state,d),a),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||u!=l){for(;c<p.start;)o(c=Math.min(p.start,c+5e3),u);u=l}p.start=p.pos}for(;c<p.pos;){var h=Math.min(p.pos,c+5e3);o(h,u),c=h}}function Lt(e,t,n){for(var r,o,a=e.doc,i=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>i;--s){if(s<=a.first)return a.first;var l=Je(a,s-1),c=l.stateAfter;if(c&&(!n||s+(c instanceof mt?c.lookAhead:0)<=a.modeFrontier))return s;var u=P(l.text,null,e.options.tabSize);(null==o||r>u)&&(o=s-1,r=u)}return o}function At(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var n=e.first,r=t-1;r>n;r--){var o=Je(e,r).stateAfter;if(o&&(!(o instanceof mt)||r+o.lookAhead<t)){n=r+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,n)}}var Ot=!1,Rt=!1;function Et(){Ot=!0}function Dt(){Rt=!0}function Ft(e,t,n){this.marker=e,this.from=t,this.to=n}function Nt(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function It(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function jt(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function _t(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var a=e[o],i=a.marker;if(null==a.from||(i.inclusiveLeft?a.from<=t:a.from<t)||a.from==t&&"bookmark"==i.type&&(!n||!a.marker.insertLeft)){var s=null==a.to||(i.inclusiveRight?a.to>=t:a.to>t);(r||(r=[])).push(new Ft(i,a.from,s?null:a.to))}}return r}function Pt(e,t,n){var r;if(e)for(var o=0;o<e.length;++o){var a=e[o],i=a.marker;if(null==a.to||(i.inclusiveRight?a.to>=t:a.to>t)||a.from==t&&"bookmark"==i.type&&(!n||a.marker.insertLeft)){var s=null==a.from||(i.inclusiveLeft?a.from<=t:a.from<t);(r||(r=[])).push(new Ft(i,s?null:a.from-t,null==a.to?null:a.to-t))}}return r}function zt(e,t){if(t.full)return null;var n=rt(e,t.from.line)&&Je(e,t.from.line).markedSpans,r=rt(e,t.to.line)&&Je(e,t.to.line).markedSpans;if(!n&&!r)return null;var o=t.from.ch,a=t.to.ch,i=0==it(t.from,t.to),s=_t(n,o,i),l=Pt(r,a,i),c=1==t.text.length,u=Y(t.text).length+(c?o:0);if(s)for(var p=0;p<s.length;++p){var d=s[p];if(null==d.to){var f=Nt(l,d.marker);f?c&&(d.to=null==f.to?null:f.to+u):d.to=o}}if(l)for(var h=0;h<l.length;++h){var m=l[h];null!=m.to&&(m.to+=u),null==m.from?Nt(s,m.marker)||(m.from=u,c&&(s||(s=[])).push(m)):(m.from+=u,c&&(s||(s=[])).push(m))}s&&(s=Bt(s)),l&&l!=s&&(l=Bt(l));var g=[s];if(!c){var v,y=t.text.length-2;if(y>0&&s)for(var k=0;k<s.length;++k)null==s[k].to&&(v||(v=[])).push(new Ft(s[k].marker,null,null));for(var b=0;b<y;++b)g.push(v);g.push(l)}return g}function Bt(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Wt(e,t,n){var r=null;if(e.iter(t.line,n.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=B(r,n)||(r||(r=[])).push(n)}})),!r)return null;for(var o=[{from:t,to:n}],a=0;a<r.length;++a)for(var i=r[a],s=i.find(0),l=0;l<o.length;++l){var c=o[l];if(!(it(c.to,s.from)<0||it(c.from,s.to)>0)){var u=[l,1],p=it(c.from,s.from),d=it(c.to,s.to);(p<0||!i.inclusiveLeft&&!p)&&u.push({from:c.from,to:s.from}),(d>0||!i.inclusiveRight&&!d)&&u.push({from:s.to,to:c.to}),o.splice.apply(o,u),l+=u.length-3}}return o}function Ut(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Ht(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Vt(e){return e.inclusiveLeft?-1:0}function $t(e){return e.inclusiveRight?1:0}function qt(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),o=t.find(),a=it(r.from,o.from)||Vt(e)-Vt(t);if(a)return-a;var i=it(r.to,o.to)||$t(e)-$t(t);return i||t.id-e.id}function Gt(e,t){var n,r=Rt&&e.markedSpans;if(r)for(var o=void 0,a=0;a<r.length;++a)(o=r[a]).marker.collapsed&&null==(t?o.from:o.to)&&(!n||qt(n,o.marker)<0)&&(n=o.marker);return n}function Kt(e){return Gt(e,!0)}function Yt(e){return Gt(e,!1)}function Xt(e,t){var n,r=Rt&&e.markedSpans;if(r)for(var o=0;o<r.length;++o){var a=r[o];a.marker.collapsed&&(null==a.from||a.from<t)&&(null==a.to||a.to>t)&&(!n||qt(n,a.marker)<0)&&(n=a.marker)}return n}function Jt(e,t,n,r,o){var a=Je(e,t),i=Rt&&a.markedSpans;if(i)for(var s=0;s<i.length;++s){var l=i[s];if(l.marker.collapsed){var c=l.marker.find(0),u=it(c.from,n)||Vt(l.marker)-Vt(o),p=it(c.to,r)||$t(l.marker)-$t(o);if(!(u>=0&&p<=0||u<=0&&p>=0)&&(u<=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?it(c.to,n)>=0:it(c.to,n)>0)||u>=0&&(l.marker.inclusiveRight&&o.inclusiveLeft?it(c.from,r)<=0:it(c.from,r)<0)))return!0}}}function Zt(e){for(var t;t=Kt(e);)e=t.find(-1,!0).line;return e}function Qt(e){for(var t;t=Yt(e);)e=t.find(1,!0).line;return e}function en(e){for(var t,n;t=Yt(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function tn(e,t){var n=Je(e,t),r=Zt(n);return n==r?t:tt(r)}function nn(e,t){if(t>e.lastLine())return t;var n,r=Je(e,t);if(!rn(e,r))return t;for(;n=Yt(r);)r=n.find(1,!0).line;return tt(r)+1}function rn(e,t){var n=Rt&&t.markedSpans;if(n)for(var r=void 0,o=0;o<n.length;++o)if((r=n[o]).marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&on(e,t,r))return!0}}function on(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return on(e,r.line,Nt(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var o=void 0,a=0;a<t.markedSpans.length;++a)if((o=t.markedSpans[a]).marker.collapsed&&!o.marker.widgetNode&&o.from==n.to&&(null==o.to||o.to!=n.from)&&(o.marker.inclusiveLeft||n.marker.inclusiveRight)&&on(e,t,o))return!0}function an(e){for(var t=0,n=(e=Zt(e)).parent,r=0;r<n.lines.length;++r){var o=n.lines[r];if(o==e)break;t+=o.height}for(var a=n.parent;a;a=(n=a).parent)for(var i=0;i<a.children.length;++i){var s=a.children[i];if(s==n)break;t+=s.height}return t}function sn(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Kt(r);){var o=t.find(0,!0);r=o.from.line,n+=o.from.ch-o.to.ch}for(r=e;t=Yt(r);){var a=t.find(0,!0);n-=r.text.length-a.from.ch,n+=(r=a.to.line).text.length-a.to.ch}return n}function ln(e){var t=e.display,n=e.doc;t.maxLine=Je(n,n.first),t.maxLineLength=sn(t.maxLine),t.maxLineChanged=!0,n.iter((function(e){var n=sn(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)}))}var cn=function(e,t,n){this.text=e,Ht(this,t),this.height=n?n(this):1};function un(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ut(e),Ht(e,n);var o=r?r(e):1;o!=e.height&&et(e,o)}function pn(e){e.parent=null,Ut(e)}cn.prototype.lineNo=function(){return tt(this)},we(cn);var dn={},fn={};function hn(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?fn:dn;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function mn(e,t){var n=R("span",null,null,l?"padding-right: .1px":null),r={pre:R("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var a=o?t.rest[o-1]:t.line,i=void 0;r.pos=0,r.addToken=vn,De(e.display.measure)&&(i=de(a,e.doc.direction))&&(r.addToken=kn(r.addToken,i)),r.map=[],wn(a,r,yt(e,a,t!=e.display.externalMeasured&&tt(a))),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=N(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=N(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Ee(e.display.measure))),0==o?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=r.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return ve(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=N(r.pre.className,r.textClass||"")),r}function gn(e){var t=O("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function vn(e,t,n,r,o,a,l){if(t){var c,u=e.splitSpaces?yn(t,e.trailingSpace):t,p=e.cm.state.specialChars,d=!1;if(p.test(t)){c=document.createDocumentFragment();for(var f=0;;){p.lastIndex=f;var h=p.exec(t),m=h?h.index-f:t.length-f;if(m){var g=document.createTextNode(u.slice(f,f+m));i&&s<9?c.appendChild(O("span",[g])):c.appendChild(g),e.map.push(e.pos,e.pos+m,g),e.col+=m,e.pos+=m}if(!h)break;f+=m+1;var v=void 0;if("\t"==h[0]){var y=e.cm.options.tabSize,k=y-e.col%y;(v=c.appendChild(O("span",K(k),"cm-tab"))).setAttribute("role","presentation"),v.setAttribute("cm-text","\t"),e.col+=k}else"\r"==h[0]||"\n"==h[0]?((v=c.appendChild(O("span","\r"==h[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",h[0]),e.col+=1):((v=e.cm.options.specialCharPlaceholder(h[0])).setAttribute("cm-text",h[0]),i&&s<9?c.appendChild(O("span",[v])):c.appendChild(v),e.col+=1);e.map.push(e.pos,e.pos+1,v),e.pos++}}else e.col+=t.length,c=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,c),i&&s<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),n||r||o||d||a||l){var b=n||"";r&&(b+=r),o&&(b+=o);var w=O("span",[c],b,a);if(l)for(var x in l)l.hasOwnProperty(x)&&"style"!=x&&"class"!=x&&w.setAttribute(x,l[x]);return e.content.appendChild(w)}e.content.appendChild(c)}}function yn(e,t){if(e.length>1&&!/  /.test(e))return e;for(var n=t,r="",o=0;o<e.length;o++){var a=e.charAt(o);" "!=a||!n||o!=e.length-1&&32!=e.charCodeAt(o+1)||(a=" "),r+=a,n=" "==a}return r}function kn(e,t){return function(n,r,o,a,i,s,l){o=o?o+" cm-force-border":"cm-force-border";for(var c=n.pos,u=c+r.length;;){for(var p=void 0,d=0;d<t.length&&!((p=t[d]).to>c&&p.from<=c);d++);if(p.to>=u)return e(n,r,o,a,i,s,l);e(n,r.slice(0,p.to-c),o,a,null,s,l),a=null,r=r.slice(p.to-c),c=p.to}}}function bn(e,t,n,r){var o=!r&&n.widgetNode;o&&e.map.push(e.pos,e.pos+t,o),!r&&e.cm.display.input.needsContentAttribute&&(o||(o=e.content.appendChild(document.createElement("span"))),o.setAttribute("cm-marker",n.id)),o&&(e.cm.display.input.setUneditable(o),e.content.appendChild(o)),e.pos+=t,e.trailingSpace=!1}function wn(e,t,n){var r=e.markedSpans,o=e.text,a=0;if(r)for(var i,s,l,c,u,p,d,f=o.length,h=0,m=1,g="",v=0;;){if(v==h){l=c=u=s="",d=null,p=null,v=1/0;for(var y=[],k=void 0,b=0;b<r.length;++b){var w=r[b],x=w.marker;if("bookmark"==x.type&&w.from==h&&x.widgetNode)y.push(x);else if(w.from<=h&&(null==w.to||w.to>h||x.collapsed&&w.to==h&&w.from==h)){if(null!=w.to&&w.to!=h&&v>w.to&&(v=w.to,c=""),x.className&&(l+=" "+x.className),x.css&&(s=(s?s+";":"")+x.css),x.startStyle&&w.from==h&&(u+=" "+x.startStyle),x.endStyle&&w.to==v&&(k||(k=[])).push(x.endStyle,w.to),x.title&&((d||(d={})).title=x.title),x.attributes)for(var S in x.attributes)(d||(d={}))[S]=x.attributes[S];x.collapsed&&(!p||qt(p.marker,x)<0)&&(p=w)}else w.from>h&&v>w.from&&(v=w.from)}if(k)for(var C=0;C<k.length;C+=2)k[C+1]==v&&(c+=" "+k[C]);if(!p||p.from==h)for(var M=0;M<y.length;++M)bn(t,0,y[M]);if(p&&(p.from||0)==h){if(bn(t,(null==p.to?f+1:p.to)-h,p.marker,null==p.from),null==p.to)return;p.to==h&&(p=!1)}}if(h>=f)break;for(var T=Math.min(f,v);;){if(g){var L=h+g.length;if(!p){var A=L>T?g.slice(0,T-h):g;t.addToken(t,A,i?i+l:l,u,h+A.length==v?c:"",s,d)}if(L>=T){g=g.slice(T-h),h=T;break}h=L,u=""}g=o.slice(a,a=n[m++]),i=hn(n[m++],t.cm.options)}}else for(var O=1;O<n.length;O+=2)t.addToken(t,o.slice(a,a=n[O]),hn(n[O+1],t.cm.options))}function xn(e,t,n){this.line=t,this.rest=en(t),this.size=this.rest?tt(Y(this.rest))-n+1:1,this.node=this.text=null,this.hidden=rn(e,t)}function Sn(e,t,n){for(var r,o=[],a=t;a<n;a=r){var i=new xn(e.doc,Je(e.doc,a),a);r=a+i.size,o.push(i)}return o}var Cn=null;function Mn(e){Cn?Cn.ops.push(e):e.ownsGroup=Cn={ops:[e],delayedCallbacks:[]}}function Tn(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var r=0;r<e.ops.length;r++){var o=e.ops[r];if(o.cursorActivityHandlers)for(;o.cursorActivityCalled<o.cursorActivityHandlers.length;)o.cursorActivityHandlers[o.cursorActivityCalled++].call(null,o.cm)}}while(n<t.length)}function Ln(e,t){var n=e.ownsGroup;if(n)try{Tn(n)}finally{Cn=null,t(n)}}var An=null;function On(e,t){var n=me(e,t);if(n.length){var r,o=Array.prototype.slice.call(arguments,2);Cn?r=Cn.delayedCallbacks:An?r=An:(r=An=[],setTimeout(Rn,0));for(var a=function(e){r.push((function(){return n[e].apply(null,o)}))},i=0;i<n.length;++i)a(i)}}function Rn(){var e=An;An=null;for(var t=0;t<e.length;++t)e[t]()}function En(e,t,n,r){for(var o=0;o<t.changes.length;o++){var a=t.changes[o];"text"==a?In(e,t):"gutter"==a?_n(e,t,n,r):"class"==a?jn(e,t):"widget"==a&&Pn(e,t,r)}t.changes=null}function Dn(e){return e.node==e.text&&(e.node=O("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),i&&s<8&&(e.node.style.zIndex=2)),e.node}function Fn(e,t){var n=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),t.background)n?t.background.className=n:(t.background.parentNode.removeChild(t.background),t.background=null);else if(n){var r=Dn(t);t.background=r.insertBefore(O("div",null,n),r.firstChild),e.display.input.setUneditable(t.background)}}function Nn(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):mn(e,t)}function In(e,t){var n=t.text.className,r=Nn(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,jn(e,t)):n&&(t.text.className=n)}function jn(e,t){Fn(e,t),t.line.wrapClass?Dn(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var n=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=n||""}function _n(e,t,n,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Dn(t);t.gutterBackground=O("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var a=t.line.gutterMarkers;if(e.options.lineNumbers||a){var i=Dn(t),s=t.gutter=O("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),e.display.input.setUneditable(s),i.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||a&&a["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(O("div",ot(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),a)for(var l=0;l<e.display.gutterSpecs.length;++l){var c=e.display.gutterSpecs[l].className,u=a.hasOwnProperty(c)&&a[c];u&&s.appendChild(O("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[c]+"px; width: "+r.gutterWidth[c]+"px"))}}}function Pn(e,t,n){t.alignable&&(t.alignable=null);for(var r=C("CodeMirror-linewidget"),o=t.node.firstChild,a=void 0;o;o=a)a=o.nextSibling,r.test(o.className)&&t.node.removeChild(o);Bn(e,t,n)}function zn(e,t,n,r){var o=Nn(e,t);return t.text=t.node=o.pre,o.bgClass&&(t.bgClass=o.bgClass),o.textClass&&(t.textClass=o.textClass),jn(e,t),_n(e,t,n,r),Bn(e,t,r),t.node}function Bn(e,t,n){if(Wn(e,t.line,t,n,!0),t.rest)for(var r=0;r<t.rest.length;r++)Wn(e,t.rest[r],t,n,!1)}function Wn(e,t,n,r,o){if(t.widgets)for(var a=Dn(n),i=0,s=t.widgets;i<s.length;++i){var l=s[i],c=O("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Un(l,c,n,r),e.display.input.setUneditable(c),o&&l.above?a.insertBefore(c,n.gutter||n.text):a.appendChild(c),On(l,"redraw")}}function Un(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var o=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(o-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=o+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function Hn(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!E(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),A(t.display.measure,O("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}function Vn(e,t){for(var n=Te(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function $n(e){return e.lineSpace.offsetTop}function qn(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Gn(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=A(e.measure,O("pre","x","CodeMirror-line-like")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Kn(e){return W-e.display.nativeBarWidth}function Yn(e){return e.display.scroller.clientWidth-Kn(e)-e.display.barWidth}function Xn(e){return e.display.scroller.clientHeight-Kn(e)-e.display.barHeight}function Jn(e,t,n){var r=e.options.lineWrapping,o=r&&Yn(e);if(!t.measure.heights||r&&t.measure.width!=o){var a=t.measure.heights=[];if(r){t.measure.width=o;for(var i=t.text.firstChild.getClientRects(),s=0;s<i.length-1;s++){var l=i[s],c=i[s+1];Math.abs(l.bottom-c.bottom)>2&&a.push((l.bottom+c.top)/2-n.top)}}a.push(n.bottom-n.top)}}function Zn(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var o=0;o<e.rest.length;o++)if(tt(e.rest[o])>n)return{map:e.measure.maps[o],cache:e.measure.caches[o],before:!0}}function Qn(e,t){var n=tt(t=Zt(t)),r=e.display.externalMeasured=new xn(e.doc,t,n);r.lineN=n;var o=r.built=mn(e,r);return r.text=o.pre,A(e.display.lineMeasure,o.pre),r}function er(e,t,n,r){return rr(e,nr(e,t),n,r)}function tr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[jr(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function nr(e,t){var n=tt(t),r=tr(e,n);r&&!r.text?r=null:r&&r.changes&&(En(e,r,n,Er(e)),e.curOp.forceUpdate=!0),r||(r=Qn(e,t));var o=Zn(r,t,n);return{line:t,view:r,rect:null,map:o.map,cache:o.cache,before:o.before,hasHeights:!1}}function rr(e,t,n,r,o){t.before&&(n=-1);var a,i=n+(r||"");return t.cache.hasOwnProperty(i)?a=t.cache[i]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Jn(e,t.view,t.rect),t.hasHeights=!0),(a=lr(e,t,n,r)).bogus||(t.cache[i]=a)),{left:a.left,right:a.right,top:o?a.rtop:a.top,bottom:o?a.rbottom:a.bottom}}var or,ar={left:0,right:0,top:0,bottom:0};function ir(e,t,n){for(var r,o,a,i,s,l,c=0;c<e.length;c+=3)if(s=e[c],l=e[c+1],t<s?(o=0,a=1,i="left"):t<l?a=1+(o=t-s):(c==e.length-3||t==l&&e[c+3]>t)&&(o=(a=l-s)-1,t>=l&&(i="right")),null!=o){if(r=e[c+2],s==l&&n==(r.insertLeft?"left":"right")&&(i=n),"left"==n&&0==o)for(;c&&e[c-2]==e[c-3]&&e[c-1].insertLeft;)r=e[2+(c-=3)],i="left";if("right"==n&&o==l-s)for(;c<e.length-3&&e[c+3]==e[c+4]&&!e[c+5].insertLeft;)r=e[(c+=3)+2],i="right";break}return{node:r,start:o,end:a,collapse:i,coverStart:s,coverEnd:l}}function sr(e,t){var n=ar;if("left"==t)for(var r=0;r<e.length&&(n=e[r]).left==n.right;r++);else for(var o=e.length-1;o>=0&&(n=e[o]).left==n.right;o--);return n}function lr(e,t,n,r){var o,a=ir(t.map,n,r),l=a.node,c=a.start,u=a.end,p=a.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){for(;c&&ae(t.line.text.charAt(a.coverStart+c));)--c;for(;a.coverStart+u<a.coverEnd&&ae(t.line.text.charAt(a.coverStart+u));)++u;if((o=i&&s<9&&0==c&&u==a.coverEnd-a.coverStart?l.parentNode.getBoundingClientRect():sr(M(l,c,u).getClientRects(),r)).left||o.right||0==c)break;u=c,c-=1,p="right"}i&&s<11&&(o=cr(e.display.measure,o))}else{var f;c>0&&(p=r="right"),o=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==r?f.length-1:0]:l.getBoundingClientRect()}if(i&&s<9&&!c&&(!o||!o.left&&!o.right)){var h=l.parentNode.getClientRects()[0];o=h?{left:h.left,right:h.left+Rr(e.display),top:h.top,bottom:h.bottom}:ar}for(var m=o.top-t.rect.top,g=o.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,k=0;k<y.length-1&&!(v<y[k]);k++);var b=k?y[k-1]:0,w=y[k],x={left:("right"==p?o.right:o.left)-t.rect.left,right:("left"==p?o.left:o.right)-t.rect.left,top:b,bottom:w};return o.left||o.right||(x.bogus=!0),e.options.singleCursorHeightPerLine||(x.rtop=m,x.rbottom=g),x}function cr(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Pe(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function ur(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function pr(e){e.display.externalMeasure=null,L(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)ur(e.display.view[t])}function dr(e){pr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function fr(){return u&&g?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function hr(){return u&&g?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function mr(e){var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;++n)e.widgets[n].above&&(t+=Hn(e.widgets[n]));return t}function gr(e,t,n,r,o){if(!o){var a=mr(t);n.top+=a,n.bottom+=a}if("line"==r)return n;r||(r="local");var i=an(t);if("local"==r?i+=$n(e.display):i-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();i+=s.top+("window"==r?0:hr());var l=s.left+("window"==r?0:fr());n.left+=l,n.right+=l}return n.top+=i,n.bottom+=i,n}function vr(e,t,n){if("div"==n)return t;var r=t.left,o=t.top;if("page"==n)r-=fr(),o-=hr();else if("local"==n||!n){var a=e.display.sizer.getBoundingClientRect();r+=a.left,o+=a.top}var i=e.display.lineSpace.getBoundingClientRect();return{left:r-i.left,top:o-i.top}}function yr(e,t,n,r,o){return r||(r=Je(e.doc,t.line)),gr(e,r,er(e,r,t.ch,o),n)}function kr(e,t,n,r,o,a){function i(t,i){var s=rr(e,o,t,i?"right":"left",a);return i?s.left=s.right:s.right=s.left,gr(e,r,s,n)}r=r||Je(e.doc,t.line),o||(o=nr(e,r));var s=de(r,e.doc.direction),l=t.ch,c=t.sticky;if(l>=r.text.length?(l=r.text.length,c="before"):l<=0&&(l=0,c="after"),!s)return i("before"==c?l-1:l,"before"==c);function u(e,t,n){return i(n?e-1:e,1==s[t].level!=n)}var p=ue(s,l,c),d=ce,f=u(l,p,"before"==c);return null!=d&&(f.other=u(l,d,"before"!=c)),f}function br(e,t){var n=0;t=dt(e.doc,t),e.options.lineWrapping||(n=Rr(e.display)*t.ch);var r=Je(e.doc,t.line),o=an(r)+$n(e.display);return{left:n,right:n,top:o,bottom:o+r.height}}function wr(e,t,n,r,o){var a=at(e,t,n);return a.xRel=o,r&&(a.outside=r),a}function xr(e,t,n){var r=e.doc;if((n+=e.display.viewOffset)<0)return wr(r.first,0,null,-1,-1);var o=nt(r,n),a=r.first+r.size-1;if(o>a)return wr(r.first+r.size-1,Je(r,a).text.length,null,1,1);t<0&&(t=0);for(var i=Je(r,o);;){var s=Tr(e,i,o,t,n),l=Xt(i,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var c=l.find(1);if(c.line==o)return c;i=Je(r,o=c.line)}}function Sr(e,t,n,r){r-=mr(t);var o=t.text.length,a=se((function(t){return rr(e,n,t-1).bottom<=r}),o,0);return{begin:a,end:o=se((function(t){return rr(e,n,t).top>r}),a,o)}}function Cr(e,t,n,r){return n||(n=nr(e,t)),Sr(e,t,n,gr(e,t,rr(e,n,r),"line").top)}function Mr(e,t,n,r){return!(e.bottom<=n)&&(e.top>n||(r?e.left:e.right)>t)}function Tr(e,t,n,r,o){o-=an(t);var a=nr(e,t),i=mr(t),s=0,l=t.text.length,c=!0,u=de(t,e.doc.direction);if(u){var p=(e.options.lineWrapping?Ar:Lr)(e,t,n,a,u,r,o);s=(c=1!=p.level)?p.from:p.to-1,l=c?p.to:p.from-1}var d,f,h=null,m=null,g=se((function(t){var n=rr(e,a,t);return n.top+=i,n.bottom+=i,!!Mr(n,r,o,!1)&&(n.top<=o&&n.left<=r&&(h=t,m=n),!0)}),s,l),v=!1;if(m){var y=r-m.left<m.right-r,k=y==c;g=h+(k?0:1),f=k?"after":"before",d=y?m.left:m.right}else{c||g!=l&&g!=s||g++,f=0==g?"after":g==t.text.length?"before":rr(e,a,g-(c?1:0)).bottom+i<=o==c?"after":"before";var b=kr(e,at(n,g,f),"line",t,a);d=b.left,v=o<b.top?-1:o>=b.bottom?1:0}return wr(n,g=ie(t.text,g,1),f,v,r-d)}function Lr(e,t,n,r,o,a,i){var s=se((function(s){var l=o[s],c=1!=l.level;return Mr(kr(e,at(n,c?l.to:l.from,c?"before":"after"),"line",t,r),a,i,!0)}),0,o.length-1),l=o[s];if(s>0){var c=1!=l.level,u=kr(e,at(n,c?l.from:l.to,c?"after":"before"),"line",t,r);Mr(u,a,i,!0)&&u.top>i&&(l=o[s-1])}return l}function Ar(e,t,n,r,o,a,i){var s=Sr(e,t,r,i),l=s.begin,c=s.end;/\s/.test(t.text.charAt(c-1))&&c--;for(var u=null,p=null,d=0;d<o.length;d++){var f=o[d];if(!(f.from>=c||f.to<=l)){var h=rr(e,r,1!=f.level?Math.min(c,f.to)-1:Math.max(l,f.from)).right,m=h<a?a-h+1e9:h-a;(!u||p>m)&&(u=f,p=m)}}return u||(u=o[o.length-1]),u.from<l&&(u={from:l,to:u.to,level:u.level}),u.to>c&&(u={from:u.from,to:c,level:u.level}),u}function Or(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==or){or=O("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)or.appendChild(document.createTextNode("x")),or.appendChild(O("br"));or.appendChild(document.createTextNode("x"))}A(e.measure,or);var n=or.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),L(e.measure),n||1}function Rr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=O("span","xxxxxxxxxx"),n=O("pre",[t],"CodeMirror-line-like");A(e.measure,n);var r=t.getBoundingClientRect(),o=(r.right-r.left)/10;return o>2&&(e.cachedCharWidth=o),o||10}function Er(e){for(var t=e.display,n={},r={},o=t.gutters.clientLeft,a=t.gutters.firstChild,i=0;a;a=a.nextSibling,++i){var s=e.display.gutterSpecs[i].className;n[s]=a.offsetLeft+a.clientLeft+o,r[s]=a.clientWidth}return{fixedPos:Dr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Dr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Fr(e){var t=Or(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Rr(e.display)-3);return function(o){if(rn(e.doc,o))return 0;var a=0;if(o.widgets)for(var i=0;i<o.widgets.length;i++)o.widgets[i].height&&(a+=o.widgets[i].height);return n?a+(Math.ceil(o.text.length/r)||1)*t:a+t}}function Nr(e){var t=e.doc,n=Fr(e);t.iter((function(e){var t=n(e);t!=e.height&&et(e,t)}))}function Ir(e,t,n,r){var o=e.display;if(!n&&"true"==Te(t).getAttribute("cm-not-content"))return null;var a,i,s=o.lineSpace.getBoundingClientRect();try{a=t.clientX-s.left,i=t.clientY-s.top}catch(p){return null}var l,c=xr(e,a,i);if(r&&c.xRel>0&&(l=Je(e.doc,c.line).text).length==c.ch){var u=P(l,l.length,e.options.tabSize)-l.length;c=at(c.line,Math.max(0,Math.round((a-Gn(e.display).left)/Rr(e.display))-u))}return c}function jr(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,r=0;r<n.length;r++)if((t-=n[r].size)<0)return r}function _r(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var o=e.display;if(r&&n<o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>t)&&(o.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=o.viewTo)Rt&&tn(e.doc,t)<o.viewTo&&zr(e);else if(n<=o.viewFrom)Rt&&nn(e.doc,n+r)>o.viewFrom?zr(e):(o.viewFrom+=r,o.viewTo+=r);else if(t<=o.viewFrom&&n>=o.viewTo)zr(e);else if(t<=o.viewFrom){var a=Br(e,n,n+r,1);a?(o.view=o.view.slice(a.index),o.viewFrom=a.lineN,o.viewTo+=r):zr(e)}else if(n>=o.viewTo){var i=Br(e,t,t,-1);i?(o.view=o.view.slice(0,i.index),o.viewTo=i.lineN):zr(e)}else{var s=Br(e,t,t,-1),l=Br(e,n,n+r,1);s&&l?(o.view=o.view.slice(0,s.index).concat(Sn(e,s.lineN,l.lineN)).concat(o.view.slice(l.index)),o.viewTo+=r):zr(e)}var c=o.externalMeasured;c&&(n<c.lineN?c.lineN+=r:t<c.lineN+c.size&&(o.externalMeasured=null))}function Pr(e,t,n){e.curOp.viewChanged=!0;var r=e.display,o=e.display.externalMeasured;if(o&&t>=o.lineN&&t<o.lineN+o.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var a=r.view[jr(e,t)];if(null!=a.node){var i=a.changes||(a.changes=[]);-1==B(i,n)&&i.push(n)}}}function zr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Br(e,t,n,r){var o,a=jr(e,t),i=e.display.view;if(!Rt||n==e.doc.first+e.doc.size)return{index:a,lineN:n};for(var s=e.display.viewFrom,l=0;l<a;l++)s+=i[l].size;if(s!=t){if(r>0){if(a==i.length-1)return null;o=s+i[a].size-t,a++}else o=s-t;t+=o,n+=o}for(;tn(e.doc,n)!=n;){if(a==(r<0?0:i.length-1))return null;n+=r*i[a-(r<0?1:0)].size,a+=r}return{index:a,lineN:n}}function Wr(e,t,n){var r=e.display;0==r.view.length||t>=r.viewTo||n<=r.viewFrom?(r.view=Sn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=Sn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(jr(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(Sn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,jr(e,n)))),r.viewTo=n}function Ur(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var o=t[r];o.hidden||o.node&&!o.changes||++n}return n}function Hr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Vr(e,t){void 0===t&&(t=!0);for(var n=e.doc,r={},o=r.cursors=document.createDocumentFragment(),a=r.selection=document.createDocumentFragment(),i=0;i<n.sel.ranges.length;i++)if(t||i!=n.sel.primIndex){var s=n.sel.ranges[i];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&$r(e,s.head,o),l||Gr(e,s,a)}}return r}function $r(e,t,n){var r=kr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=n.appendChild(O("div"," ","CodeMirror-cursor"));if(o.style.left=r.left+"px",o.style.top=r.top+"px",o.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var a=n.appendChild(O("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));a.style.display="",a.style.left=r.other.left+"px",a.style.top=r.other.top+"px",a.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function qr(e,t){return e.top-t.top||e.left-t.left}function Gr(e,t,n){var r=e.display,o=e.doc,a=document.createDocumentFragment(),i=Gn(e.display),s=i.left,l=Math.max(r.sizerWidth,Yn(e)-r.sizer.offsetLeft)-i.right,c="ltr"==o.direction;function u(e,t,n,r){t<0&&(t=0),t=Math.round(t),r=Math.round(r),a.appendChild(O("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==n?l-e:n)+"px;\n                             height: "+(r-t)+"px"))}function p(t,n,r){var a,i,p=Je(o,t),d=p.text.length;function f(n,r){return yr(e,at(t,n),"div",p,r)}function h(t,n,r){var o=Cr(e,p,null,t),a="ltr"==n==("after"==r)?"left":"right";return f("after"==r?o.begin:o.end-(/\s/.test(p.text.charAt(o.end-1))?2:1),a)[a]}var m=de(p,o.direction);return le(m,n||0,null==r?d:r,(function(e,t,o,p){var g="ltr"==o,v=f(e,g?"left":"right"),y=f(t-1,g?"right":"left"),k=null==n&&0==e,b=null==r&&t==d,w=0==p,x=!m||p==m.length-1;if(y.top-v.top<=3){var S=(c?b:k)&&x,C=(c?k:b)&&w?s:(g?v:y).left,M=S?l:(g?y:v).right;u(C,v.top,M-C,v.bottom)}else{var T,L,A,O;g?(T=c&&k&&w?s:v.left,L=c?l:h(e,o,"before"),A=c?s:h(t,o,"after"),O=c&&b&&x?l:y.right):(T=c?h(e,o,"before"):s,L=!c&&k&&w?l:v.right,A=!c&&b&&x?s:y.left,O=c?h(t,o,"after"):l),u(T,v.top,L-T,v.bottom),v.bottom<y.top&&u(s,v.bottom,null,y.top),u(A,y.top,O-A,y.bottom)}(!a||qr(v,a)<0)&&(a=v),qr(y,a)<0&&(a=y),(!i||qr(v,i)<0)&&(i=v),qr(y,i)<0&&(i=y)})),{start:a,end:i}}var d=t.from(),f=t.to();if(d.line==f.line)p(d.line,d.ch,f.ch);else{var h=Je(o,d.line),m=Je(o,f.line),g=Zt(h)==Zt(m),v=p(d.line,d.ch,g?h.text.length+1:null).end,y=p(f.line,g?0:null,f.ch).start;g&&(v.top<y.top-2?(u(v.right,v.top,null,v.bottom),u(s,y.top,y.left,y.bottom)):u(v.right,v.top,y.left-v.right,v.bottom)),v.bottom<y.top&&u(s,v.bottom,null,y.top)}n.appendChild(a)}function Kr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||Zr(e),t.cursorDiv.style.visibility=(n=!n)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Yr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Jr(e))}function Xr(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Zr(e))}),100)}function Jr(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(ve(e,"focus",e,t),e.state.focused=!0,F(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Kr(e))}function Zr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(ve(e,"blur",e,t),e.state.focused=!1,T(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function Qr(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var o=t.view[r],a=e.options.lineWrapping,l=void 0,c=0;if(!o.hidden){if(i&&s<8){var u=o.node.offsetTop+o.node.offsetHeight;l=u-n,n=u}else{var p=o.node.getBoundingClientRect();l=p.bottom-p.top,!a&&o.text.firstChild&&(c=o.text.firstChild.getBoundingClientRect().right-p.left-1)}var d=o.line.height-l;if((d>.005||d<-.005)&&(et(o.line,l),eo(o.line),o.rest))for(var f=0;f<o.rest.length;f++)eo(o.rest[f]);if(c>e.display.sizerWidth){var h=Math.ceil(c/Rr(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=o.line,e.display.maxLineChanged=!0)}}}}function eo(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var n=e.widgets[t],r=n.node.parentNode;r&&(n.height=r.offsetHeight)}}function to(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-$n(e));var o=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,a=nt(t,r),i=nt(t,o);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<a?(a=s,i=nt(t,an(Je(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=i&&(a=nt(t,an(Je(t,l))-e.wrapper.clientHeight),i=l)}return{from:a,to:Math.max(i,a+1)}}function no(e,t){if(!ye(e,"scrollCursorIntoView")){var n=e.display,r=n.sizer.getBoundingClientRect(),o=null;if(t.top+r.top<0?o=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!h){var a=O("div","​",null,"position: absolute;\n                         top: "+(t.top-n.viewOffset-$n(e.display))+"px;\n                         height: "+(t.bottom-t.top+Kn(e)+n.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(o),e.display.lineSpace.removeChild(a)}}}function ro(e,t,n,r){var o;null==r&&(r=0),e.options.lineWrapping||t!=n||(n="before"==(t=t.ch?at(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?at(t.line,t.ch+1,"before"):t);for(var a=0;a<5;a++){var i=!1,s=kr(e,t),l=n&&n!=t?kr(e,n):s,c=ao(e,o={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-r,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+r}),u=e.doc.scrollTop,p=e.doc.scrollLeft;if(null!=c.scrollTop&&(fo(e,c.scrollTop),Math.abs(e.doc.scrollTop-u)>1&&(i=!0)),null!=c.scrollLeft&&(mo(e,c.scrollLeft),Math.abs(e.doc.scrollLeft-p)>1&&(i=!0)),!i)break}return o}function oo(e,t){var n=ao(e,t);null!=n.scrollTop&&fo(e,n.scrollTop),null!=n.scrollLeft&&mo(e,n.scrollLeft)}function ao(e,t){var n=e.display,r=Or(e.display);t.top<0&&(t.top=0);var o=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:n.scroller.scrollTop,a=Xn(e),i={};t.bottom-t.top>a&&(t.bottom=t.top+a);var s=e.doc.height+qn(n),l=t.top<r,c=t.bottom>s-r;if(t.top<o)i.scrollTop=l?0:t.top;else if(t.bottom>o+a){var u=Math.min(t.top,(c?s:t.bottom)-a);u!=o&&(i.scrollTop=u)}var p=e.options.fixedGutter?0:n.gutters.offsetWidth,d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:n.scroller.scrollLeft-p,f=Yn(e)-n.gutters.offsetWidth,h=t.right-t.left>f;return h&&(t.right=t.left+f),t.left<10?i.scrollLeft=0:t.left<d?i.scrollLeft=Math.max(0,t.left+p-(h?0:10)):t.right>f+d-3&&(i.scrollLeft=t.right+(h?0:10)-f),i}function io(e,t){null!=t&&(uo(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function so(e){uo(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function lo(e,t,n){null==t&&null==n||uo(e),null!=t&&(e.curOp.scrollLeft=t),null!=n&&(e.curOp.scrollTop=n)}function co(e,t){uo(e),e.curOp.scrollToPos=t}function uo(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,po(e,br(e,t.from),br(e,t.to),t.margin))}function po(e,t,n,r){var o=ao(e,{left:Math.min(t.left,n.left),top:Math.min(t.top,n.top)-r,right:Math.max(t.right,n.right),bottom:Math.max(t.bottom,n.bottom)+r});lo(e,o.scrollLeft,o.scrollTop)}function fo(e,t){Math.abs(e.doc.scrollTop-t)<2||(n||Vo(e,{top:t}),ho(e,t,!0),n&&Vo(e),jo(e,100))}function ho(e,t,n){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||n)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function mo(e,t,n,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Ko(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function go(e){var t=e.display,n=t.gutters.offsetWidth,r=Math.round(e.doc.height+qn(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:r,scrollHeight:r+Kn(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}var vo=function(e,t,n){this.cm=n;var r=this.vert=O("div",[O("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=O("div",[O("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=o.tabIndex=-1,e(r),e(o),he(r,"scroll",(function(){r.clientHeight&&t(r.scrollTop,"vertical")})),he(o,"scroll",(function(){o.clientWidth&&t(o.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,i&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};vo.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0";var o=e.viewHeight-(t?r:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+o)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?r+"px":"0",this.horiz.style.left=e.barLeft+"px";var a=e.viewWidth-e.barLeft-(n?r:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+a)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?r:0,bottom:t?r:0}},vo.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},vo.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},vo.prototype.zeroWidthHack=function(){var e=y&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new z,this.disableVert=new z},vo.prototype.enableZeroWidthBar=function(e,t,n){function r(){var o=e.getBoundingClientRect();("vert"==n?document.elementFromPoint(o.right-1,(o.top+o.bottom)/2):document.elementFromPoint((o.right+o.left)/2,o.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)}e.style.pointerEvents="auto",t.set(1e3,r)},vo.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var yo=function(){};function ko(e,t){t||(t=go(e));var n=e.display.barWidth,r=e.display.barHeight;bo(e,t);for(var o=0;o<4&&n!=e.display.barWidth||r!=e.display.barHeight;o++)n!=e.display.barWidth&&e.options.lineWrapping&&Qr(e),bo(e,go(e)),n=e.display.barWidth,r=e.display.barHeight}function bo(e,t){var n=e.display,r=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=r.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=r.bottom)+"px",n.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=r.bottom+"px",n.scrollbarFiller.style.width=r.right+"px"):n.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}yo.prototype.update=function(){return{bottom:0,right:0}},yo.prototype.setScrollLeft=function(){},yo.prototype.setScrollTop=function(){},yo.prototype.clear=function(){};var wo={native:vo,null:yo};function xo(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&T(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new wo[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),he(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,n){"horizontal"==n?mo(e,t):fo(e,t)}),e),e.display.scrollbars.addClass&&F(e.display.wrapper,e.display.scrollbars.addClass)}var So=0;function Co(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++So},Mn(e.curOp)}function Mo(e){var t=e.curOp;t&&Ln(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;To(e)}))}function To(e){for(var t=e.ops,n=0;n<t.length;n++)Lo(t[n]);for(var r=0;r<t.length;r++)Ao(t[r]);for(var o=0;o<t.length;o++)Oo(t[o]);for(var a=0;a<t.length;a++)Ro(t[a]);for(var i=0;i<t.length;i++)Eo(t[i])}function Lo(e){var t=e.cm,n=t.display;zo(t),e.updateMaxLine&&ln(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Po(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ao(e){e.updatedDisplay=e.mustUpdate&&Uo(e.cm,e.update)}function Oo(e){var t=e.cm,n=t.display;e.updatedDisplay&&Qr(t),e.barMeasure=go(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=er(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+Kn(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-Yn(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection())}function Ro(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&mo(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==D();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&ko(t,e.barMeasure),e.updatedDisplay&&Go(t,e.barMeasure),e.selectionChanged&&Kr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&Yr(e.cm)}function Eo(e){var t=e.cm,n=t.display,r=t.doc;e.updatedDisplay&&Ho(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&ho(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&mo(t,e.scrollLeft,!0,!0),e.scrollToPos&&no(t,ro(t,dt(r,e.scrollToPos.from),dt(r,e.scrollToPos.to),e.scrollToPos.margin));var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var i=0;i<o.length;++i)o[i].lines.length||ve(o[i],"hide");if(a)for(var s=0;s<a.length;++s)a[s].lines.length&&ve(a[s],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&ve(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Do(e,t){if(e.curOp)return t();Co(e);try{return t()}finally{Mo(e)}}function Fo(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Co(e);try{return t.apply(e,arguments)}finally{Mo(e)}}}function No(e){return function(){if(this.curOp)return e.apply(this,arguments);Co(this);try{return e.apply(this,arguments)}finally{Mo(this)}}}function Io(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Co(t);try{return e.apply(this,arguments)}finally{Mo(t)}}}function jo(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,j(_o,e))}function _o(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=kt(e,t.highlightFrontier),o=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(a){if(r.line>=e.display.viewFrom){var i=a.styles,s=a.text.length>e.options.maxHighlightLength?Ge(t.mode,r.state):null,l=vt(e,a,r,!0);s&&(r.state=s),a.styles=l.styles;var c=a.styleClasses,u=l.classes;u?a.styleClasses=u:c&&(a.styleClasses=null);for(var p=!i||i.length!=a.styles.length||c!=u&&(!c||!u||c.bgClass!=u.bgClass||c.textClass!=u.textClass),d=0;!p&&d<i.length;++d)p=i[d]!=a.styles[d];p&&o.push(r.line),a.stateAfter=r.save(),r.nextLine()}else a.text.length<=e.options.maxHighlightLength&&bt(e,a.text,r),a.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>n)return jo(e,e.options.workDelay),!0})),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),o.length&&Do(e,(function(){for(var t=0;t<o.length;t++)Pr(e,o[t],"text")}))}}var Po=function(e,t,n){var r=e.display;this.viewport=t,this.visible=to(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Yn(e),this.force=n,this.dims=Er(e),this.events=[]};function zo(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Kn(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Kn(e)+"px",t.scrollbarsClipped=!0)}function Bo(e){if(e.hasFocus())return null;var t=D();if(!t||!E(e.display.lineDiv,t))return null;var n={activeElt:t};if(window.getSelection){var r=window.getSelection();r.anchorNode&&r.extend&&E(e.display.lineDiv,r.anchorNode)&&(n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset)}return n}function Wo(e){if(e&&e.activeElt&&e.activeElt!=D()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&E(document.body,e.anchorNode)&&E(document.body,e.focusNode))){var t=window.getSelection(),n=document.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),t.removeAllRanges(),t.addRange(n),t.extend(e.focusNode,e.focusOffset)}}function Uo(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return zr(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Ur(e))return!1;Yo(e)&&(zr(e),t.dims=Er(e));var o=r.first+r.size,a=Math.max(t.visible.from-e.options.viewportMargin,r.first),i=Math.min(o,t.visible.to+e.options.viewportMargin);n.viewFrom<a&&a-n.viewFrom<20&&(a=Math.max(r.first,n.viewFrom)),n.viewTo>i&&n.viewTo-i<20&&(i=Math.min(o,n.viewTo)),Rt&&(a=tn(e.doc,a),i=nn(e.doc,i));var s=a!=n.viewFrom||i!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;Wr(e,a,i),n.viewOffset=an(Je(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=Ur(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Bo(e);return l>4&&(n.lineDiv.style.display="none"),$o(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Wo(c),L(n.cursorDiv),L(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,jo(e,400)),n.updateLineNumbers=null,!0}function Ho(e,t){for(var n=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=Yn(e))r&&(t.visible=to(e.display,e.doc,n));else if(n&&null!=n.top&&(n={top:Math.min(e.doc.height+qn(e.display)-Xn(e),n.top)}),t.visible=to(e.display,e.doc,n),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Uo(e,t))break;Qr(e);var o=go(e);Hr(e),ko(e,o),Go(e,o),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Vo(e,t){var n=new Po(e,t);if(Uo(e,n)){Qr(e),Ho(e,n);var r=go(e);Hr(e),ko(e,r),Go(e,r),n.finish()}}function $o(e,t,n){var r=e.display,o=e.options.lineNumbers,a=r.lineDiv,i=a.firstChild;function s(t){var n=t.nextSibling;return l&&y&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var c=r.view,u=r.viewFrom,p=0;p<c.length;p++){var d=c[p];if(d.hidden);else if(d.node&&d.node.parentNode==a){for(;i!=d.node;)i=s(i);var f=o&&null!=t&&t<=u&&d.lineNumber;d.changes&&(B(d.changes,"gutter")>-1&&(f=!1),En(e,d,u,n)),f&&(L(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(ot(e.options,u)))),i=d.node.nextSibling}else{var h=zn(e,d,u,n);a.insertBefore(h,i)}u+=d.size}for(;i;)i=s(i)}function qo(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",On(e,"gutterChanged",e)}function Go(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Kn(e)+"px"}function Ko(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Dr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,o=t.gutters.offsetWidth,a=r+"px",i=0;i<n.length;i++)if(!n[i].hidden){e.options.fixedGutter&&(n[i].gutter&&(n[i].gutter.style.left=a),n[i].gutterBackground&&(n[i].gutterBackground.style.left=a));var s=n[i].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=a}e.options.fixedGutter&&(t.gutters.style.left=r+o+"px")}}function Yo(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=ot(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var o=r.measure.appendChild(O("div",[O("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),a=o.firstChild.offsetWidth,i=o.offsetWidth-a;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(a,r.lineGutter.offsetWidth-i)+1,r.lineNumWidth=r.lineNumInnerWidth+i,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",qo(e.display),!0}return!1}function Xo(e,t){for(var n=[],r=!1,o=0;o<e.length;o++){var a=e[o],i=null;if("string"!=typeof a&&(i=a.style,a=a.className),"CodeMirror-linenumbers"==a){if(!t)continue;r=!0}n.push({className:a,style:i})}return t&&!r&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function Jo(e){var t=e.gutters,n=e.gutterSpecs;L(t),e.lineGutter=null;for(var r=0;r<n.length;++r){var o=n[r],a=o.className,i=o.style,s=t.appendChild(O("div",null,"CodeMirror-gutter "+a));i&&(s.style.cssText=i),"CodeMirror-linenumbers"==a&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=n.length?"":"none",qo(e)}function Zo(e){Jo(e.display),_r(e),Ko(e)}function Qo(e,t,r,o){var a=this;this.input=r,a.scrollbarFiller=O("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=O("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=R("div",null,"CodeMirror-code"),a.selectionDiv=O("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=O("div",null,"CodeMirror-cursors"),a.measure=O("div",null,"CodeMirror-measure"),a.lineMeasure=O("div",null,"CodeMirror-measure"),a.lineSpace=R("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var c=R("div",[a.lineSpace],"CodeMirror-lines");a.mover=O("div",[c],null,"position: relative"),a.sizer=O("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=O("div",null,null,"position: absolute; height: "+W+"px; width: 1px;"),a.gutters=O("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=O("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=O("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),i&&s<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),l||n&&v||(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=Xo(o.gutters,o.lineNumbers),Jo(a),r.init(a)}Po.prototype.signal=function(e,t){be(e,t)&&this.events.push(arguments)},Po.prototype.finish=function(){for(var e=0;e<this.events.length;e++)ve.apply(null,this.events[e])};var ea=0,ta=null;function na(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}}function ra(e){var t=na(e);return t.x*=ta,t.y*=ta,t}function oa(e,t){var r=na(t),o=r.x,a=r.y,i=e.display,s=i.scroller,c=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(o&&c||a&&u){if(a&&y&&l)e:for(var d=t.target,f=i.view;d!=s;d=d.parentNode)for(var h=0;h<f.length;h++)if(f[h].node==d){e.display.currentWheelTarget=d;break e}if(o&&!n&&!p&&null!=ta)return a&&u&&fo(e,Math.max(0,s.scrollTop+a*ta)),mo(e,Math.max(0,s.scrollLeft+o*ta)),(!a||a&&u)&&xe(t),void(i.wheelStartX=null);if(a&&null!=ta){var m=a*ta,g=e.doc.scrollTop,v=g+i.wrapper.clientHeight;m<0?g=Math.max(0,g+m-50):v=Math.min(e.doc.height,v+m+50),Vo(e,{top:g,bottom:v})}ea<20&&(null==i.wheelStartX?(i.wheelStartX=s.scrollLeft,i.wheelStartY=s.scrollTop,i.wheelDX=o,i.wheelDY=a,setTimeout((function(){if(null!=i.wheelStartX){var e=s.scrollLeft-i.wheelStartX,t=s.scrollTop-i.wheelStartY,n=t&&i.wheelDY&&t/i.wheelDY||e&&i.wheelDX&&e/i.wheelDX;i.wheelStartX=i.wheelStartY=null,n&&(ta=(ta*ea+n)/(ea+1),++ea)}}),200)):(i.wheelDX+=o,i.wheelDY+=a))}}i?ta=-.53:n?ta=15:u?ta=-.7:d&&(ta=-1/3);var aa=function(e,t){this.ranges=e,this.primIndex=t};aa.prototype.primary=function(){return this.ranges[this.primIndex]},aa.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(!st(n.anchor,r.anchor)||!st(n.head,r.head))return!1}return!0},aa.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new ia(lt(this.ranges[t].anchor),lt(this.ranges[t].head));return new aa(e,this.primIndex)},aa.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},aa.prototype.contains=function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(it(t,r.from())>=0&&it(e,r.to())<=0)return n}return-1};var ia=function(e,t){this.anchor=e,this.head=t};function sa(e,t,n){var r=e&&e.options.selectionsMayTouch,o=t[n];t.sort((function(e,t){return it(e.from(),t.from())})),n=B(t,o);for(var a=1;a<t.length;a++){var i=t[a],s=t[a-1],l=it(s.to(),i.from());if(r&&!i.empty()?l>0:l>=0){var c=ut(s.from(),i.from()),u=ct(s.to(),i.to()),p=s.empty()?i.from()==i.head:s.from()==s.head;a<=n&&--n,t.splice(--a,2,new ia(p?u:c,p?c:u))}}return new aa(t,n)}function la(e,t){return new aa([new ia(e,t||e)],0)}function ca(e){return e.text?at(e.from.line+e.text.length-1,Y(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function ua(e,t){if(it(e,t.from)<0)return e;if(it(e,t.to)<=0)return ca(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=ca(t).ch-t.to.ch),at(n,r)}function pa(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var o=e.sel.ranges[r];n.push(new ia(ua(o.anchor,t),ua(o.head,t)))}return sa(e.cm,n,e.sel.primIndex)}function da(e,t,n){return e.line==t.line?at(n.line,e.ch-t.ch+n.ch):at(n.line+(e.line-t.line),e.ch)}function fa(e,t,n){for(var r=[],o=at(e.first,0),a=o,i=0;i<t.length;i++){var s=t[i],l=da(s.from,o,a),c=da(ca(s),o,a);if(o=s.to,a=c,"around"==n){var u=e.sel.ranges[i],p=it(u.head,u.anchor)<0;r[i]=new ia(p?c:l,p?l:c)}else r[i]=new ia(l,l)}return new aa(r,e.sel.primIndex)}function ha(e){e.doc.mode=Ve(e.options,e.doc.modeOption),ma(e)}function ma(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,jo(e,100),e.state.modeGen++,e.curOp&&_r(e)}function ga(e,t){return 0==t.from.ch&&0==t.to.ch&&""==Y(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function va(e,t,n,r){function o(e){return n?n[e]:null}function a(e,n,o){un(e,n,o,r),On(e,"change",e,t)}function i(e,t){for(var n=[],a=e;a<t;++a)n.push(new cn(c[a],o(a),r));return n}var s=t.from,l=t.to,c=t.text,u=Je(e,s.line),p=Je(e,l.line),d=Y(c),f=o(c.length-1),h=l.line-s.line;if(t.full)e.insert(0,i(0,c.length)),e.remove(c.length,e.size-c.length);else if(ga(e,t)){var m=i(0,c.length-1);a(p,p.text,f),h&&e.remove(s.line,h),m.length&&e.insert(s.line,m)}else if(u==p)if(1==c.length)a(u,u.text.slice(0,s.ch)+d+u.text.slice(l.ch),f);else{var g=i(1,c.length-1);g.push(new cn(d+u.text.slice(l.ch),f,r)),a(u,u.text.slice(0,s.ch)+c[0],o(0)),e.insert(s.line+1,g)}else if(1==c.length)a(u,u.text.slice(0,s.ch)+c[0]+p.text.slice(l.ch),o(0)),e.remove(s.line+1,h);else{a(u,u.text.slice(0,s.ch)+c[0],o(0)),a(p,d+p.text.slice(l.ch),f);var v=i(1,c.length-1);h>1&&e.remove(s.line+1,h-1),e.insert(s.line+1,v)}On(e,"change",e,t)}function ya(e,t,n){function r(e,o,a){if(e.linked)for(var i=0;i<e.linked.length;++i){var s=e.linked[i];if(s.doc!=o){var l=a&&s.sharedHist;n&&!l||(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function ka(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Nr(e),ha(e),ba(e),e.options.lineWrapping||ln(e),e.options.mode=t.modeOption,_r(e)}function ba(e){("rtl"==e.doc.direction?F:T)(e.display.lineDiv,"CodeMirror-rtl")}function wa(e){Do(e,(function(){ba(e),_r(e)}))}function xa(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Sa(e,t){var n={from:lt(t.from),to:ca(t),text:Ze(e,t.from,t.to)};return Ra(e,n,t.from.line,t.to.line+1),ya(e,(function(e){return Ra(e,n,t.from.line,t.to.line+1)}),!0),n}function Ca(e){for(;e.length&&Y(e).ranges;)e.pop()}function Ma(e,t){return t?(Ca(e.done),Y(e.done)):e.done.length&&!Y(e.done).ranges?Y(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),Y(e.done)):void 0}function Ta(e,t,n,r){var o=e.history;o.undone.length=0;var a,i,s=+new Date;if((o.lastOp==r||o.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&o.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(a=Ma(o,o.lastOp==r)))i=Y(a.changes),0==it(t.from,t.to)&&0==it(t.from,i.to)?i.to=ca(t):a.changes.push(Sa(e,t));else{var l=Y(o.done);for(l&&l.ranges||Oa(e.sel,o.done),a={changes:[Sa(e,t)],generation:o.generation},o.done.push(a);o.done.length>o.undoDepth;)o.done.shift(),o.done[0].ranges||o.done.shift()}o.done.push(n),o.generation=++o.maxGeneration,o.lastModTime=o.lastSelTime=s,o.lastOp=o.lastSelOp=r,o.lastOrigin=o.lastSelOrigin=t.origin,i||ve(e,"historyAdded")}function La(e,t,n,r){var o=t.charAt(0);return"*"==o||"+"==o&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Aa(e,t,n,r){var o=e.history,a=r&&r.origin;n==o.lastSelOp||a&&o.lastSelOrigin==a&&(o.lastModTime==o.lastSelTime&&o.lastOrigin==a||La(e,a,Y(o.done),t))?o.done[o.done.length-1]=t:Oa(t,o.done),o.lastSelTime=+new Date,o.lastSelOrigin=a,o.lastSelOp=n,r&&!1!==r.clearRedo&&Ca(o.undone)}function Oa(e,t){var n=Y(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Ra(e,t,n,r){var o=t["spans_"+e.id],a=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),(function(n){n.markedSpans&&((o||(o=t["spans_"+e.id]={}))[a]=n.markedSpans),++a}))}function Ea(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Da(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=[],o=0;o<t.text.length;++o)r.push(Ea(n[o]));return r}function Fa(e,t){var n=Da(e,t),r=zt(e,t);if(!n)return r;if(!r)return n;for(var o=0;o<n.length;++o){var a=n[o],i=r[o];if(a&&i)e:for(var s=0;s<i.length;++s){for(var l=i[s],c=0;c<a.length;++c)if(a[c].marker==l.marker)continue e;a.push(l)}else i&&(n[o]=i)}return n}function Na(e,t,n){for(var r=[],o=0;o<e.length;++o){var a=e[o];if(a.ranges)r.push(n?aa.prototype.deepCopy.call(a):a);else{var i=a.changes,s=[];r.push({changes:s});for(var l=0;l<i.length;++l){var c=i[l],u=void 0;if(s.push({from:c.from,to:c.to,text:c.text}),t)for(var p in c)(u=p.match(/^spans_(\d+)$/))&&B(t,Number(u[1]))>-1&&(Y(s)[p]=c[p],delete c[p])}}}return r}function Ia(e,t,n,r){if(r){var o=e.anchor;if(n){var a=it(t,o)<0;a!=it(n,o)<0?(o=t,t=n):a!=it(t,n)<0&&(t=n)}return new ia(o,t)}return new ia(n||t,t)}function ja(e,t,n,r,o){null==o&&(o=e.cm&&(e.cm.display.shift||e.extend)),Ua(e,new aa([Ia(e.sel.primary(),t,n,o)],0),r)}function _a(e,t,n){for(var r=[],o=e.cm&&(e.cm.display.shift||e.extend),a=0;a<e.sel.ranges.length;a++)r[a]=Ia(e.sel.ranges[a],t[a],null,o);Ua(e,sa(e.cm,r,e.sel.primIndex),n)}function Pa(e,t,n,r){var o=e.sel.ranges.slice(0);o[t]=n,Ua(e,sa(e.cm,o,e.sel.primIndex),r)}function za(e,t,n,r){Ua(e,la(t,n),r)}function Ba(e,t,n){var r={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new ia(dt(e,t[n].anchor),dt(e,t[n].head))},origin:n&&n.origin};return ve(e,"beforeSelectionChange",e,r),e.cm&&ve(e.cm,"beforeSelectionChange",e.cm,r),r.ranges!=t.ranges?sa(e.cm,r.ranges,r.ranges.length-1):t}function Wa(e,t,n){var r=e.history.done,o=Y(r);o&&o.ranges?(r[r.length-1]=t,Ha(e,t,n)):Ua(e,t,n)}function Ua(e,t,n){Ha(e,t,n),Aa(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ha(e,t,n){(be(e,"beforeSelectionChange")||e.cm&&be(e.cm,"beforeSelectionChange"))&&(t=Ba(e,t,n));var r=n&&n.bias||(it(t.primary().head,e.sel.primary().head)<0?-1:1);Va(e,qa(e,t,r,!0)),n&&!1===n.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||so(e.cm)}function Va(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,ke(e.cm)),On(e,"cursorActivity",e))}function $a(e){Va(e,qa(e,e.sel,null,!1))}function qa(e,t,n,r){for(var o,a=0;a<t.ranges.length;a++){var i=t.ranges[a],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[a],l=Ka(e,i.anchor,s&&s.anchor,n,r),c=Ka(e,i.head,s&&s.head,n,r);(o||l!=i.anchor||c!=i.head)&&(o||(o=t.ranges.slice(0,a)),o[a]=new ia(l,c))}return o?sa(e.cm,o,t.primIndex):t}function Ga(e,t,n,r,o){var a=Je(e,t.line);if(a.markedSpans)for(var i=0;i<a.markedSpans.length;++i){var s=a.markedSpans[i],l=s.marker,c="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,u="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(c?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(u?s.to>=t.ch:s.to>t.ch))){if(o&&(ve(l,"beforeCursorEnter"),l.explicitlyCleared)){if(a.markedSpans){--i;continue}break}if(!l.atomic)continue;if(n){var p=l.find(r<0?1:-1),d=void 0;if((r<0?u:c)&&(p=Ya(e,p,-r,p&&p.line==t.line?a:null)),p&&p.line==t.line&&(d=it(p,n))&&(r<0?d<0:d>0))return Ga(e,p,t,r,o)}var f=l.find(r<0?-1:1);return(r<0?c:u)&&(f=Ya(e,f,r,f.line==t.line?a:null)),f?Ga(e,f,t,r,o):null}}return t}function Ka(e,t,n,r,o){var a=r||1,i=Ga(e,t,n,a,o)||!o&&Ga(e,t,n,a,!0)||Ga(e,t,n,-a,o)||!o&&Ga(e,t,n,-a,!0);return i||(e.cantEdit=!0,at(e.first,0))}function Ya(e,t,n,r){return n<0&&0==t.ch?t.line>e.first?dt(e,at(t.line-1)):null:n>0&&t.ch==(r||Je(e,t.line)).text.length?t.line<e.first+e.size-1?at(t.line+1,0):null:new at(t.line,t.ch+n)}function Xa(e){e.setSelection(at(e.firstLine(),0),at(e.lastLine()),H)}function Ja(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return n&&(r.update=function(t,n,o,a){t&&(r.from=dt(e,t)),n&&(r.to=dt(e,n)),o&&(r.text=o),void 0!==a&&(r.origin=a)}),ve(e,"beforeChange",e,r),e.cm&&ve(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function Za(e,t,n){if(e.cm){if(!e.cm.curOp)return Fo(e.cm,Za)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(be(e,"beforeChange")||e.cm&&be(e.cm,"beforeChange"))||(t=Ja(e,t,!0))){var r=Ot&&!n&&Wt(e,t.from,t.to);if(r)for(var o=r.length-1;o>=0;--o)Qa(e,{from:r[o].from,to:r[o].to,text:o?[""]:t.text,origin:t.origin});else Qa(e,t)}}function Qa(e,t){if(1!=t.text.length||""!=t.text[0]||0!=it(t.from,t.to)){var n=pa(e,t);Ta(e,t,n,e.cm?e.cm.curOp.id:NaN),ni(e,t,n,zt(e,t));var r=[];ya(e,(function(e,n){n||-1!=B(r,e.history)||(si(e.history,t),r.push(e.history)),ni(e,t,null,zt(e,t))}))}}function ei(e,t,n){var r=e.cm&&e.cm.state.suppressEdits;if(!r||n){for(var o,a=e.history,i=e.sel,s="undo"==t?a.done:a.undone,l="undo"==t?a.undone:a.done,c=0;c<s.length&&(o=s[c],n?!o.ranges||o.equals(e.sel):o.ranges);c++);if(c!=s.length){for(a.lastOrigin=a.lastSelOrigin=null;;){if(!(o=s.pop()).ranges){if(r)return void s.push(o);break}if(Oa(o,l),n&&!o.equals(e.sel))return void Ua(e,o,{clearRedo:!1});i=o}var u=[];Oa(i,l),l.push({changes:u,generation:a.generation}),a.generation=o.generation||++a.maxGeneration;for(var p=be(e,"beforeChange")||e.cm&&be(e.cm,"beforeChange"),d=function(n){var r=o.changes[n];if(r.origin=t,p&&!Ja(e,r,!1))return s.length=0,{};u.push(Sa(e,r));var a=n?pa(e,r):Y(s);ni(e,r,a,Fa(e,r)),!n&&e.cm&&e.cm.scrollIntoView({from:r.from,to:ca(r)});var i=[];ya(e,(function(e,t){t||-1!=B(i,e.history)||(si(e.history,r),i.push(e.history)),ni(e,r,null,Fa(e,r))}))},f=o.changes.length-1;f>=0;--f){var h=d(f);if(h)return h.v}}}}function ti(e,t){if(0!=t&&(e.first+=t,e.sel=new aa(X(e.sel.ranges,(function(e){return new ia(at(e.anchor.line+t,e.anchor.ch),at(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){_r(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)Pr(e.cm,r,"gutter")}}function ni(e,t,n,r){if(e.cm&&!e.cm.curOp)return Fo(e.cm,ni)(e,t,n,r);if(t.to.line<e.first)ti(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var o=t.text.length-1-(e.first-t.from.line);ti(e,o),t={from:at(e.first,0),to:at(t.to.line+o,t.to.ch),text:[Y(t.text)],origin:t.origin}}var a=e.lastLine();t.to.line>a&&(t={from:t.from,to:at(a,Je(e,a).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ze(e,t.from,t.to),n||(n=pa(e,t)),e.cm?ri(e.cm,t,r):va(e,t,r),Ha(e,n,H),e.cantEdit&&Ka(e,at(e.firstLine(),0))&&(e.cantEdit=!1)}}function ri(e,t,n){var r=e.doc,o=e.display,a=t.from,i=t.to,s=!1,l=a.line;e.options.lineWrapping||(l=tt(Zt(Je(r,a.line))),r.iter(l,i.line+1,(function(e){if(e==o.maxLine)return s=!0,!0}))),r.sel.contains(t.from,t.to)>-1&&ke(e),va(r,t,n,Fr(e)),e.options.lineWrapping||(r.iter(l,a.line+t.text.length,(function(e){var t=sn(e);t>o.maxLineLength&&(o.maxLine=e,o.maxLineLength=t,o.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),At(r,a.line),jo(e,400);var c=t.text.length-(i.line-a.line)-1;t.full?_r(e):a.line!=i.line||1!=t.text.length||ga(e.doc,t)?_r(e,a.line,i.line+1,c):Pr(e,a.line,"text");var u=be(e,"changes"),p=be(e,"change");if(p||u){var d={from:a,to:i,text:t.text,removed:t.removed,origin:t.origin};p&&On(e,"change",e,d),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function oi(e,t,n,r,o){var a;r||(r=n),it(r,n)<0&&(n=(a=[r,n])[0],r=a[1]),"string"==typeof t&&(t=e.splitLines(t)),Za(e,{from:n,to:r,text:t,origin:o})}function ai(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function ii(e,t,n,r){for(var o=0;o<e.length;++o){var a=e[o],i=!0;if(a.ranges){a.copied||((a=e[o]=a.deepCopy()).copied=!0);for(var s=0;s<a.ranges.length;s++)ai(a.ranges[s].anchor,t,n,r),ai(a.ranges[s].head,t,n,r)}else{for(var l=0;l<a.changes.length;++l){var c=a.changes[l];if(n<c.from.line)c.from=at(c.from.line+r,c.from.ch),c.to=at(c.to.line+r,c.to.ch);else if(t<=c.to.line){i=!1;break}}i||(e.splice(0,o+1),o=0)}}}function si(e,t){var n=t.from.line,r=t.to.line,o=t.text.length-(r-n)-1;ii(e.done,n,r,o),ii(e.undone,n,r,o)}function li(e,t,n,r){var o=t,a=t;return"number"==typeof t?a=Je(e,pt(e,t)):o=tt(t),null==o?null:(r(a,o)&&e.cm&&Pr(e.cm,o,n),a)}function ci(e){this.lines=e,this.parent=null;for(var t=0,n=0;n<e.length;++n)e[n].parent=this,t+=e[n].height;this.height=t}function ui(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var o=e[r];t+=o.chunkSize(),n+=o.height,o.parent=this}this.size=t,this.height=n,this.parent=null}ia.prototype.from=function(){return ut(this.anchor,this.head)},ia.prototype.to=function(){return ct(this.anchor,this.head)},ia.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ci.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;n<r;++n){var o=this.lines[n];this.height-=o.height,pn(o),On(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;e<r;++e)if(n(this.lines[e]))return!0}},ui.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],o=r.chunkSize();if(e<o){var a=Math.min(t,o-e),i=r.height;if(r.removeInner(e,a),this.height-=i-r.height,o==a&&(this.children.splice(n--,1),r.parent=null),0==(t-=a))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ci))){var s=[];this.collapse(s),this.children=[new ci(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var o=this.children[r],a=o.chunkSize();if(e<=a){if(o.insertInner(e,t,n),o.lines&&o.lines.length>50){for(var i=o.lines.length%25+25,s=i;s<o.lines.length;){var l=new ci(o.lines.slice(s,s+=25));o.height-=l.height,this.children.splice(++r,0,l),l.parent=this}o.lines=o.lines.slice(0,i),this.maybeSpill()}break}e-=a}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new ui(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=B(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var r=new ui(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var o=this.children[r],a=o.chunkSize();if(e<a){var i=Math.min(t,a-e);if(o.iterN(e,i,n))return!0;if(0==(t-=i))break;e=0}else e-=a}}};var pi=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.doc=e,this.node=t};function di(e,t,n){an(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&io(e,n)}function fi(e,t,n,r){var o=new pi(e,n,r),a=e.cm;return a&&o.noHScroll&&(a.display.alignWidgets=!0),li(e,t,"widget",(function(t){var n=t.widgets||(t.widgets=[]);if(null==o.insertAt?n.push(o):n.splice(Math.min(n.length,Math.max(0,o.insertAt)),0,o),o.line=t,a&&!rn(e,t)){var r=an(t)<e.scrollTop;et(t,t.height+Hn(o)),r&&io(a,o.height),a.curOp.forceUpdate=!0}return!0})),a&&On(a,"lineWidgetAdded",a,o,"number"==typeof t?t:tt(t)),o}pi.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,r=tt(n);if(null!=r&&t){for(var o=0;o<t.length;++o)t[o]==this&&t.splice(o--,1);t.length||(n.widgets=null);var a=Hn(this);et(n,Math.max(0,n.height-a)),e&&(Do(e,(function(){di(e,n,-a),Pr(e,r,"widget")})),On(e,"lineWidgetCleared",e,this,r))}},pi.prototype.changed=function(){var e=this,t=this.height,n=this.doc.cm,r=this.line;this.height=null;var o=Hn(this)-t;o&&(rn(this.doc,r)||et(r,r.height+o),n&&Do(n,(function(){n.curOp.forceUpdate=!0,di(n,r,o),On(n,"lineWidgetChanged",n,e,tt(r))})))},we(pi);var hi=0,mi=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++hi};function gi(e,t,n,r,o){if(r&&r.shared)return yi(e,t,n,r,o);if(e.cm&&!e.cm.curOp)return Fo(e.cm,gi)(e,t,n,r,o);var a=new mi(e,o),i=it(t,n);if(r&&_(r,a,!1),i>0||0==i&&!1!==a.clearWhenEmpty)return a;if(a.replacedWith&&(a.collapsed=!0,a.widgetNode=R("span",[a.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||a.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(a.widgetNode.insertLeft=!0)),a.collapsed){if(Jt(e,t.line,t,n,a)||t.line!=n.line&&Jt(e,n.line,t,n,a))throw new Error("Inserting collapsed marker partially overlapping an existing one");Dt()}a.addToHistory&&Ta(e,{from:t,to:n,origin:"markText"},e.sel,NaN);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,(function(e){c&&a.collapsed&&!c.options.lineWrapping&&Zt(e)==c.display.maxLine&&(s=!0),a.collapsed&&l!=t.line&&et(e,0),jt(e,new Ft(a,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l})),a.collapsed&&e.iter(t.line,n.line+1,(function(t){rn(e,t)&&et(t,0)})),a.clearOnEnter&&he(a,"beforeCursorEnter",(function(){return a.clear()})),a.readOnly&&(Et(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),a.collapsed&&(a.id=++hi,a.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),a.collapsed)_r(c,t.line,n.line+1);else if(a.className||a.startStyle||a.endStyle||a.css||a.attributes||a.title)for(var u=t.line;u<=n.line;u++)Pr(c,u,"text");a.atomic&&$a(c.doc),On(c,"markerAdded",c,a)}return a}mi.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Co(e),be(this,"clear")){var n=this.find();n&&On(this,"clear",n.from,n.to)}for(var r=null,o=null,a=0;a<this.lines.length;++a){var i=this.lines[a],s=Nt(i.markedSpans,this);e&&!this.collapsed?Pr(e,tt(i),"text"):e&&(null!=s.to&&(o=tt(i)),null!=s.from&&(r=tt(i))),i.markedSpans=It(i.markedSpans,s),null==s.from&&this.collapsed&&!rn(this.doc,i)&&e&&et(i,Or(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var c=Zt(this.lines[l]),u=sn(c);u>e.display.maxLineLength&&(e.display.maxLine=c,e.display.maxLineLength=u,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&_r(e,r,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&$a(e.doc)),e&&On(e,"markerCleared",e,this,r,o),t&&Mo(e),this.parent&&this.parent.clear()}},mi.prototype.find=function(e,t){var n,r;null==e&&"bookmark"==this.type&&(e=1);for(var o=0;o<this.lines.length;++o){var a=this.lines[o],i=Nt(a.markedSpans,this);if(null!=i.from&&(n=at(t?a:tt(a),i.from),-1==e))return n;if(null!=i.to&&(r=at(t?a:tt(a),i.to),1==e))return r}return n&&{from:n,to:r}},mi.prototype.changed=function(){var e=this,t=this.find(-1,!0),n=this,r=this.doc.cm;t&&r&&Do(r,(function(){var o=t.line,a=tt(t.line),i=tr(r,a);if(i&&(ur(i),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!rn(n.doc,o)&&null!=n.height){var s=n.height;n.height=null;var l=Hn(n)-s;l&&et(o,o.height+l)}On(r,"markerChanged",r,e)}))},mi.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=B(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},mi.prototype.detachLine=function(e){if(this.lines.splice(B(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},we(mi);var vi=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function yi(e,t,n,r,o){(r=_(r)).shared=!1;var a=[gi(e,t,n,r,o)],i=a[0],s=r.widgetNode;return ya(e,(function(e){s&&(r.widgetNode=s.cloneNode(!0)),a.push(gi(e,dt(e,t),dt(e,n),r,o));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;i=Y(a)})),new vi(a,i)}function ki(e){return e.findMarks(at(e.first,0),e.clipPos(at(e.lastLine())),(function(e){return e.parent}))}function bi(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.find(),a=e.clipPos(o.from),i=e.clipPos(o.to);if(it(a,i)){var s=gi(e,a,i,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function wi(e){for(var t=function(t){var n=e[t],r=[n.primary.doc];ya(n.primary.doc,(function(e){return r.push(e)}));for(var o=0;o<n.markers.length;o++){var a=n.markers[o];-1==B(r,a.doc)&&(a.parent=null,n.markers.splice(o--,1))}},n=0;n<e.length;n++)t(n)}vi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();On(this,"clear")}},vi.prototype.find=function(e,t){return this.primary.find(e,t)},we(vi);var xi=0,Si=function(e,t,n,r,o){if(!(this instanceof Si))return new Si(e,t,n,r,o);null==n&&(n=0),ui.call(this,[new ci([new cn("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var a=at(n,0);this.sel=la(a),this.history=new xa(null),this.id=++xi,this.modeOption=t,this.lineSep=r,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),va(this,{from:a,to:a,text:e}),Ua(this,la(a),H)};Si.prototype=Q(ui.prototype,{constructor:Si,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Qe(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Io((function(e){var t=at(this.first,0),n=this.first+this.size-1;Za(this,{from:t,to:at(n,Je(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&lo(this.cm,0,0),Ua(this,la(t),H)})),replaceRange:function(e,t,n,r){oi(this,e,t=dt(this,t),n=n?dt(this,n):t,r)},getRange:function(e,t,n){var r=Ze(this,dt(this,e),dt(this,t));return!1===n?r:r.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(rt(this,e))return Je(this,e)},getLineNumber:function(e){return tt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Je(this,e)),Zt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return dt(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Io((function(e,t,n){za(this,dt(this,"number"==typeof e?at(e,t||0):e),null,n)})),setSelection:Io((function(e,t,n){za(this,dt(this,e),dt(this,t||e),n)})),extendSelection:Io((function(e,t,n){ja(this,dt(this,e),t&&dt(this,t),n)})),extendSelections:Io((function(e,t){_a(this,ht(this,e),t)})),extendSelectionsBy:Io((function(e,t){_a(this,ht(this,X(this.sel.ranges,e)),t)})),setSelections:Io((function(e,t,n){if(e.length){for(var r=[],o=0;o<e.length;o++)r[o]=new ia(dt(this,e[o].anchor),dt(this,e[o].head||e[o].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ua(this,sa(this.cm,r,t),n)}})),addSelection:Io((function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new ia(dt(this,e),dt(this,t||e))),Ua(this,sa(this.cm,r,r.length-1),n)})),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var o=Ze(this,n[r].from(),n[r].to());t=t?t.concat(o):o}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var o=Ze(this,n[r].from(),n[r].to());!1!==e&&(o=o.join(e||this.lineSeparator())),t[r]=o}return t},replaceSelection:function(e,t,n){for(var r=[],o=0;o<this.sel.ranges.length;o++)r[o]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:Io((function(e,t,n){for(var r=[],o=this.sel,a=0;a<o.ranges.length;a++){var i=o.ranges[a];r[a]={from:i.from(),to:i.to(),text:this.splitLines(e[a]),origin:n}}for(var s=t&&"end"!=t&&fa(this,r,t),l=r.length-1;l>=0;l--)Za(this,r[l]);s?Wa(this,s):this.cm&&so(this.cm)})),undo:Io((function(){ei(this,"undo")})),redo:Io((function(){ei(this,"redo")})),undoSelection:Io((function(){ei(this,"undo",!0)})),redoSelection:Io((function(){ei(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var o=0;o<e.undone.length;o++)e.undone[o].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){var e=this;this.history=new xa(this.history),ya(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Na(this.history.done),undone:Na(this.history.undone)}},setHistory:function(e){var t=this.history=new xa(this.history);t.done=Na(e.done.slice(0),null,!0),t.undone=Na(e.undone.slice(0),null,!0)},setGutterMarker:Io((function(e,t,n){return li(this,e,"gutter",(function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&re(r)&&(e.gutterMarkers=null),!0}))})),clearGutter:Io((function(e){var t=this;this.iter((function(n){n.gutterMarkers&&n.gutterMarkers[e]&&li(t,n,"gutter",(function(){return n.gutterMarkers[e]=null,re(n.gutterMarkers)&&(n.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!rt(this,e))return null;if(t=e,!(e=Je(this,e)))return null}else if(null==(t=tt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Io((function(e,t,n){return li(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[r]){if(C(n).test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0}))})),removeLineClass:Io((function(e,t,n){return li(this,e,"gutter"==t?"gutter":"class",(function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",o=e[r];if(!o)return!1;if(null==n)e[r]=null;else{var a=o.match(C(n));if(!a)return!1;var i=a.index+a[0].length;e[r]=o.slice(0,a.index)+(a.index&&i!=o.length?" ":"")+o.slice(i)||null}return!0}))})),addLineWidget:Io((function(e,t,n){return fi(this,e,t,n)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return gi(this,dt(this,e),dt(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return gi(this,e=dt(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=Je(this,(e=dt(this,e)).line).markedSpans;if(n)for(var r=0;r<n.length;++r){var o=n[r];(null==o.from||o.from<=e.ch)&&(null==o.to||o.to>=e.ch)&&t.push(o.marker.parent||o.marker)}return t},findMarks:function(e,t,n){e=dt(this,e),t=dt(this,t);var r=[],o=e.line;return this.iter(e.line,t.line+1,(function(a){var i=a.markedSpans;if(i)for(var s=0;s<i.length;s++){var l=i[s];null!=l.to&&o==e.line&&e.ch>=l.to||null==l.from&&o!=e.line||null!=l.from&&o==t.line&&l.from>=t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++o})),r},getAllMarks:function(){var e=[];return this.iter((function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)})),e},posFromIndex:function(e){var t,n=this.first,r=this.lineSeparator().length;return this.iter((function(o){var a=o.text.length+r;if(a>e)return t=e,!0;e-=a,++n})),dt(this,at(n,t))},indexFromPos:function(e){var t=(e=dt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+n})),t},copy:function(e){var t=new Si(Qe(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new Si(Qe(this,t,n),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],bi(r,ki(this)),r},unlinkDoc:function(e){if(e instanceof _s&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),wi(ki(this));break}if(e.history==this.history){var n=[e.id];ya(e,(function(e){return n.push(e.id)}),!0),e.history=new xa(null),e.history.done=Na(this.history.done,n),e.history.undone=Na(this.history.undone,n)}},iterLinkedDocs:function(e){ya(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ne(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Io((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&wa(this.cm))}))}),Si.prototype.eachLine=Si.prototype.iter;var Ci=0;function Mi(e){var t=this;if(Ai(t),!ye(t,e)&&!Vn(t.display,e)){xe(e),i&&(Ci=+new Date);var n=Ir(t,e,!0),r=e.dataTransfer.files;if(n&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var o=r.length,a=Array(o),s=0,l=function(){++s==o&&Fo(t,(function(){var e={from:n=dt(t.doc,n),to:n,text:t.doc.splitLines(a.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};Za(t.doc,e),Wa(t.doc,la(dt(t.doc,n),dt(t.doc,ca(e))))}))()},c=function(e,n){if(t.options.allowDropFileTypes&&-1==B(t.options.allowDropFileTypes,e.type))l();else{var r=new FileReader;r.onerror=function(){return l()},r.onload=function(){var e=r.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(a[n]=e),l()},r.readAsText(e)}},u=0;u<r.length;u++)c(r[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var p=e.dataTransfer.getData("Text");if(p){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),Ha(t.doc,la(n,n)),d)for(var f=0;f<d.length;++f)oi(t.doc,"",d[f].anchor,d[f].head,"drag");t.replaceSelection(p,"around","paste"),t.display.input.focus()}}catch(h){}}}}function Ti(e,t){if(i&&(!e.state.draggingText||+new Date-Ci<100))Me(t);else if(!ye(e,t)&&!Vn(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!d)){var n=O("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",p&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),p&&n.parentNode.removeChild(n)}}function Li(e,t){var n=Ir(e,t);if(n){var r=document.createDocumentFragment();$r(e,n,r),e.display.dragCursor||(e.display.dragCursor=O("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),A(e.display.dragCursor,r)}}function Ai(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Oi(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),n=[],r=0;r<t.length;r++){var o=t[r].CodeMirror;o&&n.push(o)}n.length&&n[0].operation((function(){for(var t=0;t<n.length;t++)e(n[t])}))}}var Ri=!1;function Ei(){Ri||(Di(),Ri=!0)}function Di(){var e;he(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Oi(Fi)}),100))})),he(window,"blur",(function(){return Oi(Zr)}))}function Fi(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Ni={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ii=0;Ii<10;Ii++)Ni[Ii+48]=Ni[Ii+96]=String(Ii);for(var ji=65;ji<=90;ji++)Ni[ji]=String.fromCharCode(ji);for(var _i=1;_i<=12;_i++)Ni[_i+111]=Ni[_i+63235]="F"+_i;var Pi={};function zi(e){var t,n,r,o,a=e.split(/-(?!$)/);e=a[a.length-1];for(var i=0;i<a.length-1;i++){var s=a[i];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);r=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function Bi(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==r){delete e[n];continue}for(var o=X(n.split(" "),zi),a=0;a<o.length;a++){var i=void 0,s=void 0;a==o.length-1?(s=o.join(" "),i=r):(s=o.slice(0,a+1).join(" "),i="...");var l=t[s];if(l){if(l!=i)throw new Error("Inconsistent bindings for "+s)}else t[s]=i}delete e[n]}for(var c in t)e[c]=t[c];return e}function Wi(e,t,n,r){var o=(t=$i(t)).call?t.call(e,r):t[e];if(!1===o)return"nothing";if("..."===o)return"multi";if(null!=o&&n(o))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Wi(e,t.fallthrough,n,r);for(var a=0;a<t.fallthrough.length;a++){var i=Wi(e,t.fallthrough[a],n,r);if(i)return i}}}function Ui(e){var t="string"==typeof e?e:Ni[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Hi(e,t,n){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(x?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(x?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!n&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function Vi(e,t){if(p&&34==e.keyCode&&e.char)return!1;var n=Ni[e.keyCode];return null!=n&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(n=e.code),Hi(n,e,t))}function $i(e){return"string"==typeof e?Pi[e]:e}function qi(e,t){for(var n=e.doc.sel.ranges,r=[],o=0;o<n.length;o++){for(var a=t(n[o]);r.length&&it(a.from,Y(r).to)<=0;){var i=r.pop();if(it(i.from,a.from)<0){a.from=i.from;break}}r.push(a)}Do(e,(function(){for(var t=r.length-1;t>=0;t--)oi(e.doc,"",r[t].from,r[t].to,"+delete");so(e)}))}function Gi(e,t,n){var r=ie(e.text,t+n,n);return r<0||r>e.text.length?null:r}function Ki(e,t,n){var r=Gi(e,t.ch,n);return null==r?null:new at(t.line,r,n<0?"after":"before")}function Yi(e,t,n,r,o){if(e){"rtl"==t.doc.direction&&(o=-o);var a=de(n,t.doc.direction);if(a){var i,s=o<0?Y(a):a[0],l=o<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=nr(t,n);i=o<0?n.text.length-1:0;var u=rr(t,c,i).top;i=se((function(e){return rr(t,c,e).top==u}),o<0==(1==s.level)?s.from:s.to-1,i),"before"==l&&(i=Gi(n,i,1))}else i=o<0?s.to:s.from;return new at(r,i,l)}}return new at(r,o<0?n.text.length:0,o<0?"before":"after")}function Xi(e,t,n,r){var o=de(t,e.doc.direction);if(!o)return Ki(t,n,r);n.ch>=t.text.length?(n.ch=t.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var a=ue(o,n.ch,n.sticky),i=o[a];if("ltr"==e.doc.direction&&i.level%2==0&&(r>0?i.to>n.ch:i.from<n.ch))return Ki(t,n,r);var s,l=function(e,n){return Gi(t,e instanceof at?e.ch:e,n)},c=function(n){return e.options.lineWrapping?(s=s||nr(e,t),Cr(e,t,s,n)):{begin:0,end:t.text.length}},u=c("before"==n.sticky?l(n,-1):n.ch);if("rtl"==e.doc.direction||1==i.level){var p=1==i.level==r<0,d=l(n,p?1:-1);if(null!=d&&(p?d<=i.to&&d<=u.end:d>=i.from&&d>=u.begin)){var f=p?"before":"after";return new at(n.line,d,f)}}var h=function(e,t,r){for(var a=function(e,t){return t?new at(n.line,l(e,1),"before"):new at(n.line,e,"after")};e>=0&&e<o.length;e+=t){var i=o[e],s=t>0==(1!=i.level),c=s?r.begin:l(r.end,-1);if(i.from<=c&&c<i.to)return a(c,s);if(c=s?i.from:l(i.to,-1),r.begin<=c&&c<r.end)return a(c,s)}},m=h(a+r,r,u);if(m)return m;var g=r>0?u.end:l(u.begin,-1);return null==g||r>0&&g==t.text.length||!(m=h(r>0?0:o.length-1,r,c(g)))?null:m}Pi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Pi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Pi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Pi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Pi.default=y?Pi.macDefault:Pi.pcDefault;var Ji={selectAll:Xa,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),H)},killLine:function(e){return qi(e,(function(t){if(t.empty()){var n=Je(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:at(t.head.line+1,0)}:{from:t.head,to:at(t.head.line,n)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return qi(e,(function(t){return{from:at(t.from().line,0),to:dt(e.doc,at(t.to().line+1,0))}}))},delLineLeft:function(e){return qi(e,(function(e){return{from:at(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return qi(e,(function(t){var n=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:n},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return qi(e,(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(at(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(at(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return Zi(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return es(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return Qi(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")}),$)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")}),$)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var n=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?es(e,t.head):r}),$)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,o=0;o<n.length;o++){var a=n[o].from(),i=P(e.getLine(a.line),a.ch,r);t.push(K(r-i%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Do(e,(function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)if(t[r].empty()){var o=t[r].head,a=Je(e.doc,o.line).text;if(a)if(o.ch==a.length&&(o=new at(o.line,o.ch-1)),o.ch>0)o=new at(o.line,o.ch+1),e.replaceRange(a.charAt(o.ch-1)+a.charAt(o.ch-2),at(o.line,o.ch-2),o,"+transpose");else if(o.line>e.doc.first){var i=Je(e.doc,o.line-1).text;i&&(o=new at(o.line,1),e.replaceRange(a.charAt(0)+e.doc.lineSeparator()+i.charAt(i.length-1),at(o.line-1,i.length-1),o,"+transpose"))}n.push(new ia(o,o))}e.setSelections(n)}))},newlineAndIndent:function(e){return Do(e,(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange(e.doc.lineSeparator(),t[n].anchor,t[n].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);so(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Zi(e,t){var n=Je(e.doc,t),r=Zt(n);return r!=n&&(t=tt(r)),Yi(!0,e,r,t,1)}function Qi(e,t){var n=Je(e.doc,t),r=Qt(n);return r!=n&&(t=tt(r)),Yi(!0,e,n,t,-1)}function es(e,t){var n=Zi(e,t.line),r=Je(e.doc,n.line),o=de(r,e.doc.direction);if(!o||0==o[0].level){var a=Math.max(n.ch,r.text.search(/\S/)),i=t.line==n.line&&t.ch<=a&&t.ch;return at(n.line,i?0:a,n.sticky)}return n}function ts(e,t,n){if("string"==typeof t&&!(t=Ji[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,o=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),o=t(e)!=U}finally{e.display.shift=r,e.state.suppressEdits=!1}return o}function ns(e,t,n){for(var r=0;r<e.state.keyMaps.length;r++){var o=Wi(t,e.state.keyMaps[r],n,e);if(o)return o}return e.options.extraKeys&&Wi(t,e.options.extraKeys,n,e)||Wi(t,e.options.keyMap,n,e)}var rs=new z;function os(e,t,n,r){var o=e.state.keySeq;if(o){if(Ui(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:rs.set(50,(function(){e.state.keySeq==o&&(e.state.keySeq=null,e.display.input.reset())})),as(e,o+" "+t,n,r))return!0}return as(e,t,n,r)}function as(e,t,n,r){var o=ns(e,t,r);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&On(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(xe(n),Kr(e)),!!o}function is(e,t){var n=Vi(t,!0);return!!n&&(t.shiftKey&&!e.state.keySeq?os(e,"Shift-"+n,t,(function(t){return ts(e,t,!0)}))||os(e,n,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ts(e,t)})):os(e,n,t,(function(t){return ts(e,t)})))}function ss(e,t,n){return os(e,"'"+n+"'",t,(function(t){return ts(e,t,!0)}))}var ls=null;function cs(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=D(),ye(t,e)))){i&&s<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var o=is(t,e);p&&(ls=o?r:null,o||88!=r||je||!(y?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),n&&!y&&!o&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||us(t)}}function us(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(T(t,"CodeMirror-crosshair"),ge(document,"keyup",n),ge(document,"mouseover",n))}F(t,"CodeMirror-crosshair"),he(document,"keyup",n),he(document,"mouseover",n)}function ps(e){16==e.keyCode&&(this.doc.sel.shift=!1),ye(this,e)}function ds(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Vn(t.display,e)||ye(t,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(p&&n==ls)return ls=null,void xe(e);if(!p||e.which&&!(e.which<10)||!is(t,e)){var o=String.fromCharCode(null==r?n:r);"\b"!=o&&(ss(t,e,o)||t.display.input.onKeyPress(e))}}}var fs,hs,ms=400,gs=function(e,t,n){this.time=e,this.pos=t,this.button=n};function vs(e,t){var n=+new Date;return hs&&hs.compare(n,e,t)?(fs=hs=null,"triple"):fs&&fs.compare(n,e,t)?(hs=new gs(n,e,t),fs=null,"double"):(fs=new gs(n,e,t),hs=null,"single")}function ys(e){var t=this,n=t.display;if(!(ye(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=e.shiftKey,Vn(n,e))l||(n.scroller.draggable=!1,setTimeout((function(){return n.scroller.draggable=!0}),100));else if(!Ls(t,e)){var r=Ir(t,e),o=Le(e),a=r?vs(r,o):"single";window.focus(),1==o&&t.state.selectingText&&t.state.selectingText(e),r&&ks(t,o,r,a,e)||(1==o?r?ws(t,r,a,e):Te(e)==n.scroller&&xe(e):2==o?(r&&ja(t.doc,r),setTimeout((function(){return n.input.focus()}),20)):3==o&&(S?t.display.input.onContextMenu(e):Xr(t)))}}function ks(e,t,n,r,o){var a="Click";return"double"==r?a="Double"+a:"triple"==r&&(a="Triple"+a),os(e,Hi(a=(1==t?"Left":2==t?"Middle":"Right")+a,o),o,(function(t){if("string"==typeof t&&(t=Ji[t]),!t)return!1;var r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r=t(e,n)!=U}finally{e.state.suppressEdits=!1}return r}))}function bs(e,t,n){var r=e.getOption("configureMouse"),o=r?r(e,t,n):{};if(null==o.unit){var a=k?n.shiftKey&&n.metaKey:n.altKey;o.unit=a?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==o.extend||e.doc.extend)&&(o.extend=e.doc.extend||n.shiftKey),null==o.addNew&&(o.addNew=y?n.metaKey:n.ctrlKey),null==o.moveOnDrag&&(o.moveOnDrag=!(y?n.altKey:n.ctrlKey)),o}function ws(e,t,n,r){i?setTimeout(j(Yr,e),0):e.curOp.focus=D();var o,a=bs(e,n,r),s=e.doc.sel;e.options.dragDrop&&Re&&!e.isReadOnly()&&"single"==n&&(o=s.contains(t))>-1&&(it((o=s.ranges[o]).from(),t)<0||t.xRel>0)&&(it(o.to(),t)>0||t.xRel<0)?xs(e,r,t,a):Cs(e,r,t,a)}function xs(e,t,n,r){var o=e.display,a=!1,c=Fo(e,(function(t){l&&(o.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Xr(e)),ge(o.wrapper.ownerDocument,"mouseup",c),ge(o.wrapper.ownerDocument,"mousemove",u),ge(o.scroller,"dragstart",p),ge(o.scroller,"drop",c),a||(xe(t),r.addNew||ja(e.doc,n,null,null,r.extend),l&&!d||i&&9==s?setTimeout((function(){o.wrapper.ownerDocument.body.focus({preventScroll:!0}),o.input.focus()}),20):o.input.focus())})),u=function(e){a=a||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},p=function(){return a=!0};l&&(o.scroller.draggable=!0),e.state.draggingText=c,c.copy=!r.moveOnDrag,he(o.wrapper.ownerDocument,"mouseup",c),he(o.wrapper.ownerDocument,"mousemove",u),he(o.scroller,"dragstart",p),he(o.scroller,"drop",c),e.state.delayingBlurEvent=!0,setTimeout((function(){return o.input.focus()}),20),o.scroller.dragDrop&&o.scroller.dragDrop()}function Ss(e,t,n){if("char"==n)return new ia(t,t);if("word"==n)return e.findWordAt(t);if("line"==n)return new ia(at(t.line,0),dt(e.doc,at(t.line+1,0)));var r=n(e,t);return new ia(r.from,r.to)}function Cs(e,t,n,r){i&&Xr(e);var o=e.display,a=e.doc;xe(t);var s,l,c=a.sel,u=c.ranges;if(r.addNew&&!r.extend?(l=a.sel.contains(n),s=l>-1?u[l]:new ia(n,n)):(s=a.sel.primary(),l=a.sel.primIndex),"rectangle"==r.unit)r.addNew||(s=new ia(n,n)),n=Ir(e,t,!0,!0),l=-1;else{var p=Ss(e,n,r.unit);s=r.extend?Ia(s,p.anchor,p.head,r.extend):p}r.addNew?-1==l?(l=u.length,Ua(a,sa(e,u.concat([s]),l),{scroll:!1,origin:"*mouse"})):u.length>1&&u[l].empty()&&"char"==r.unit&&!r.extend?(Ua(a,sa(e,u.slice(0,l).concat(u.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),c=a.sel):Pa(a,l,s,V):(l=0,Ua(a,new aa([s],0),V),c=a.sel);var d=n;function f(t){if(0!=it(d,t))if(d=t,"rectangle"==r.unit){for(var o=[],i=e.options.tabSize,u=P(Je(a,n.line).text,n.ch,i),p=P(Je(a,t.line).text,t.ch,i),f=Math.min(u,p),h=Math.max(u,p),m=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));m<=g;m++){var v=Je(a,m).text,y=q(v,f,i);f==h?o.push(new ia(at(m,y),at(m,y))):v.length>y&&o.push(new ia(at(m,y),at(m,q(v,h,i))))}o.length||o.push(new ia(n,n)),Ua(a,sa(e,c.ranges.slice(0,l).concat(o),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var k,b=s,w=Ss(e,t,r.unit),x=b.anchor;it(w.anchor,x)>0?(k=w.head,x=ut(b.from(),w.anchor)):(k=w.anchor,x=ct(b.to(),w.head));var S=c.ranges.slice(0);S[l]=Ms(e,new ia(dt(a,x),k)),Ua(a,sa(e,S,l),V)}}var h=o.wrapper.getBoundingClientRect(),m=0;function g(t){var n=++m,i=Ir(e,t,!0,"rectangle"==r.unit);if(i)if(0!=it(i,d)){e.curOp.focus=D(),f(i);var s=to(o,a);(i.line>=s.to||i.line<s.from)&&setTimeout(Fo(e,(function(){m==n&&g(t)})),150)}else{var l=t.clientY<h.top?-20:t.clientY>h.bottom?20:0;l&&setTimeout(Fo(e,(function(){m==n&&(o.scroller.scrollTop+=l,g(t))})),50)}}function v(t){e.state.selectingText=!1,m=1/0,t&&(xe(t),o.input.focus()),ge(o.wrapper.ownerDocument,"mousemove",y),ge(o.wrapper.ownerDocument,"mouseup",k),a.history.lastSelOrigin=null}var y=Fo(e,(function(e){0!==e.buttons&&Le(e)?g(e):v(e)})),k=Fo(e,v);e.state.selectingText=k,he(o.wrapper.ownerDocument,"mousemove",y),he(o.wrapper.ownerDocument,"mouseup",k)}function Ms(e,t){var n=t.anchor,r=t.head,o=Je(e.doc,n.line);if(0==it(n,r)&&n.sticky==r.sticky)return t;var a=de(o);if(!a)return t;var i=ue(a,n.ch,n.sticky),s=a[i];if(s.from!=n.ch&&s.to!=n.ch)return t;var l,c=i+(s.from==n.ch==(1!=s.level)?0:1);if(0==c||c==a.length)return t;if(r.line!=n.line)l=(r.line-n.line)*("ltr"==e.doc.direction?1:-1)>0;else{var u=ue(a,r.ch,r.sticky),p=u-i||(r.ch-n.ch)*(1==s.level?-1:1);l=u==c-1||u==c?p<0:p>0}var d=a[c+(l?-1:0)],f=l==(1==d.level),h=f?d.from:d.to,m=f?"after":"before";return n.ch==h&&n.sticky==m?t:new ia(new at(n.line,h,m),r)}function Ts(e,t,n,r){var o,a;if(t.touches)o=t.touches[0].clientX,a=t.touches[0].clientY;else try{o=t.clientX,a=t.clientY}catch(u){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&xe(t);var i=e.display,s=i.lineDiv.getBoundingClientRect();if(a>s.bottom||!be(e,n))return Ce(t);a-=s.top-i.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var c=i.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=o)return ve(e,n,e,nt(e.doc,a),e.display.gutterSpecs[l].className,t),Ce(t)}}function Ls(e,t){return Ts(e,t,"gutterClick",!0)}function As(e,t){Vn(e.display,t)||Os(e,t)||ye(e,t,"contextmenu")||S||e.display.input.onContextMenu(t)}function Os(e,t){return!!be(e,"gutterContextMenu")&&Ts(e,t,"gutterContextMenu",!1)}function Rs(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),dr(e)}gs.prototype.compare=function(e,t,n){return this.time+ms>e&&0==it(t,this.pos)&&n==this.button};var Es={toString:function(){return"CodeMirror.Init"}},Ds={},Fs={};function Ns(e){var t=e.optionHandlers;function n(n,r,o,a){e.defaults[n]=r,o&&(t[n]=a?function(e,t,n){n!=Es&&o(e,t,n)}:o)}e.defineOption=n,e.Init=Es,n("value","",(function(e,t){return e.setValue(t)}),!0),n("mode",null,(function(e,t){e.doc.modeOption=t,ha(e)}),!0),n("indentUnit",2,ha,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,(function(e){ma(e),dr(e),_r(e)}),!0),n("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var n=[],r=e.doc.first;e.doc.iter((function(e){for(var o=0;;){var a=e.text.indexOf(t,o);if(-1==a)break;o=a+t.length,n.push(at(r,a))}r++}));for(var o=n.length-1;o>=0;o--)oi(e.doc,t,n[o],at(n[o].line,n[o].ch+t.length))}})),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,(function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=Es&&e.refresh()})),n("specialCharPlaceholder",gn,(function(e){return e.refresh()}),!0),n("electricChars",!0),n("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),n("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),n("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),n("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),n("rtlMoveVisually",!b),n("wholeLineUpdateBefore",!0),n("theme","default",(function(e){Rs(e),Zo(e)}),!0),n("keyMap","default",(function(e,t,n){var r=$i(t),o=n!=Es&&$i(n);o&&o.detach&&o.detach(e,r),r.attach&&r.attach(e,o||null)})),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,js,!0),n("gutters",[],(function(e,t){e.display.gutterSpecs=Xo(t,e.options.lineNumbers),Zo(e)}),!0),n("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Dr(e.display)+"px":"0",e.refresh()}),!0),n("coverGutterNextToScrollbar",!1,(function(e){return ko(e)}),!0),n("scrollbarStyle","native",(function(e){xo(e),ko(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),n("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=Xo(e.options.gutters,t),Zo(e)}),!0),n("firstLineNumber",1,Zo,!0),n("lineNumberFormatter",(function(e){return e}),Zo,!0),n("showCursorWhenSelecting",!1,Hr,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,(function(e,t){"nocursor"==t&&(Zr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),n("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),n("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),n("dragDrop",!0,Is),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,Hr,!0),n("singleCursorHeightPerLine",!0,Hr,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,ma,!0),n("addModeClass",!1,ma,!0),n("pollInterval",100),n("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),n("historyEventDelay",1250),n("viewportMargin",10,(function(e){return e.refresh()}),!0),n("maxHighlightLength",1e4,ma,!0),n("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),n("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),n("autofocus",null),n("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),n("phrases",null)}function Is(e,t,n){if(!t!=!(n&&n!=Es)){var r=e.display.dragFunctions,o=t?he:ge;o(e.display.scroller,"dragstart",r.start),o(e.display.scroller,"dragenter",r.enter),o(e.display.scroller,"dragover",r.over),o(e.display.scroller,"dragleave",r.leave),o(e.display.scroller,"drop",r.drop)}}function js(e){e.options.lineWrapping?(F(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(T(e.display.wrapper,"CodeMirror-wrap"),ln(e)),Nr(e),_r(e),dr(e),setTimeout((function(){return ko(e)}),100)}function _s(e,t){var n=this;if(!(this instanceof _s))return new _s(e,t);this.options=t=t?_(t):{},_(Ds,t,!1);var r=t.value;"string"==typeof r?r=new Si(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var o=new _s.inputStyles[t.inputStyle](this),a=this.display=new Qo(e,r,o,t);for(var c in a.wrapper.CodeMirror=this,Rs(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),xo(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new z,keySeq:null,specialChars:null},t.autofocus&&!v&&a.input.focus(),i&&s<11&&setTimeout((function(){return n.display.input.reset(!0)}),20),Ps(this),Ei(),Co(this),this.curOp.forceUpdate=!0,ka(this,r),t.autofocus&&!v||this.hasFocus()?setTimeout((function(){n.hasFocus()&&!n.state.focused&&Jr(n)}),20):Zr(this),Fs)Fs.hasOwnProperty(c)&&Fs[c](this,t[c],Es);Yo(this),t.finishInit&&t.finishInit(this);for(var u=0;u<zs.length;++u)zs[u](this);Mo(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function Ps(e){var t=e.display;he(t.scroller,"mousedown",Fo(e,ys)),he(t.scroller,"dblclick",i&&s<11?Fo(e,(function(t){if(!ye(e,t)){var n=Ir(e,t);if(n&&!Ls(e,t)&&!Vn(e.display,t)){xe(t);var r=e.findWordAt(n);ja(e.doc,r.anchor,r.head)}}})):function(t){return ye(e,t)||xe(t)}),he(t.scroller,"contextmenu",(function(t){return As(e,t)})),he(t.input.getField(),"contextmenu",(function(n){t.scroller.contains(n.target)||As(e,n)}));var n,r={end:0};function o(){t.activeTouch&&(n=setTimeout((function(){return t.activeTouch=null}),1e3),(r=t.activeTouch).end=+new Date)}function a(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var n=t.left-e.left,r=t.top-e.top;return n*n+r*r>400}he(t.scroller,"touchstart",(function(o){if(!ye(e,o)&&!a(o)&&!Ls(e,o)){t.input.ensurePolled(),clearTimeout(n);var i=+new Date;t.activeTouch={start:i,moved:!1,prev:i-r.end<=300?r:null},1==o.touches.length&&(t.activeTouch.left=o.touches[0].pageX,t.activeTouch.top=o.touches[0].pageY)}})),he(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),he(t.scroller,"touchend",(function(n){var r=t.activeTouch;if(r&&!Vn(t,n)&&null!=r.left&&!r.moved&&new Date-r.start<300){var a,i=e.coordsChar(t.activeTouch,"page");a=!r.prev||l(r,r.prev)?new ia(i,i):!r.prev.prev||l(r,r.prev.prev)?e.findWordAt(i):new ia(at(i.line,0),dt(e.doc,at(i.line+1,0))),e.setSelection(a.anchor,a.head),e.focus(),xe(n)}o()})),he(t.scroller,"touchcancel",o),he(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(fo(e,t.scroller.scrollTop),mo(e,t.scroller.scrollLeft,!0),ve(e,"scroll",e))})),he(t.scroller,"mousewheel",(function(t){return oa(e,t)})),he(t.scroller,"DOMMouseScroll",(function(t){return oa(e,t)})),he(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){ye(e,t)||Me(t)},over:function(t){ye(e,t)||(Li(e,t),Me(t))},start:function(t){return Ti(e,t)},drop:Fo(e,Mi),leave:function(t){ye(e,t)||Ai(e)}};var c=t.input.getField();he(c,"keyup",(function(t){return ps.call(e,t)})),he(c,"keydown",Fo(e,cs)),he(c,"keypress",Fo(e,ds)),he(c,"focus",(function(t){return Jr(e,t)})),he(c,"blur",(function(t){return Zr(e,t)}))}_s.defaults=Ds,_s.optionHandlers=Fs;var zs=[];function Bs(e,t,n,r){var o,a=e.doc;null==n&&(n="add"),"smart"==n&&(a.mode.indent?o=kt(e,t).state:n="prev");var i=e.options.tabSize,s=Je(a,t),l=P(s.text,null,i);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&((c=a.mode.indent(o,s.text.slice(u.length),s.text))==U||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>a.first?P(Je(a,t-1).text,null,i):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var p="",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(c/i);f;--f)d+=i,p+="\t";if(d<c&&(p+=K(c-d)),p!=u)return oi(a,p,at(t,0),at(t,u.length),"+input"),s.stateAfter=null,!0;for(var h=0;h<a.sel.ranges.length;h++){var m=a.sel.ranges[h];if(m.head.line==t&&m.head.ch<u.length){var g=at(t,u.length);Pa(a,h,new ia(g,g));break}}}_s.defineInitHook=function(e){return zs.push(e)};var Ws=null;function Us(e){Ws=e}function Hs(e,t,n,r,o){var a=e.doc;e.display.shift=!1,r||(r=a.sel);var i=+new Date-200,s="paste"==o||e.state.pasteIncoming>i,l=Ne(t),c=null;if(s&&r.ranges.length>1)if(Ws&&Ws.text.join("\n")==t){if(r.ranges.length%Ws.text.length==0){c=[];for(var u=0;u<Ws.text.length;u++)c.push(a.splitLines(Ws.text[u]))}}else l.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(c=X(l,(function(e){return[e]})));for(var p=e.curOp.updateInput,d=r.ranges.length-1;d>=0;d--){var f=r.ranges[d],h=f.from(),m=f.to();f.empty()&&(n&&n>0?h=at(h.line,h.ch-n):e.state.overwrite&&!s?m=at(m.line,Math.min(Je(a,m.line).text.length,m.ch+Y(l).length)):s&&Ws&&Ws.lineWise&&Ws.text.join("\n")==l.join("\n")&&(h=m=at(h.line,0)));var g={from:h,to:m,text:c?c[d%c.length]:l,origin:o||(s?"paste":e.state.cutIncoming>i?"cut":"+input")};Za(e.doc,g),On(e,"inputRead",e,g)}t&&!s&&$s(e,t),so(e),e.curOp.updateInput<2&&(e.curOp.updateInput=p),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Vs(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Do(t,(function(){return Hs(t,n,0,null,"paste")})),!0}function $s(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,r=n.ranges.length-1;r>=0;r--){var o=n.ranges[r];if(!(o.head.ch>100||r&&n.ranges[r-1].head.line==o.head.line)){var a=e.getModeAt(o.head),i=!1;if(a.electricChars){for(var s=0;s<a.electricChars.length;s++)if(t.indexOf(a.electricChars.charAt(s))>-1){i=Bs(e,o.head.line,"smart");break}}else a.electricInput&&a.electricInput.test(Je(e.doc,o.head.line).text.slice(0,o.head.ch))&&(i=Bs(e,o.head.line,"smart"));i&&On(e,"electricInput",e,o.head.line)}}}function qs(e){for(var t=[],n=[],r=0;r<e.doc.sel.ranges.length;r++){var o=e.doc.sel.ranges[r].head.line,a={anchor:at(o,0),head:at(o+1,0)};n.push(a),t.push(e.getRange(a.anchor,a.head))}return{text:t,ranges:n}}function Gs(e,t,n,r){e.setAttribute("autocorrect",n?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function Ks(){var e=O("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=O("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),m&&(e.style.border="1px solid black"),Gs(e),t}function Ys(e){var t=e.optionHandlers,n=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,n){var r=this.options,o=r[e];r[e]==n&&"mode"!=e||(r[e]=n,t.hasOwnProperty(e)&&Fo(this,t[e])(this,n,o),ve(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"]($i(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:No((function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");J(this.state.overlays,{mode:r,modeSpec:t,opaque:n&&n.opaque,priority:n&&n.priority||0},(function(e){return e.priority})),this.state.modeGen++,_r(this)})),removeOverlay:No((function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void _r(this)}})),indentLine:No((function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),rt(this.doc,e)&&Bs(this,e,t,n)})),indentSelection:No((function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var o=t[r];if(o.empty())o.head.line>n&&(Bs(this,o.head.line,e,!0),n=o.head.line,r==this.doc.sel.primIndex&&so(this));else{var a=o.from(),i=o.to(),s=Math.max(n,a.line);n=Math.min(this.lastLine(),i.line-(i.ch?0:1))+1;for(var l=s;l<n;++l)Bs(this,l,e);var c=this.doc.sel.ranges;0==a.ch&&t.length==c.length&&c[r].from().ch>0&&Pa(this.doc,r,new ia(a,c[r].to()),H)}}})),getTokenAt:function(e,t){return Ct(this,e,t)},getLineTokens:function(e,t){return Ct(this,at(e),t,!0)},getTokenTypeAt:function(e){e=dt(this.doc,e);var t,n=yt(this,Je(this.doc,e.line)),r=0,o=(n.length-1)/2,a=e.ch;if(0==a)t=n[2];else for(;;){var i=r+o>>1;if((i?n[2*i-1]:0)>=a)o=i;else{if(!(n[2*i+1]<a)){t=n[2*i+2];break}r=i+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!n.hasOwnProperty(t))return r;var o=n[t],a=this.getModeAt(e);if("string"==typeof a[t])o[a[t]]&&r.push(o[a[t]]);else if(a[t])for(var i=0;i<a[t].length;i++){var s=o[a[t][i]];s&&r.push(s)}else a.helperType&&o[a.helperType]?r.push(o[a.helperType]):o[a.name]&&r.push(o[a.name]);for(var l=0;l<o._global.length;l++){var c=o._global[l];c.pred(a,this)&&-1==B(r,c.val)&&r.push(c.val)}return r},getStateAfter:function(e,t){var n=this.doc;return kt(this,(e=pt(n,null==e?n.first+n.size-1:e))+1,t).state},cursorCoords:function(e,t){var n=this.doc.sel.primary();return kr(this,null==e?n.head:"object"==typeof e?dt(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return yr(this,dt(this.doc,e),t||"page")},coordsChar:function(e,t){return xr(this,(e=vr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=vr(this,{top:e,left:0},t||"page").top,nt(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,n){var r,o=!1;if("number"==typeof e){var a=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>a&&(e=a,o=!0),r=Je(this.doc,e)}else r=e;return gr(this,r,{top:0,left:0},t||"page",n||o).top+(o?this.doc.height-an(r):0)},defaultTextHeight:function(){return Or(this.display)},defaultCharWidth:function(){return Rr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,o){var a=this.display,i=(e=kr(this,dt(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),a.sizer.appendChild(t),"over"==r)i=e.top;else if("above"==r||"near"==r){var l=Math.max(a.wrapper.clientHeight,this.doc.height),c=Math.max(a.sizer.clientWidth,a.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?i=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(i=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=i+"px",t.style.left=t.style.right="","right"==o?(s=a.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==o?s=0:"middle"==o&&(s=(a.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&oo(this,{left:s,top:i,right:s+t.offsetWidth,bottom:i+t.offsetHeight})},triggerOnKeyDown:No(cs),triggerOnKeyPress:No(ds),triggerOnKeyUp:ps,triggerOnMouseDown:No(ys),execCommand:function(e){if(Ji.hasOwnProperty(e))return Ji[e].call(null,this)},triggerElectric:No((function(e){$s(this,e)})),findPosH:function(e,t,n,r){var o=1;t<0&&(o=-1,t=-t);for(var a=dt(this.doc,e),i=0;i<t&&!(a=Xs(this.doc,a,o,n,r)).hitSide;++i);return a},moveH:No((function(e,t){var n=this;this.extendSelectionsBy((function(r){return n.display.shift||n.doc.extend||r.empty()?Xs(n.doc,r.head,e,t,n.options.rtlMoveVisually):e<0?r.from():r.to()}),$)})),deleteH:No((function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):qi(this,(function(n){var o=Xs(r,n.head,e,t,!1);return e<0?{from:o,to:n.head}:{from:n.head,to:o}}))})),findPosV:function(e,t,n,r){var o=1,a=r;t<0&&(o=-1,t=-t);for(var i=dt(this.doc,e),s=0;s<t;++s){var l=kr(this,i,"div");if(null==a?a=l.left:l.left=a,(i=Js(this,l,o,n)).hitSide)break}return i},moveV:No((function(e,t){var n=this,r=this.doc,o=[],a=!this.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy((function(i){if(a)return e<0?i.from():i.to();var s=kr(n,i.head,"div");null!=i.goalColumn&&(s.left=i.goalColumn),o.push(s.left);var l=Js(n,s,e,t);return"page"==t&&i==r.sel.primary()&&io(n,yr(n,l,"div").top-s.top),l}),$),o.length)for(var i=0;i<r.sel.ranges.length;i++)r.sel.ranges[i].goalColumn=o[i]})),findWordAt:function(e){var t=Je(this.doc,e.line).text,n=e.ch,r=e.ch;if(t){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&r!=t.length||!n?++r:--n;for(var a=t.charAt(n),i=ne(a,o)?function(e){return ne(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ne(e)};n>0&&i(t.charAt(n-1));)--n;for(;r<t.length&&i(t.charAt(r));)++r}return new ia(at(e.line,n),at(e.line,r))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?F(this.display.cursorDiv,"CodeMirror-overwrite"):T(this.display.cursorDiv,"CodeMirror-overwrite"),ve(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==D()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:No((function(e,t){lo(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Kn(this)-this.display.barHeight,width:e.scrollWidth-Kn(this)-this.display.barWidth,clientHeight:Xn(this),clientWidth:Yn(this)}},scrollIntoView:No((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:at(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?co(this,e):po(this,e.from,e.to,e.margin)})),setSize:No((function(e,t){var n=this,r=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&pr(this);var o=this.display.viewFrom;this.doc.iter(o,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Pr(n,o,"widget");break}++o})),this.curOp.forceUpdate=!0,ve(this,"refresh",this)})),operation:function(e){return Do(this,e)},startOperation:function(){return Co(this)},endOperation:function(){return Mo(this)},refresh:No((function(){var e=this.display.cachedTextHeight;_r(this),this.curOp.forceUpdate=!0,dr(this),lo(this,this.doc.scrollLeft,this.doc.scrollTop),qo(this.display),(null==e||Math.abs(e-Or(this.display))>.5||this.options.lineWrapping)&&Nr(this),ve(this,"refresh",this)})),swapDoc:No((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),ka(this,e),dr(this),this.display.input.reset(),lo(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,On(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},we(e),e.registerHelper=function(t,r,o){n.hasOwnProperty(t)||(n[t]=e[t]={_global:[]}),n[t][r]=o},e.registerGlobalHelper=function(t,r,o,a){e.registerHelper(t,r,a),n[t]._global.push({pred:o,val:a})}}function Xs(e,t,n,r,o){var a=t,i=n,s=Je(e,t.line),l=o&&"rtl"==e.direction?-n:n;function c(){var n=t.line+l;return!(n<e.first||n>=e.first+e.size)&&(t=new at(n,t.ch,t.sticky),s=Je(e,n))}function u(a){var i;if("codepoint"==r){var u=s.text.charCodeAt(t.ch+(n>0?0:-1));if(isNaN(u))i=null;else{var p=n>0?u>=55296&&u<56320:u>=56320&&u<57343;i=new at(t.line,Math.max(0,Math.min(s.text.length,t.ch+n*(p?2:1))),-n)}}else i=o?Xi(e.cm,s,t,n):Ki(s,t,n);if(null==i){if(a||!c())return!1;t=Yi(o,e.cm,s,t.line,l)}else t=i;return!0}if("char"==r||"codepoint"==r)u();else if("column"==r)u(!0);else if("word"==r||"group"==r)for(var p=null,d="group"==r,f=e.cm&&e.cm.getHelper(t,"wordChars"),h=!0;!(n<0)||u(!h);h=!1){var m=s.text.charAt(t.ch)||"\n",g=ne(m,f)?"w":d&&"\n"==m?"n":!d||/\s/.test(m)?null:"p";if(!d||h||g||(g="s"),p&&p!=g){n<0&&(n=1,u(),t.sticky="after");break}if(g&&(p=g),n>0&&!u(!h))break}var v=Ka(e,t,a,i,!0);return st(a,v)&&(v.hitSide=!0),v}function Js(e,t,n,r){var o,a,i=e.doc,s=t.left;if("page"==r){var l=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),c=Math.max(l-.5*Or(e.display),3);o=(n>0?t.bottom:t.top)+n*c}else"line"==r&&(o=n>0?t.bottom+3:t.top-3);for(;(a=xr(e,s,o)).outside;){if(n<0?o<=0:o>=i.height){a.hitSide=!0;break}o+=5*n}return a}var Zs=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new z,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Qs(e,t){var n=tr(e,t.line);if(!n||n.hidden)return null;var r=Je(e.doc,t.line),o=Zn(n,r,t.line),a=de(r,e.doc.direction),i="left";a&&(i=ue(a,t.ch)%2?"right":"left");var s=ir(o.map,t.ch,i);return s.offset="right"==s.collapse?s.end:s.start,s}function el(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function tl(e,t){return t&&(e.bad=!0),e}function nl(e,t,n,r,o){var a="",i=!1,s=e.doc.lineSeparator(),l=!1;function c(e){return function(t){return t.id==e}}function u(){i&&(a+=s,l&&(a+=s),i=l=!1)}function p(e){e&&(u(),a+=e)}function d(t){if(1==t.nodeType){var n=t.getAttribute("cm-text");if(n)return void p(n);var a,f=t.getAttribute("cm-marker");if(f){var h=e.findMarks(at(r,0),at(o+1,0),c(+f));return void(h.length&&(a=h[0].find(0))&&p(Ze(e.doc,a.from,a.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&u();for(var g=0;g<t.childNodes.length;g++)d(t.childNodes[g]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),m&&(i=!0)}else 3==t.nodeType&&p(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;d(t),t!=n;)t=t.nextSibling,l=!1;return a}function rl(e,t,n){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[n]))return tl(e.clipPos(at(e.display.viewTo-1)),!0);t=null,n=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var o=0;o<e.display.view.length;o++){var a=e.display.view[o];if(a.node==r)return ol(a,t,n)}}function ol(e,t,n){var r=e.text.firstChild,o=!1;if(!t||!E(r,t))return tl(at(tt(e.line),0),!0);if(t==r&&(o=!0,t=r.childNodes[n],n=0,!t)){var a=e.rest?Y(e.rest):e.line;return tl(at(tt(a),a.text.length),o)}var i=3==t.nodeType?t:null,s=t;for(i||1!=t.childNodes.length||3!=t.firstChild.nodeType||(i=t.firstChild,n&&(n=i.nodeValue.length));s.parentNode!=r;)s=s.parentNode;var l=e.measure,c=l.maps;function u(t,n,r){for(var o=-1;o<(c?c.length:0);o++)for(var a=o<0?l.map:c[o],i=0;i<a.length;i+=3){var s=a[i+2];if(s==t||s==n){var u=tt(o<0?e.line:e.rest[o]),p=a[i]+r;return(r<0||s!=t)&&(p=a[i+(r?1:0)]),at(u,p)}}}var p=u(i,s,n);if(p)return tl(p,o);for(var d=s.nextSibling,f=i?i.nodeValue.length-n:0;d;d=d.nextSibling){if(p=u(d,d.firstChild,0))return tl(at(p.line,p.ch-f),o);f+=d.textContent.length}for(var h=s.previousSibling,m=n;h;h=h.previousSibling){if(p=u(h,h.firstChild,-1))return tl(at(p.line,p.ch+m),o);m+=h.textContent.length}}Zs.prototype.init=function(e){var t=this,n=this,r=n.cm,o=n.div=e.lineDiv;function a(e){for(var t=e.target;t;t=t.parentNode){if(t==o)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function i(e){if(a(e)&&!ye(r,e)){if(r.somethingSelected())Us({lineWise:!1,text:r.getSelections()}),"cut"==e.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var t=qs(r);Us({lineWise:!0,text:t.text}),"cut"==e.type&&r.operation((function(){r.setSelections(t.ranges,0,H),r.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var i=Ws.text.join("\n");if(e.clipboardData.setData("Text",i),e.clipboardData.getData("Text")==i)return void e.preventDefault()}var s=Ks(),l=s.firstChild;r.display.lineSpace.insertBefore(s,r.display.lineSpace.firstChild),l.value=Ws.text.join("\n");var c=D();I(l),setTimeout((function(){r.display.lineSpace.removeChild(s),c.focus(),c==o&&n.showPrimarySelection()}),50)}}o.contentEditable=!0,Gs(o,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),he(o,"paste",(function(e){!a(e)||ye(r,e)||Vs(e,r)||s<=11&&setTimeout(Fo(r,(function(){return t.updateFromDOM()})),20)})),he(o,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),he(o,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),he(o,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),he(o,"touchstart",(function(){return n.forceCompositionEnd()})),he(o,"input",(function(){t.composing||t.readFromDOMSoon()})),he(o,"copy",i),he(o,"cut",i)},Zs.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},Zs.prototype.prepareSelection=function(){var e=Vr(this.cm,!1);return e.focus=D()==this.div,e},Zs.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},Zs.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Zs.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),o=r.from(),a=r.to();if(t.display.viewTo==t.display.viewFrom||o.line>=t.display.viewTo||a.line<t.display.viewFrom)e.removeAllRanges();else{var i=rl(t,e.anchorNode,e.anchorOffset),s=rl(t,e.focusNode,e.focusOffset);if(!i||i.bad||!s||s.bad||0!=it(ut(i,s),o)||0!=it(ct(i,s),a)){var l=t.display.view,c=o.line>=t.display.viewFrom&&Qs(t,o)||{node:l[0].measure.map[2],offset:0},u=a.line<t.display.viewTo&&Qs(t,a);if(!u){var p=l[l.length-1].measure,d=p.maps?p.maps[p.maps.length-1]:p.map;u={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(c&&u){var f,h=e.rangeCount&&e.getRangeAt(0);try{f=M(c.node,c.offset,u.offset,u.node)}catch(Fe){}f&&(!n&&t.state.focused?(e.collapse(c.node,c.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),h&&null==e.anchorNode?e.addRange(h):n&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},Zs.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},Zs.prototype.showMultipleSelections=function(e){A(this.cm.display.cursorDiv,e.cursors),A(this.cm.display.selectionDiv,e.selection)},Zs.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},Zs.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return E(this.div,t)},Zs.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&D()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Zs.prototype.blur=function(){this.div.blur()},Zs.prototype.getField=function(){return this.div},Zs.prototype.supportsTouch=function(){return!0},Zs.prototype.receivedFocus=function(){var e=this;function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}this.selectionInEditor()?this.pollSelection():Do(this.cm,(function(){return e.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,t)},Zs.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},Zs.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&u&&this.cm.display.gutterSpecs.length&&el(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=rl(t,e.anchorNode,e.anchorOffset),r=rl(t,e.focusNode,e.focusOffset);n&&r&&Do(t,(function(){Ua(t.doc,la(n,r),H),(n.bad||r.bad)&&(t.curOp.selectionChanged=!0)}))}}},Zs.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,n,r=this.cm,o=r.display,a=r.doc.sel.primary(),i=a.from(),s=a.to();if(0==i.ch&&i.line>r.firstLine()&&(i=at(i.line-1,Je(r.doc,i.line-1).length)),s.ch==Je(r.doc,s.line).text.length&&s.line<r.lastLine()&&(s=at(s.line+1,0)),i.line<o.viewFrom||s.line>o.viewTo-1)return!1;i.line==o.viewFrom||0==(e=jr(r,i.line))?(t=tt(o.view[0].line),n=o.view[0].node):(t=tt(o.view[e].line),n=o.view[e-1].node.nextSibling);var l,c,u=jr(r,s.line);if(u==o.view.length-1?(l=o.viewTo-1,c=o.lineDiv.lastChild):(l=tt(o.view[u+1].line)-1,c=o.view[u+1].node.previousSibling),!n)return!1;for(var p=r.doc.splitLines(nl(r,n,c,t,l)),d=Ze(r.doc,at(t,0),at(l,Je(r.doc,l).text.length));p.length>1&&d.length>1;)if(Y(p)==Y(d))p.pop(),d.pop(),l--;else{if(p[0]!=d[0])break;p.shift(),d.shift(),t++}for(var f=0,h=0,m=p[0],g=d[0],v=Math.min(m.length,g.length);f<v&&m.charCodeAt(f)==g.charCodeAt(f);)++f;for(var y=Y(p),k=Y(d),b=Math.min(y.length-(1==p.length?f:0),k.length-(1==d.length?f:0));h<b&&y.charCodeAt(y.length-h-1)==k.charCodeAt(k.length-h-1);)++h;if(1==p.length&&1==d.length&&t==i.line)for(;f&&f>i.ch&&y.charCodeAt(y.length-h-1)==k.charCodeAt(k.length-h-1);)f--,h++;p[p.length-1]=y.slice(0,y.length-h).replace(/^\u200b+/,""),p[0]=p[0].slice(f).replace(/\u200b+$/,"");var w=at(t,f),x=at(l,d.length?Y(d).length-h:0);return p.length>1||p[0]||it(w,x)?(oi(r.doc,p,w,x,"+input"),!0):void 0},Zs.prototype.ensurePolled=function(){this.forceCompositionEnd()},Zs.prototype.reset=function(){this.forceCompositionEnd()},Zs.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Zs.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},Zs.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Do(this.cm,(function(){return _r(e.cm)}))},Zs.prototype.setUneditable=function(e){e.contentEditable="false"},Zs.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Fo(this.cm,Hs)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},Zs.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},Zs.prototype.onContextMenu=function(){},Zs.prototype.resetPosition=function(){},Zs.prototype.needsContentAttribute=!0;var al=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new z,this.hasSelection=!1,this.composing=null};function il(e,t){if((t=t?_(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=D();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}function r(){e.value=s.getValue()}var o;if(e.form&&(he(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var a=e.form;o=a.submit;try{var i=a.submit=function(){r(),a.submit=o,a.submit(),a.submit=i}}catch(Fe){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(ge(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=o))}},e.style.display="none";var s=_s((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s}function sl(e){e.off=ge,e.on=he,e.wheelEventPixels=ra,e.Doc=Si,e.splitLines=Ne,e.countColumn=P,e.findColumn=q,e.isWordChar=te,e.Pass=U,e.signal=ve,e.Line=cn,e.changeEnd=ca,e.scrollbarModel=wo,e.Pos=at,e.cmpPos=it,e.modes=ze,e.mimeModes=Be,e.resolveMode=He,e.getMode=Ve,e.modeExtensions=$e,e.extendMode=qe,e.copyState=Ge,e.startState=Ye,e.innerMode=Ke,e.commands=Ji,e.keyMap=Pi,e.keyName=Vi,e.isModifierKey=Ui,e.lookupKey=Wi,e.normalizeKeyMap=Bi,e.StringStream=Xe,e.SharedTextMarker=vi,e.TextMarker=mi,e.LineWidget=pi,e.e_preventDefault=xe,e.e_stopPropagation=Se,e.e_stop=Me,e.addClass=F,e.contains=E,e.rmClass=T,e.keyNames=Ni}al.prototype.init=function(e){var t=this,n=this,r=this.cm;this.createField(e);var o=this.textarea;function a(e){if(!ye(r,e)){if(r.somethingSelected())Us({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var t=qs(r);Us({lineWise:!0,text:t.text}),"cut"==e.type?r.setSelections(t.ranges,null,H):(n.prevInput="",o.value=t.text.join("\n"),I(o))}"cut"==e.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),m&&(o.style.width="0px"),he(o,"input",(function(){i&&s>=9&&t.hasSelection&&(t.hasSelection=null),n.poll()})),he(o,"paste",(function(e){ye(r,e)||Vs(e,r)||(r.state.pasteIncoming=+new Date,n.fastPoll())})),he(o,"cut",a),he(o,"copy",a),he(e.scroller,"paste",(function(t){if(!Vn(e,t)&&!ye(r,t)){if(!o.dispatchEvent)return r.state.pasteIncoming=+new Date,void n.focus();var a=new Event("paste");a.clipboardData=t.clipboardData,o.dispatchEvent(a)}})),he(e.lineSpace,"selectstart",(function(t){Vn(e,t)||xe(t)})),he(o,"compositionstart",(function(){var e=r.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:r.markText(e,r.getCursor("to"),{className:"CodeMirror-composing"})}})),he(o,"compositionend",(function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)}))},al.prototype.createField=function(e){this.wrapper=Ks(),this.textarea=this.wrapper.firstChild},al.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},al.prototype.prepareSelection=function(){var e=this.cm,t=e.display,n=e.doc,r=Vr(e);if(e.options.moveInputWithCursor){var o=kr(e,n.sel.primary().head,"div"),a=t.wrapper.getBoundingClientRect(),i=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,o.top+i.top-a.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,o.left+i.left-a.left))}return r},al.prototype.showSelection=function(e){var t=this.cm.display;A(t.cursorDiv,e.cursors),A(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},al.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var n=t.getSelection();this.textarea.value=n,t.state.focused&&I(this.textarea),i&&s>=9&&(this.hasSelection=n)}else e||(this.prevInput=this.textarea.value="",i&&s>=9&&(this.hasSelection=null))}},al.prototype.getField=function(){return this.textarea},al.prototype.supportsTouch=function(){return!1},al.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||D()!=this.textarea))try{this.textarea.focus()}catch(Fe){}},al.prototype.blur=function(){this.textarea.blur()},al.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},al.prototype.receivedFocus=function(){this.slowPoll()},al.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},al.prototype.fastPoll=function(){var e=!1,t=this;function n(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,n))}t.pollingFast=!0,t.polling.set(20,n)},al.prototype.poll=function(){var e=this,t=this.cm,n=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Ie(n)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var o=n.value;if(o==r&&!t.somethingSelected())return!1;if(i&&s>=9&&this.hasSelection===o||y&&/[\uf700-\uf7ff]/.test(o))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var a=o.charCodeAt(0);if(8203!=a||r||(r="​"),8666==a)return this.reset(),this.cm.execCommand("undo")}for(var l=0,c=Math.min(r.length,o.length);l<c&&r.charCodeAt(l)==o.charCodeAt(l);)++l;return Do(t,(function(){Hs(t,o.slice(l),r.length-l,null,e.composing?"*compose":null),o.length>1e3||o.indexOf("\n")>-1?n.value=e.prevInput="":e.prevInput=o,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},al.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},al.prototype.onKeyPress=function(){i&&s>=9&&(this.hasSelection=null),this.fastPoll()},al.prototype.onContextMenu=function(e){var t=this,n=t.cm,r=n.display,o=t.textarea;t.contextMenuPending&&t.contextMenuPending();var a=Ir(n,e),c=r.scroller.scrollTop;if(a&&!p){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(a)&&Fo(n,Ua)(n.doc,la(a),H);var u,d=o.style.cssText,f=t.wrapper.style.cssText,h=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",o.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(i?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(u=window.scrollY),r.input.focus(),l&&window.scrollTo(null,u),r.input.reset(),n.somethingSelected()||(o.value=t.prevInput=" "),t.contextMenuPending=v,r.selForContextMenu=n.doc.sel,clearTimeout(r.detectingSelectAll),i&&s>=9&&g(),S){Me(e);var m=function(){ge(window,"mouseup",m),setTimeout(v,20)};he(window,"mouseup",m)}else setTimeout(v,50)}function g(){if(null!=o.selectionStart){var e=n.somethingSelected(),a="​"+(e?o.value:"");o.value="⇚",o.value=a,t.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=a.length,r.selForContextMenu=n.doc.sel}}function v(){if(t.contextMenuPending==v&&(t.contextMenuPending=!1,t.wrapper.style.cssText=f,o.style.cssText=d,i&&s<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=c),null!=o.selectionStart)){(!i||i&&s<9)&&g();var e=0,a=function(){r.selForContextMenu==n.doc.sel&&0==o.selectionStart&&o.selectionEnd>0&&"​"==t.prevInput?Fo(n,Xa)(n):e++<10?r.detectingSelectAll=setTimeout(a,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(a,200)}}},al.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},al.prototype.setUneditable=function(){},al.prototype.needsContentAttribute=!1,Ns(_s),Ys(_s);var ll="iter insert remove copy getEditor constructor".split(" ");for(var cl in Si.prototype)Si.prototype.hasOwnProperty(cl)&&B(ll,cl)<0&&(_s.prototype[cl]=function(e){return function(){return e.apply(this.doc,arguments)}}(Si.prototype[cl]));return we(Si),_s.inputStyles={textarea:al,contenteditable:Zs},_s.defineMode=function(e){_s.defaults.mode||"null"==e||(_s.defaults.mode=e),We.apply(this,arguments)},_s.defineMIME=Ue,_s.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),_s.defineMIME("text/plain","null"),_s.defineExtension=function(e,t){_s.prototype[e]=t},_s.defineDocExtension=function(e,t){Si.prototype[e]=t},_s.fromTextArea=il,sl(_s),_s.version="5.61.0",_s}();(Nl=jl.exports).defineMode("javascript",(function(e,t){var n,r,o=e.indentUnit,a=t.statementIndent,i=t.jsonld,s=t.json||i,l=!1!==t.trackScope,c=t.typescript,u=t.wordCharacters||/[\w$\xa1-\uffff]/,p=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),o=e("keyword d"),a=e("operator"),i={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:o,break:o,continue:o,new:e("new"),delete:r,void:r,throw:r,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:a,typeof:a,instanceof:a,true:i,false:i,null:i,undefined:i,NaN:i,Infinity:i,this:e("this"),class:e("class"),super:e("atom"),yield:r,export:e("export"),import:e("import"),extends:r,await:r}}(),d=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function h(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function m(e,t,o){return n=e,r=o,t}function g(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=v(n),t.tokenize(e,t);if("."==n&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return m("number","number");if("."==n&&e.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return m(n);if("="==n&&e.eat(">"))return m("=>","operator");if("0"==n&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return m("number","number");if(/\d/.test(n))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),m("number","number");if("/"==n)return e.eat("*")?(t.tokenize=y,y(e,t)):e.eat("/")?(e.skipToEnd(),m("comment","comment")):tt(e,t,1)?(h(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),m("regexp","string-2")):(e.eat("="),m("operator","operator",e.current()));if("`"==n)return t.tokenize=k,k(e,t);if("#"==n&&"!"==e.peek())return e.skipToEnd(),m("meta","meta");if("#"==n&&e.eatWhile(u))return m("variable","property");if("<"==n&&e.match("!--")||"-"==n&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),m("comment","comment");if(d.test(n))return">"==n&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=n&&"="!=n||e.eat("="):/[<>*+\-|&?]/.test(n)&&(e.eat(n),">"==n&&e.eat(n))),"?"==n&&e.eat(".")?m("."):m("operator","operator",e.current());if(u.test(n)){e.eatWhile(u);var r=e.current();if("."!=t.lastType){if(p.propertyIsEnumerable(r)){var o=p[r];return m(o.type,o.style,r)}if("async"==r&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return m("async","keyword",r)}return m("variable","variable",r)}}function v(e){return function(t,n){var r,o=!1;if(i&&"@"==t.peek()&&t.match(f))return n.tokenize=g,m("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||o);)o=!o&&"\\"==r;return o||(n.tokenize=g),m("string","string")}}function y(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=g;break}r="*"==n}return m("comment","comment")}function k(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=g;break}r=!r&&"\\"==n}return m("quasi","string-2",e.current())}var b="([{}])";function w(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){if(c){var r=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,n));r&&(n=r.index)}for(var o=0,a=!1,i=n-1;i>=0;--i){var s=e.string.charAt(i),l=b.indexOf(s);if(l>=0&&l<3){if(!o){++i;break}if(0==--o){"("==s&&(a=!0);break}}else if(l>=3&&l<6)++o;else if(u.test(s))a=!0;else if(/["'\/`]/.test(s))for(;;--i){if(0==i)return;if(e.string.charAt(i-1)==s&&"\\"!=e.string.charAt(i-2)){i--;break}}else if(a&&!o){++i;break}}a&&!o&&(t.fatArrowAt=i)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function S(e,t,n,r,o,a){this.indented=e,this.column=t,this.type=n,this.prev=o,this.info=a,null!=r&&(this.align=r)}function C(e,t){if(!l)return!1;for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(n=r.vars;n;n=n.next)if(n.name==t)return!0}function M(e,t,n,r,o){var a=e.cc;for(T.state=e,T.stream=o,T.marked=null,T.cc=a,T.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((a.length?a.pop():s?V:U)(n,r)){for(;a.length&&a[a.length-1].lex;)a.pop()();return T.marked?T.marked:"variable"==n&&C(e,r)?"variable-2":t}}var T={state:null,column:null,marked:null,cc:null};function L(){for(var e=arguments.length-1;e>=0;e--)T.cc.push(arguments[e])}function A(){return L.apply(null,arguments),!0}function O(e,t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}function R(e){var n=T.state;if(T.marked="def",l){if(n.context)if("var"==n.lexical.info&&n.context&&n.context.block){var r=E(e,n.context);if(null!=r)return void(n.context=r)}else if(!O(e,n.localVars))return void(n.localVars=new N(e,n.localVars));t.globalVars&&!O(e,n.globalVars)&&(n.globalVars=new N(e,n.globalVars))}}function E(e,t){if(t){if(t.block){var n=E(e,t.prev);return n?n==t.prev?t:new F(n,t.vars,!0):null}return O(e,t.vars)?t:new F(t.prev,new N(e,t.vars),!1)}return null}function D(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function F(e,t,n){this.prev=e,this.vars=t,this.block=n}function N(e,t){this.name=e,this.next=t}var I=new N("this",new N("arguments",null));function j(){T.state.context=new F(T.state.context,T.state.localVars,!1),T.state.localVars=I}function _(){T.state.context=new F(T.state.context,T.state.localVars,!0),T.state.localVars=null}function P(){T.state.localVars=T.state.context.vars,T.state.context=T.state.context.prev}function z(e,t){var n=function(){var n=T.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var o=n.lexical;o&&")"==o.type&&o.align;o=o.prev)r=o.indented;n.lexical=new S(r,T.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function B(){var e=T.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function W(e){function t(n){return n==e?A():";"==e||"}"==n||")"==n||"]"==n?L():A(t)}return t}function U(e,t){return"var"==e?A(z("vardef",t),Me,W(";"),B):"keyword a"==e?A(z("form"),q,U,B):"keyword b"==e?A(z("form"),U,B):"keyword d"==e?T.stream.match(/^\s*$/,!1)?A():A(z("stat"),K,W(";"),B):"debugger"==e?A(W(";")):"{"==e?A(z("}"),_,pe,B,P):";"==e?A():"if"==e?("else"==T.state.lexical.info&&T.state.cc[T.state.cc.length-1]==B&&T.state.cc.pop()(),A(z("form"),q,U,B,Ee)):"function"==e?A(Ie):"for"==e?A(z("form"),_,De,U,P,B):"class"==e||c&&"interface"==t?(T.marked="keyword",A(z("form","class"==e?e:t),Be,B)):"variable"==e?c&&"declare"==t?(T.marked="keyword",A(U)):c&&("module"==t||"enum"==t||"type"==t)&&T.stream.match(/^\s*\w/,!1)?(T.marked="keyword","enum"==t?A(Ze):"type"==t?A(_e,W("operator"),ge,W(";")):A(z("form"),Te,W("{"),z("}"),pe,B,B)):c&&"namespace"==t?(T.marked="keyword",A(z("form"),V,U,B)):c&&"abstract"==t?(T.marked="keyword",A(U)):A(z("stat"),oe):"switch"==e?A(z("form"),q,W("{"),z("}","switch"),_,pe,B,B,P):"case"==e?A(V,W(":")):"default"==e?A(W(":")):"catch"==e?A(z("form"),j,H,U,B,P):"export"==e?A(z("stat"),Ve,B):"import"==e?A(z("stat"),qe,B):"async"==e?A(U):"@"==t?A(V,U):L(z("stat"),V,W(";"),B)}function H(e){if("("==e)return A(Pe,W(")"))}function V(e,t){return G(e,t,!1)}function $(e,t){return G(e,t,!0)}function q(e){return"("!=e?L():A(z(")"),K,W(")"),B)}function G(e,t,n){if(T.state.fatArrowAt==T.stream.start){var r=n?ee:Q;if("("==e)return A(j,z(")"),ce(Pe,")"),B,W("=>"),r,P);if("variable"==e)return L(j,Te,W("=>"),r,P)}var o=n?X:Y;return x.hasOwnProperty(e)?A(o):"function"==e?A(Ie,o):"class"==e||c&&"interface"==t?(T.marked="keyword",A(z("form"),ze,B)):"keyword c"==e||"async"==e?A(n?$:V):"("==e?A(z(")"),K,W(")"),B,o):"operator"==e||"spread"==e?A(n?$:V):"["==e?A(z("]"),Je,B,o):"{"==e?ue(ie,"}",null,o):"quasi"==e?L(J,o):"new"==e?A(te(n)):A()}function K(e){return e.match(/[;\}\)\],]/)?L():L(V)}function Y(e,t){return","==e?A(K):X(e,t,!1)}function X(e,t,n){var r=0==n?Y:X,o=0==n?V:$;return"=>"==e?A(j,n?ee:Q,P):"operator"==e?/\+\+|--/.test(t)||c&&"!"==t?A(r):c&&"<"==t&&T.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?A(z(">"),ce(ge,">"),B,r):"?"==t?A(V,W(":"),o):A(o):"quasi"==e?L(J,r):";"!=e?"("==e?ue($,")","call",r):"."==e?A(ae,r):"["==e?A(z("]"),K,W("]"),B,r):c&&"as"==t?(T.marked="keyword",A(ge,r)):"regexp"==e?(T.state.lastType=T.marked="operator",T.stream.backUp(T.stream.pos-T.stream.start-1),A(o)):void 0:void 0}function J(e,t){return"quasi"!=e?L():"${"!=t.slice(t.length-2)?A(J):A(V,Z)}function Z(e){if("}"==e)return T.marked="string-2",T.state.tokenize=k,A(J)}function Q(e){return w(T.stream,T.state),L("{"==e?U:V)}function ee(e){return w(T.stream,T.state),L("{"==e?U:$)}function te(e){return function(t){return"."==t?A(e?re:ne):"variable"==t&&c?A(xe,e?X:Y):L(e?$:V)}}function ne(e,t){if("target"==t)return T.marked="keyword",A(Y)}function re(e,t){if("target"==t)return T.marked="keyword",A(X)}function oe(e){return":"==e?A(B,U):L(Y,W(";"),B)}function ae(e){if("variable"==e)return T.marked="property",A()}function ie(e,t){return"async"==e?(T.marked="property",A(ie)):"variable"==e||"keyword"==T.style?(T.marked="property","get"==t||"set"==t?A(se):(c&&T.state.fatArrowAt==T.stream.start&&(n=T.stream.match(/^\s*:\s*/,!1))&&(T.state.fatArrowAt=T.stream.pos+n[0].length),A(le))):"number"==e||"string"==e?(T.marked=i?"property":T.style+" property",A(le)):"jsonld-keyword"==e?A(le):c&&D(t)?(T.marked="keyword",A(ie)):"["==e?A(V,de,W("]"),le):"spread"==e?A($,le):"*"==t?(T.marked="keyword",A(ie)):":"==e?L(le):void 0;var n}function se(e){return"variable"!=e?L(le):(T.marked="property",A(Ie))}function le(e){return":"==e?A($):"("==e?L(Ie):void 0}function ce(e,t,n){function r(o,a){if(n?n.indexOf(o)>-1:","==o){var i=T.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),A((function(n,r){return n==t||r==t?L():L(e)}),r)}return o==t||a==t?A():n&&n.indexOf(";")>-1?L(e):A(W(t))}return function(n,o){return n==t||o==t?A():L(e,r)}}function ue(e,t,n){for(var r=3;r<arguments.length;r++)T.cc.push(arguments[r]);return A(z(t,n),ce(e,t),B)}function pe(e){return"}"==e?A():L(U,pe)}function de(e,t){if(c){if(":"==e)return A(ge);if("?"==t)return A(de)}}function fe(e,t){if(c&&(":"==e||"in"==t))return A(ge)}function he(e){if(c&&":"==e)return T.stream.match(/^\s*\w+\s+is\b/,!1)?A(V,me,ge):A(ge)}function me(e,t){if("is"==t)return T.marked="keyword",A()}function ge(e,t){return"keyof"==t||"typeof"==t||"infer"==t||"readonly"==t?(T.marked="keyword",A("typeof"==t?$:ge)):"variable"==e||"void"==t?(T.marked="type",A(we)):"|"==t||"&"==t?A(ge):"string"==e||"number"==e||"atom"==e?A(we):"["==e?A(z("]"),ce(ge,"]",","),B,we):"{"==e?A(z("}"),ye,B,we):"("==e?A(ce(be,")"),ve,we):"<"==e?A(ce(ge,">"),ge):void 0}function ve(e){if("=>"==e)return A(ge)}function ye(e){return e.match(/[\}\)\]]/)?A():","==e||";"==e?A(ye):L(ke,ye)}function ke(e,t){return"variable"==e||"keyword"==T.style?(T.marked="property",A(ke)):"?"==t||"number"==e||"string"==e?A(ke):":"==e?A(ge):"["==e?A(W("variable"),fe,W("]"),ke):"("==e?L(je,ke):e.match(/[;\}\)\],]/)?void 0:A()}function be(e,t){return"variable"==e&&T.stream.match(/^\s*[?:]/,!1)||"?"==t?A(be):":"==e?A(ge):"spread"==e?A(be):L(ge)}function we(e,t){return"<"==t?A(z(">"),ce(ge,">"),B,we):"|"==t||"."==e||"&"==t?A(ge):"["==e?A(ge,W("]"),we):"extends"==t||"implements"==t?(T.marked="keyword",A(ge)):"?"==t?A(ge,W(":"),ge):void 0}function xe(e,t){if("<"==t)return A(z(">"),ce(ge,">"),B,we)}function Se(){return L(ge,Ce)}function Ce(e,t){if("="==t)return A(ge)}function Me(e,t){return"enum"==t?(T.marked="keyword",A(Ze)):L(Te,de,Oe,Re)}function Te(e,t){return c&&D(t)?(T.marked="keyword",A(Te)):"variable"==e?(R(t),A()):"spread"==e?A(Te):"["==e?ue(Ae,"]"):"{"==e?ue(Le,"}"):void 0}function Le(e,t){return"variable"!=e||T.stream.match(/^\s*:/,!1)?("variable"==e&&(T.marked="property"),"spread"==e?A(Te):"}"==e?L():"["==e?A(V,W("]"),W(":"),Le):A(W(":"),Te,Oe)):(R(t),A(Oe))}function Ae(){return L(Te,Oe)}function Oe(e,t){if("="==t)return A($)}function Re(e){if(","==e)return A(Me)}function Ee(e,t){if("keyword b"==e&&"else"==t)return A(z("form","else"),U,B)}function De(e,t){return"await"==t?A(De):"("==e?A(z(")"),Fe,B):void 0}function Fe(e){return"var"==e?A(Me,Ne):"variable"==e?A(Ne):L(Ne)}function Ne(e,t){return")"==e?A():";"==e?A(Ne):"in"==t||"of"==t?(T.marked="keyword",A(V,Ne)):L(V,Ne)}function Ie(e,t){return"*"==t?(T.marked="keyword",A(Ie)):"variable"==e?(R(t),A(Ie)):"("==e?A(j,z(")"),ce(Pe,")"),B,he,U,P):c&&"<"==t?A(z(">"),ce(Se,">"),B,Ie):void 0}function je(e,t){return"*"==t?(T.marked="keyword",A(je)):"variable"==e?(R(t),A(je)):"("==e?A(j,z(")"),ce(Pe,")"),B,he,P):c&&"<"==t?A(z(">"),ce(Se,">"),B,je):void 0}function _e(e,t){return"keyword"==e||"variable"==e?(T.marked="type",A(_e)):"<"==t?A(z(">"),ce(Se,">"),B):void 0}function Pe(e,t){return"@"==t&&A(V,Pe),"spread"==e?A(Pe):c&&D(t)?(T.marked="keyword",A(Pe)):c&&"this"==e?A(de,Oe):L(Te,de,Oe)}function ze(e,t){return"variable"==e?Be(e,t):We(e,t)}function Be(e,t){if("variable"==e)return R(t),A(We)}function We(e,t){return"<"==t?A(z(">"),ce(Se,">"),B,We):"extends"==t||"implements"==t||c&&","==e?("implements"==t&&(T.marked="keyword"),A(c?ge:V,We)):"{"==e?A(z("}"),Ue,B):void 0}function Ue(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||c&&D(t))&&T.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(T.marked="keyword",A(Ue)):"variable"==e||"keyword"==T.style?(T.marked="property",A(He,Ue)):"number"==e||"string"==e?A(He,Ue):"["==e?A(V,de,W("]"),He,Ue):"*"==t?(T.marked="keyword",A(Ue)):c&&"("==e?L(je,Ue):";"==e||","==e?A(Ue):"}"==e?A():"@"==t?A(V,Ue):void 0}function He(e,t){if("?"==t)return A(He);if(":"==e)return A(ge,Oe);if("="==t)return A($);var n=T.state.lexical.prev;return L(n&&"interface"==n.info?je:Ie)}function Ve(e,t){return"*"==t?(T.marked="keyword",A(Xe,W(";"))):"default"==t?(T.marked="keyword",A(V,W(";"))):"{"==e?A(ce($e,"}"),Xe,W(";")):L(U)}function $e(e,t){return"as"==t?(T.marked="keyword",A(W("variable"))):"variable"==e?L($,$e):void 0}function qe(e){return"string"==e?A():"("==e?L(V):"."==e?L(Y):L(Ge,Ke,Xe)}function Ge(e,t){return"{"==e?ue(Ge,"}"):("variable"==e&&R(t),"*"==t&&(T.marked="keyword"),A(Ye))}function Ke(e){if(","==e)return A(Ge,Ke)}function Ye(e,t){if("as"==t)return T.marked="keyword",A(Ge)}function Xe(e,t){if("from"==t)return T.marked="keyword",A(V)}function Je(e){return"]"==e?A():L(ce($,"]"))}function Ze(){return L(z("form"),Te,W("{"),z("}"),ce(Qe,"}"),B,B)}function Qe(){return L(Te,Oe)}function et(e,t){return"operator"==e.lastType||","==e.lastType||d.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function tt(e,t,n){return t.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}return P.lex=!0,B.lex=!0,{startState:function(e){var n={tokenize:g,lastType:"sof",cc:[],lexical:new S((e||0)-o,0,"block",!1),localVars:t.localVars,context:t.localVars&&new F(null,null,!1),indented:e||0};return t.globalVars&&"object"==typeof t.globalVars&&(n.globalVars=t.globalVars),n},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),w(e,t)),t.tokenize!=y&&e.eatSpace())return null;var o=t.tokenize(e,t);return"comment"==n?o:(t.lastType="operator"!=n||"++"!=r&&"--"!=r?n:"incdec",M(t,o,n,r,e))},indent:function(e,n){if(e.tokenize==y||e.tokenize==k)return Nl.Pass;if(e.tokenize!=g)return 0;var r,i=n&&n.charAt(0),s=e.lexical;if(!/^\s*else\b/.test(n))for(var l=e.cc.length-1;l>=0;--l){var c=e.cc[l];if(c==B)s=s.prev;else if(c!=Ee&&c!=P)break}for(;("stat"==s.type||"form"==s.type)&&("}"==i||(r=e.cc[e.cc.length-1])&&(r==Y||r==X)&&!/^[,\.=+\-*:?[\(]/.test(n));)s=s.prev;a&&")"==s.type&&"stat"==s.prev.type&&(s=s.prev);var u=s.type,p=i==u;return"vardef"==u?s.indented+("operator"==e.lastType||","==e.lastType?s.info.length+1:0):"form"==u&&"{"==i?s.indented:"form"==u?s.indented+o:"stat"==u?s.indented+(et(e,n)?a||o:0):"switch"!=s.info||p||0==t.doubleIndentSwitch?s.align?s.column+(p?0:1):s.indented+(p?0:o):s.indented+(/^(?:case|default)\b/.test(n)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:s?null:"/*",blockCommentEnd:s?null:"*/",blockCommentContinue:s?null:" * ",lineComment:s?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:s?"json":"javascript",jsonldMode:i,jsonMode:s,expressionAllowed:tt,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=V&&t!=$||e.cc.pop()}}})),Nl.registerHelper("wordChars","javascript",/[\w$]/),Nl.defineMIME("text/javascript","javascript"),Nl.defineMIME("text/ecmascript","javascript"),Nl.defineMIME("application/javascript","javascript"),Nl.defineMIME("application/x-javascript","javascript"),Nl.defineMIME("application/ecmascript","javascript"),Nl.defineMIME("application/json",{name:"javascript",json:!0}),Nl.defineMIME("application/x-json",{name:"javascript",json:!0}),Nl.defineMIME("application/manifest+json",{name:"javascript",json:!0}),Nl.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),Nl.defineMIME("text/typescript",{name:"javascript",typescript:!0}),Nl.defineMIME("application/typescript",{name:"javascript",typescript:!0});!function(e){function t(e){for(var t={},n=0;n<e.length;++n)t[e[n].toLowerCase()]=!0;return t}e.defineMode("css",(function(t,n){var r=n.inline;n.propertyKeywords||(n=e.resolveMode("text/css"));var o,a,i=t.indentUnit,s=n.tokenHooks,l=n.documentTypes||{},c=n.mediaTypes||{},u=n.mediaFeatures||{},p=n.mediaValueKeywords||{},d=n.propertyKeywords||{},f=n.nonStandardPropertyKeywords||{},h=n.fontProperties||{},m=n.counterDescriptors||{},g=n.colorKeywords||{},v=n.valueKeywords||{},y=n.allowNested,k=n.lineComment,b=!0===n.supportsAtComponent,w=!1!==t.highlightNonStandardPropertyKeywords;function x(e,t){return o=t,e}function S(e,t){var n=e.next();if(s[n]){var r=s[n](e,t);if(!1!==r)return r}return"@"==n?(e.eatWhile(/[\w\\\-]/),x("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?x(null,"compare"):'"'==n||"'"==n?(t.tokenize=C(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),x("atom","hash")):"!"==n?(e.match(/^\s*\w*/),x("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),x("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?x(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?x("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?x(null,n):e.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(e.current())&&(t.tokenize=M),x("variable callee","variable")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),x("property","word")):x(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),x("number","unit")):e.match(/^-[\w\\\-]*/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?x("variable-2","variable-definition"):x("variable-2","variable")):e.match(/^\w+-/)?x("meta","meta"):void 0}function C(e){return function(t,n){for(var r,o=!1;null!=(r=t.next());){if(r==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==r}return(r==e||!o&&")"!=e)&&(n.tokenize=null),x("string","string")}}function M(e,t){return e.next(),e.match(/^\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=C(")"),x(null,"(")}function T(e,t,n){this.type=e,this.indent=t,this.prev=n}function L(e,t,n,r){return e.context=new T(n,t.indentation()+(!1===r?0:i),e.context),n}function A(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function O(e,t,n){return D[n.context.type](e,t,n)}function R(e,t,n,r){for(var o=r||1;o>0;o--)n.context=n.context.prev;return O(e,t,n)}function E(e){var t=e.current().toLowerCase();a=v.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable"}var D={top:function(e,t,n){if("{"==e)return L(n,t,"block");if("}"==e&&n.context.prev)return A(n);if(b&&/@component/i.test(e))return L(n,t,"atComponentBlock");if(/^@(-moz-)?document$/i.test(e))return L(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(e))return L(n,t,"atBlock");if(/^@(font-face|counter-style)/i.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return L(n,t,"at");if("hash"==e)a="builtin";else if("word"==e)a="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return L(n,t,"interpolation");if(":"==e)return"pseudo";if(y&&"("==e)return L(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return d.hasOwnProperty(r)?(a="property","maybeprop"):f.hasOwnProperty(r)?(a=w?"string-2":"property","maybeprop"):y?(a=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(a+=" error","maybeprop")}return"meta"==e?"block":y||"hash"!=e&&"qualifier"!=e?D.top(e,t,n):(a="error","block")},maybeprop:function(e,t,n){return":"==e?L(n,t,"prop"):O(e,t,n)},prop:function(e,t,n){if(";"==e)return A(n);if("{"==e&&y)return L(n,t,"propBlock");if("}"==e||"{"==e)return R(e,t,n);if("("==e)return L(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)E(t);else if("interpolation"==e)return L(n,t,"interpolation")}else a+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?A(n):"word"==e?(a="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?R(e,t,n):")"==e?A(n):"("==e?L(n,t,"parens"):"interpolation"==e?L(n,t,"interpolation"):("word"==e&&E(t),"parens")},pseudo:function(e,t,n){return"meta"==e?"pseudo":"word"==e?(a="variable-3",n.context.type):O(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&l.hasOwnProperty(t.current())?(a="tag",n.context.type):D.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return L(n,t,"atBlock_parens");if("}"==e||";"==e)return R(e,t,n);if("{"==e)return A(n)&&L(n,t,y?"block":"top");if("interpolation"==e)return L(n,t,"interpolation");if("word"==e){var r=t.current().toLowerCase();a="only"==r||"not"==r||"and"==r||"or"==r?"keyword":c.hasOwnProperty(r)?"attribute":u.hasOwnProperty(r)?"property":p.hasOwnProperty(r)?"keyword":d.hasOwnProperty(r)?"property":f.hasOwnProperty(r)?w?"string-2":"property":v.hasOwnProperty(r)?"atom":g.hasOwnProperty(r)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?R(e,t,n):"{"==e?A(n)&&L(n,t,y?"block":"top",!1):("word"==e&&(a="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?A(n):"{"==e||"}"==e?R(e,t,n,2):D.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?L(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(a="variable","restricted_atBlock_before"):O(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,A(n)):"word"==e?(a="@font-face"==n.stateArg&&!h.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!m.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(a="variable","keyframes"):"{"==e?L(n,t,"top"):O(e,t,n)},at:function(e,t,n){return";"==e?A(n):"{"==e||"}"==e?R(e,t,n):("word"==e?a="tag":"hash"==e&&(a="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?A(n):"{"==e||";"==e?R(e,t,n):("word"==e?a="variable":"variable"!=e&&"("!=e&&")"!=e&&(a="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:r?"block":"top",stateArg:null,context:new T(r?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||S)(e,t);return n&&"object"==typeof n&&(o=n[1],n=n[0]),a=n,"comment"!=o&&(t.state=D[t.state](o,e,t)),a},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),o=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),n.prev&&("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=r||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"atBlock"!=n.type)||(o=Math.max(0,n.indent-i)):o=(n=n.prev).indent),o},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:k,fold:"brace"}}));var n=["domain","regexp","url","url-prefix"],r=t(n),o=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],a=t(o),i=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],s=t(i),l=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],c=t(l),u=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],p=t(u),d=["border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],f=t(d),h=t(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),m=t(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],v=t(g),y=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],k=t(y),b=n.concat(o).concat(i).concat(l).concat(u).concat(d).concat(g).concat(y);function w(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}e.registerHelper("hintWords","css",b),e.defineMIME("text/css",{documentTypes:r,mediaTypes:a,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:p,nonStandardPropertyKeywords:f,fontProperties:h,counterDescriptors:m,colorKeywords:v,valueKeywords:k,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=w,w(e,t))}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:a,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:p,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:k,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=w,w(e,t)):["operator","operator"]},":":function(e){return!!e.match(/^\s*\{/,!1)&&[null,null]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:a,mediaFeatures:s,mediaValueKeywords:c,propertyKeywords:p,nonStandardPropertyKeywords:f,colorKeywords:v,valueKeywords:k,fontProperties:h,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=w,w(e,t)):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:r,mediaTypes:a,mediaFeatures:s,propertyKeywords:p,nonStandardPropertyKeywords:f,fontProperties:h,counterDescriptors:m,colorKeywords:v,valueKeywords:k,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=w,w(e,t))}},name:"css",helperType:"gss"})}(jl.exports);!function(e){var t={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",(function(r,o){var a,i,s=r.indentUnit,l={},c=o.htmlMode?t:n;for(var u in c)l[u]=c[u];for(var u in o)l[u]=o[u];function p(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();return"<"==r?e.eat("!")?e.eat("[")?e.match("CDATA[")?n(h("atom","]]>")):null:e.match("--")?n(h("comment","--\x3e")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(m(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=h("meta","?>"),"meta"):(a=e.eat("/")?"closeTag":"openTag",t.tokenize=d,"tag bracket"):"&"==r?(e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"))?"atom":"error":(e.eatWhile(/[^&<]/),null)}function d(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=p,a=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return a="equals",null;if("<"==n){t.tokenize=p,t.state=k,t.tagName=t.tagStart=null;var r=t.tokenize(e,t);return r?r+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=f(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function f(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=d;break}return"string"};return t.isInAttribute=!0,t}function h(e,t){return function(n,r){for(;!n.eol();){if(n.match(t)){r.tokenize=p;break}n.next()}return e}}function m(e){return function(t,n){for(var r;null!=(r=t.next());){if("<"==r)return n.tokenize=m(e+1),n.tokenize(t,n);if(">"==r){if(1==e){n.tokenize=p;break}return n.tokenize=m(e-1),n.tokenize(t,n)}}return"meta"}}function g(e,t,n){this.prev=e.context,this.tagName=t||"",this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function v(e){e.context&&(e.context=e.context.prev)}function y(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(t))return;v(e)}}function k(e,t,n){return"openTag"==e?(n.tagStart=t.column(),b):"closeTag"==e?w:k}function b(e,t,n){return"word"==e?(n.tagName=t.current(),i="tag",C):l.allowMissingTagName&&"endTag"==e?(i="tag bracket",C(e,t,n)):(i="error",b)}function w(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&v(n),n.context&&n.context.tagName==r||!1===l.matchClosing?(i="tag",x):(i="tag error",S)}return l.allowMissingTagName&&"endTag"==e?(i="tag bracket",x(e,t,n)):(i="error",S)}function x(e,t,n){return"endTag"!=e?(i="error",x):(v(n),k)}function S(e,t,n){return i="error",x(e,t,n)}function C(e,t,n){if("word"==e)return i="attribute",M;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,o=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(r)?y(n,r):(y(n,r),n.context=new g(n,r,o==n.indented)),k}return i="error",C}function M(e,t,n){return"equals"==e?T:(l.allowMissing||(i="error"),C(e,t,n))}function T(e,t,n){return"string"==e?L:"word"==e&&l.allowUnquoted?(i="string",C):(i="error",C(e,t,n))}function L(e,t,n){return"string"==e?L:C(e,t,n)}return p.isInText=!0,{startState:function(e){var t={tokenize:p,state:k,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;a=null;var n=t.tokenize(e,t);return(n||a)&&"comment"!=n&&(i=null,t.state=t.state(a||n,e,t),i&&(n="error"==i?n+" error":i)),n},indent:function(t,n,r){var o=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+s;if(o&&o.noIndent)return e.Pass;if(t.tokenize!=d&&t.tokenize!=p)return r?r.match(/^(\s*)/)[0].length:0;if(t.tagName)return!1!==l.multilineTagIndentPastTag?t.tagStart+t.tagName.length+2:t.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(n))return 0;var a=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(a&&a[1])for(;o;){if(o.tagName==a[2]){o=o.prev;break}if(!l.implicitlyClosed.hasOwnProperty(o.tagName))break;o=o.prev}else if(a)for(;o;){var i=l.contextGrabbers[o.tagName];if(!i||!i.hasOwnProperty(a[2]))break;o=o.prev}for(;o&&o.prev&&!o.startOfLine;)o=o.prev;return o?o.indent+s:t.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==T&&(e.state=C)},xmlCurrentTag:function(e){return e.tagName?{name:e.tagName,close:"closeTag"==e.type}:null},xmlCurrentContext:function(e){for(var t=[],n=e.context;n;n=n.prev)t.push(n.tagName);return t.reverse()}}})),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}(jl.exports);!function(e){e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var t=0;t<e.modeInfo.length;t++){var n=e.modeInfo[t];n.mimes&&(n.mime=n.mimes[0])}e.findModeByMIME=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.mime==t)return r;if(r.mimes)for(var o=0;o<r.mimes.length;o++)if(r.mimes[o]==t)return r}return/\+xml$/.test(t)?e.findModeByMIME("application/xml"):/\+json$/.test(t)?e.findModeByMIME("application/json"):void 0},e.findModeByExtension=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.ext)for(var o=0;o<r.ext.length;o++)if(r.ext[o]==t)return r}},e.findModeByFileName=function(t){for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.file&&r.file.test(t))return r}var o=t.lastIndexOf("."),a=o>-1&&t.substring(o+1,t.length);if(a)return e.findModeByExtension(a)},e.findModeByName=function(t){t=t.toLowerCase();for(var n=0;n<e.modeInfo.length;n++){var r=e.modeInfo[n];if(r.name.toLowerCase()==t)return r;if(r.alias)for(var o=0;o<r.alias.length;o++)if(r.alias[o].toLowerCase()==t)return r}}}(jl.exports),function(e){e.defineMode("markdown",(function(t,n){var r=e.getMode(t,"text/html"),o="null"==r.name;function a(n){if(e.findModeByName){var r=e.findModeByName(n);r&&(n=r.mime||r.mimes[0])}var o=e.getMode(t,n);return"null"==o.name?null:o}void 0===n.highlightFormatting&&(n.highlightFormatting=!1),void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0),void 0===n.taskLists&&(n.taskLists=!1),void 0===n.strikethrough&&(n.strikethrough=!1),void 0===n.emoji&&(n.emoji=!1),void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=!0),void 0===n.fencedCodeBlockDefaultMode&&(n.fencedCodeBlockDefaultMode="text/plain"),void 0===n.xml&&(n.xml=!0),void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var i={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var s in i)i.hasOwnProperty(s)&&n.tokenTypeOverrides[s]&&(i[s]=n.tokenTypeOverrides[s]);var l=/^([*\-_])(?:\s*\1){2,}\s*$/,c=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,u=/^\[(x| )\](?=\s)/i,p=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,d=/^ {0,3}(?:\={1,}|-{2,})\s*$/,f=/^[^#!\[\]*_\\<>` "'(~:]+/,h=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,m=/^\s*\[[^\]]+?\]:.*$/,g=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,v="    ";function y(e,t,n){return t.f=t.inline=n,n(e,t)}function k(e,t,n){return t.f=t.block=n,n(e,t)}function b(e){return!e||!/\S/.test(e.string)}function w(t){if(t.linkTitle=!1,t.linkHref=!1,t.linkText=!1,t.em=!1,t.strong=!1,t.strikethrough=!1,t.quote=0,t.indentedCode=!1,t.f==S){var n=o;if(!n){var a=e.innerMode(r,t.htmlState);n="xml"==a.mode.name&&null===a.state.tagStart&&!a.state.context&&a.state.tokenize.isInText}n&&(t.f=L,t.block=x,t.htmlState=null)}return t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.prevLine=t.thisLine,t.thisLine={stream:null},null}function x(t,r){var o=t.column()===r.indentation,s=b(r.prevLine.stream),f=r.indentedCode,g=r.prevLine.hr,v=!1!==r.list,k=(r.listStack[r.listStack.length-1]||0)+3;r.indentedCode=!1;var w=r.indentation;if(null===r.indentationDiff&&(r.indentationDiff=r.indentation,v)){for(r.list=null;w<r.listStack[r.listStack.length-1];)r.listStack.pop(),r.listStack.length?r.indentation=r.listStack[r.listStack.length-1]:r.list=!1;!1!==r.list&&(r.indentationDiff=w-r.listStack[r.listStack.length-1])}var x=!(s||g||r.prevLine.header||v&&f||r.prevLine.fencedCodeEnd),S=(!1===r.list||g||s)&&r.indentation<=k&&t.match(l),T=null;if(r.indentationDiff>=4&&(f||r.prevLine.fencedCodeEnd||r.prevLine.header||s))return t.skipToEnd(),r.indentedCode=!0,i.code;if(t.eatSpace())return null;if(o&&r.indentation<=k&&(T=t.match(p))&&T[1].length<=6)return r.quote=0,r.header=T[1].length,r.thisLine.header=!0,n.highlightFormatting&&(r.formatting="header"),r.f=r.inline,M(r);if(r.indentation<=k&&t.eat(">"))return r.quote=o?1:r.quote+1,n.highlightFormatting&&(r.formatting="quote"),t.eatSpace(),M(r);if(!S&&!r.setext&&o&&r.indentation<=k&&(T=t.match(c))){var L=T[1]?"ol":"ul";return r.indentation=w+t.current().length,r.list=!0,r.quote=0,r.listStack.push(r.indentation),r.em=!1,r.strong=!1,r.code=!1,r.strikethrough=!1,n.taskLists&&t.match(u,!1)&&(r.taskList=!0),r.f=r.inline,n.highlightFormatting&&(r.formatting=["list","list-"+L]),M(r)}return o&&r.indentation<=k&&(T=t.match(h,!0))?(r.quote=0,r.fencedEndRE=new RegExp(T[1]+"+ *$"),r.localMode=n.fencedCodeBlockHighlighting&&a(T[2]||n.fencedCodeBlockDefaultMode),r.localMode&&(r.localState=e.startState(r.localMode)),r.f=r.block=C,n.highlightFormatting&&(r.formatting="code-block"),r.code=-1,M(r)):r.setext||!(x&&v||r.quote||!1!==r.list||r.code||S||m.test(t.string))&&(T=t.lookAhead(1))&&(T=T.match(d))?(r.setext?(r.header=r.setext,r.setext=0,t.skipToEnd(),n.highlightFormatting&&(r.formatting="header")):(r.header="="==T[0].charAt(0)?1:2,r.setext=r.header),r.thisLine.header=!0,r.f=r.inline,M(r)):S?(t.skipToEnd(),r.hr=!0,r.thisLine.hr=!0,i.hr):"["===t.peek()?y(t,r,D):y(t,r,r.inline)}function S(t,n){var a=r.token(t,n.htmlState);if(!o){var i=e.innerMode(r,n.htmlState);("xml"==i.mode.name&&null===i.state.tagStart&&!i.state.context&&i.state.tokenize.isInText||n.md_inside&&t.current().indexOf(">")>-1)&&(n.f=L,n.block=x,n.htmlState=null)}return a}function C(e,t){var r,o=t.listStack[t.listStack.length-1]||0,a=t.indentation<o,s=o+3;return t.fencedEndRE&&t.indentation<=s&&(a||e.match(t.fencedEndRE))?(n.highlightFormatting&&(t.formatting="code-block"),a||(r=M(t)),t.localMode=t.localState=null,t.block=x,t.f=L,t.fencedEndRE=null,t.code=0,t.thisLine.fencedCodeEnd=!0,a?k(e,t,t.block):r):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),i.code)}function M(e){var t=[];if(e.formatting){t.push(i.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var r=0;r<e.formatting.length;r++)t.push(i.formatting+"-"+e.formatting[r]),"header"===e.formatting[r]&&t.push(i.formatting+"-"+e.formatting[r]+"-"+e.header),"quote"===e.formatting[r]&&(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(i.formatting+"-"+e.formatting[r]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(i.linkHref,"url"):(e.strong&&t.push(i.strong),e.em&&t.push(i.em),e.strikethrough&&t.push(i.strikethrough),e.emoji&&t.push(i.emoji),e.linkText&&t.push(i.linkText),e.code&&t.push(i.code),e.image&&t.push(i.image),e.imageAltText&&t.push(i.imageAltText,"link"),e.imageMarker&&t.push(i.imageMarker)),e.header&&t.push(i.header,i.header+"-"+e.header),e.quote&&(t.push(i.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=e.quote?t.push(i.quote+"-"+e.quote):t.push(i.quote+"-"+n.maxBlockquoteDepth)),!1!==e.list){var o=(e.listStack.length-1)%3;o?1===o?t.push(i.list2):t.push(i.list3):t.push(i.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function T(e,t){if(e.match(f,!0))return M(t)}function L(t,o){var a=o.text(t,o);if(void 0!==a)return a;if(o.list)return o.list=null,M(o);if(o.taskList)return" "===t.match(u,!0)[1]?o.taskOpen=!0:o.taskClosed=!0,n.highlightFormatting&&(o.formatting="task"),o.taskList=!1,M(o);if(o.taskOpen=!1,o.taskClosed=!1,o.header&&t.match(/^#+$/,!0))return n.highlightFormatting&&(o.formatting="header"),M(o);var s=t.next();if(o.linkTitle){o.linkTitle=!1;var l=s;"("===s&&(l=")");var c="^\\s*(?:[^"+(l=(l+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(t.match(new RegExp(c),!0))return i.linkHref}if("`"===s){var p=o.formatting;n.highlightFormatting&&(o.formatting="code"),t.eatWhile("`");var d=t.current().length;if(0!=o.code||o.quote&&1!=d){if(d==o.code){var f=M(o);return o.code=0,f}return o.formatting=p,M(o)}return o.code=d,M(o)}if(o.code)return M(o);if("\\"===s&&(t.next(),n.highlightFormatting)){var h=M(o),m=i.formatting+"-escape";return h?h+" "+m:m}if("!"===s&&t.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return o.imageMarker=!0,o.image=!0,n.highlightFormatting&&(o.formatting="image"),M(o);if("["===s&&o.imageMarker&&t.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return o.imageMarker=!1,o.imageAltText=!0,n.highlightFormatting&&(o.formatting="image"),M(o);if("]"===s&&o.imageAltText){n.highlightFormatting&&(o.formatting="image");var h=M(o);return o.imageAltText=!1,o.image=!1,o.inline=o.f=O,h}if("["===s&&!o.image)return o.linkText&&t.match(/^.*?\]/)||(o.linkText=!0,n.highlightFormatting&&(o.formatting="link")),M(o);if("]"===s&&o.linkText){n.highlightFormatting&&(o.formatting="link");var h=M(o);return o.linkText=!1,o.inline=o.f=t.match(/\(.*?\)| ?\[.*?\]/,!1)?O:L,h}if("<"===s&&t.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return o.f=o.inline=A,n.highlightFormatting&&(o.formatting="link"),(h=M(o))?h+=" ":h="",h+i.linkInline;if("<"===s&&t.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return o.f=o.inline=A,n.highlightFormatting&&(o.formatting="link"),(h=M(o))?h+=" ":h="",h+i.linkEmail;if(n.xml&&"<"===s&&t.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var v=t.string.indexOf(">",t.pos);if(-1!=v){var y=t.string.substring(t.start,v);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(y)&&(o.md_inside=!0)}return t.backUp(1),o.htmlState=e.startState(r),k(t,o,S)}if(n.xml&&"<"===s&&t.match(/^\/\w*?>/))return o.md_inside=!1,"tag";if("*"===s||"_"===s){for(var b=1,w=1==t.pos?" ":t.string.charAt(t.pos-2);b<3&&t.eat(s);)b++;var x=t.peek()||" ",C=!/\s/.test(x)&&(!g.test(x)||/\s/.test(w)||g.test(w)),T=!/\s/.test(w)&&(!g.test(w)||/\s/.test(x)||g.test(x)),R=null,E=null;if(b%2&&(o.em||!C||"*"!==s&&T&&!g.test(w)?o.em!=s||!T||"*"!==s&&C&&!g.test(x)||(R=!1):R=!0),b>1&&(o.strong||!C||"*"!==s&&T&&!g.test(w)?o.strong!=s||!T||"*"!==s&&C&&!g.test(x)||(E=!1):E=!0),null!=E||null!=R)return n.highlightFormatting&&(o.formatting=null==R?"strong":null==E?"em":"strong em"),!0===R&&(o.em=s),!0===E&&(o.strong=s),f=M(o),!1===R&&(o.em=!1),!1===E&&(o.strong=!1),f}else if(" "===s&&(t.eat("*")||t.eat("_"))){if(" "===t.peek())return M(o);t.backUp(1)}if(n.strikethrough)if("~"===s&&t.eatWhile(s)){if(o.strikethrough)return n.highlightFormatting&&(o.formatting="strikethrough"),f=M(o),o.strikethrough=!1,f;if(t.match(/^[^\s]/,!1))return o.strikethrough=!0,n.highlightFormatting&&(o.formatting="strikethrough"),M(o)}else if(" "===s&&t.match("~~",!0)){if(" "===t.peek())return M(o);t.backUp(2)}if(n.emoji&&":"===s&&t.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){o.emoji=!0,n.highlightFormatting&&(o.formatting="emoji");var D=M(o);return o.emoji=!1,D}return" "===s&&(t.match(/^ +$/,!1)?o.trailingSpace++:o.trailingSpace&&(o.trailingSpaceNewLine=!0)),M(o)}function A(e,t){if(">"===e.next()){t.f=t.inline=L,n.highlightFormatting&&(t.formatting="link");var r=M(t);return r?r+=" ":r="",r+i.linkInline}return e.match(/^[^>]+/,!0),i.linkInline}function O(e,t){if(e.eatSpace())return null;var r=e.next();return"("===r||"["===r?(t.f=t.inline=E("("===r?")":"]"),n.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,M(t)):"error"}var R={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function E(e){return function(t,r){if(t.next()===e){r.f=r.inline=L,n.highlightFormatting&&(r.formatting="link-string");var o=M(r);return r.linkHref=!1,o}return t.match(R[e]),r.linkHref=!0,M(r)}}function D(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=F,e.next(),n.highlightFormatting&&(t.formatting="link"),t.linkText=!0,M(t)):y(e,t,L)}function F(e,t){if(e.match("]:",!0)){t.f=t.inline=N,n.highlightFormatting&&(t.formatting="link");var r=M(t);return t.linkText=!1,r}return e.match(/^([^\]\\]|\\.)+/,!0),i.linkText}function N(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),t.f=t.inline=L,i.linkHref+" url")}var I={startState:function(){return{f:x,prevLine:{stream:null},thisLine:{stream:null},block:x,htmlState:null,indentation:0,inline:L,text:T,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(t){return{f:t.f,prevLine:t.prevLine,thisLine:t.thisLine,block:t.block,htmlState:t.htmlState&&e.copyState(r,t.htmlState),indentation:t.indentation,localMode:t.localMode,localState:t.localMode?e.copyState(t.localMode,t.localState):null,inline:t.inline,text:t.text,formatting:!1,linkText:t.linkText,linkTitle:t.linkTitle,linkHref:t.linkHref,code:t.code,em:t.em,strong:t.strong,strikethrough:t.strikethrough,emoji:t.emoji,header:t.header,setext:t.setext,hr:t.hr,taskList:t.taskList,list:t.list,listStack:t.listStack.slice(0),quote:t.quote,indentedCode:t.indentedCode,trailingSpace:t.trailingSpace,trailingSpaceNewLine:t.trailingSpaceNewLine,md_inside:t.md_inside,fencedEndRE:t.fencedEndRE}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine.stream){if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0))return w(t),null;if(t.prevLine=t.thisLine,t.thisLine={stream:e},t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,!t.localState&&(t.f=t.block,t.f!=S)){var n=e.match(/^\s*/,!0)[0].replace(/\t/g,v).length;if(t.indentation=n,t.indentationDiff=null,n>0)return null}}return t.f(e,t)},innerMode:function(e){return e.block==S?{state:e.htmlState,mode:r}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:I}},indent:function(t,n,o){return t.block==S&&r.indent?r.indent(t.htmlState,n,o):t.localState&&t.localMode.indent?t.localMode.indent(t.localState,n,o):e.Pass},blankLine:w,getType:M,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return I}),"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")}(jl.exports),function(e){var t={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function n(e,t,n){var r=e.current(),o=r.search(t);return o>-1?e.backUp(r.length-o):r.match(/<\/?$/)&&(e.backUp(r.length),e.match(t,!1)||e.match(r)),n}var r={};function o(e){var t=r[e];return t||(r[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}function a(e,t){var n=e.match(o(t));return n?/^\s*(.*?)\s*$/.exec(n[2])[1]:""}function i(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function s(e,t){for(var n in e)for(var r=t[n]||(t[n]=[]),o=e[n],a=o.length-1;a>=0;a--)r.unshift(o[a])}function l(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(!r[0]||r[1].test(a(t,r[0])))return r[2]}}e.defineMode("htmlmixed",(function(r,o){var a=e.getMode(r,{name:"xml",htmlMode:!0,multilineTagIndentFactor:o.multilineTagIndentFactor,multilineTagIndentPastTag:o.multilineTagIndentPastTag,allowMissingTagName:o.allowMissingTagName}),c={},u=o&&o.tags,p=o&&o.scriptTypes;if(s(t,c),u&&s(u,c),p)for(var d=p.length-1;d>=0;d--)c.script.unshift(["type",p[d].matches,p[d].mode]);function f(t,o){var s,u=a.token(t,o.htmlState),p=/\btag\b/.test(u);if(p&&!/[<>\s\/]/.test(t.current())&&(s=o.htmlState.tagName&&o.htmlState.tagName.toLowerCase())&&c.hasOwnProperty(s))o.inTag=s+" ";else if(o.inTag&&p&&/>$/.test(t.current())){var d=/^([\S]+) (.*)/.exec(o.inTag);o.inTag=null;var h=">"==t.current()&&l(c[d[1]],d[2]),m=e.getMode(r,h),g=i(d[1],!0),v=i(d[1],!1);o.token=function(e,t){return e.match(g,!1)?(t.token=f,t.localState=t.localMode=null,null):n(e,v,t.localMode.token(e,t.localState))},o.localMode=m,o.localState=e.startState(m,a.indent(o.htmlState,"",""))}else o.inTag&&(o.inTag+=t.current(),t.eol()&&(o.inTag+=" "));return u}return{startState:function(){return{token:f,inTag:null,localMode:null,localState:null,htmlState:e.startState(a)}},copyState:function(t){var n;return t.localState&&(n=e.copyState(t.localMode,t.localState)),{token:t.token,inTag:t.inTag,localMode:t.localMode,localState:n,htmlState:e.copyState(a,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n,r){return!t.localMode||/^\s*<\//.test(n)?a.indent(t.htmlState,n,r):t.localMode.indent?t.localMode.indent(t.localState,n,r):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||a}}}}),"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}(jl.exports);async function Pl(e,t,n={}){const r=_l.fromTextArea(e.value,s({theme:"vars"},n));let o=!1;return r.on("change",(()=>{o?o=!1:t.value=r.getValue()})),Fn(t,(e=>{if(e!==r.getValue()){o=!0;const t=r.listSelections();r.replaceRange(e,r.posFromIndex(0),r.posFromIndex(1/0)),r.setSelections(t)}}),{immediate:!0}),r}function zl(e){if(null==e)return{info:ft(),update:async()=>{}};const t=`/@slidev/slide/${e}.json`,{data:n,execute:r}=function(e,...t){const n="function"==typeof AbortController;let r={},o={immediate:!0,refetch:!1};const a={method:"get",type:"text",payload:void 0,payloadType:"json"};let i=!1;t.length>0&&(pa(t[0])?o=Object.assign(Object.assign({},o),t[0]):r=t[0]),t.length>1&&pa(t[1])&&(o=Object.assign(Object.assign({},o),t[1]));const{fetch:s=(null==ta?void 0:ta.fetch)}=o,l=ft(!1),c=ft(!1),u=ft(!1),p=ft(null),d=ht(null),f=ft(null),h=ht(null),m=Zr((()=>n&&c.value));let g;const v=async()=>{i=!0,c.value=!0,l.value=!1,f.value=null,p.value=null,u.value=!1,g=void 0,n&&(g=new AbortController,g.signal.onabort=()=>u.value=!0,r=Object.assign(Object.assign({},r),{signal:g.signal}));const t={method:a.method,headers:{}};if(a.payload){const e=t.headers;"json"===a.payloadType?(t.body=JSON.stringify(a.payload),e["Content-Type"]="application/json"):(t.body=a.payload,e["Content-Type"]="formData"===a.payloadType?"multipart/form-data":"text/plain")}let m=!1;const v={url:vt(e),options:r,cancel:()=>{m=!0}};return o.beforeFetch&&Object.assign(v,await o.beforeFetch(v)),m||!s?Promise.resolve():new Promise((e=>{var n;s(v.url,Object.assign(Object.assign(Object.assign({},t),v.options),{headers:Object.assign(Object.assign({},t.headers),null===(n=v.options)||void 0===n?void 0:n.headers)})).then((async t=>{if(d.value=t,p.value=t.status,await t[a.type]().then((e=>h.value=e)),!t.ok)throw new Error(t.statusText);e(t)})).catch((e=>{f.value=e.message||e.name})).finally((()=>{l.value=!0,c.value=!1}))}))};Fn((()=>[vt(e),vt(o.refetch)]),(()=>vt(o.refetch)&&v()),{deep:!0});const y={isFinished:l,statusCode:p,response:d,error:f,data:h,isFetching:c,canAbort:m,aborted:u,abort:()=>{n&&g&&g.abort()},execute:v},k=Object.assign(Object.assign({},y),{get:b("get"),put:b("put"),post:b("post"),delete:b("delete"),json:w("json"),text:w("text"),blob:w("blob"),arrayBuffer:w("arrayBuffer"),formData:w("formData")});function b(e){return(t,n)=>{if(!i)return a.method=e,a.payload=t,a.payloadType=n||"string"==typeof t?"text":"json",k}}function w(e){return()=>{if(!i)return a.type=e,y}}return o.immediate&&setTimeout(v,0),k}(t).get().json();r();return(!1).on("slidev-update",(t=>{t.id===e&&(n.value=t.data)})),{info:n,update:async e=>{await fetch(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)})}}}const Bl={};const Wl={class:"flex pb-2 text-xl -mt-1"},Ul={class:"mr-4 rounded flex"},Hl={class:"text-2xl pt-1"},Vl=br("div",{class:"flex-auto"},null,-1),$l={class:"icon-btn"},ql={class:"h-full overflow-auto"},Gl={class:"h-full overflow-auto"},Kl={class:"h-full overflow-auto"};Xn({expose:[],setup(e){const t=ft("content"),n=ft(""),r=ft(""),o=ft(!1),a=ft({}),i=ft(),s=ft(),{info:l,update:c}=function(e){function t(e){const t=`${e}`;return Bl[t]||(Bl[t]=zl(e)),Bl[t]}return{info:Zr((()=>t(vt(e)).info.value)),update:(n,r)=>t(null!=r?r:vt(e)).update(n)}}(hd);async function u(){o.value=!1,await c({raw:null,note:r.value||void 0,content:n.value,frontmatter:a.value})}function p(){Ia.value=!1}Fn(l,(e=>{a.value=(null==e?void 0:e.frontmatter)||{},Ra.value||(r.value=((null==e?void 0:e.note)||"").trim(),n.value=((null==e?void 0:e.content)||"").trim(),o.value=!1)}),{immediate:!0}),aa("keydown",(e=>{var t;"TEXTAREA"===(null==(t=Oa.value)?void 0:t.tagName)&&"KeyS"===e.code&&(e.ctrlKey||e.metaKey)&&(u(),e.preventDefault())})),Cn((()=>{Pl(i,Zr({get:()=>n.value,set(e){n.value.trim()!==e.trim()&&(n.value=e,o.value=!0)}}),{mode:"markdown",lineWrapping:!0,highlightFormatting:!0,fencedCodeBlockDefaultMode:"javascript"}),Pl(s,Zr({get:()=>r.value,set(e){r.value=e,o.value=!0}}),{mode:"markdown",lineWrapping:!0,highlightFormatting:!0,fencedCodeBlockDefaultMode:"javascript"})}));const d=ft(!1);function f(){d.value=!0}function h(e){ja.value=Math.min(Math.max(200,e),window.innerWidth-200)}aa("pointermove",(e=>{d.value&&h(window.innerWidth-e.pageX)}),{passive:!0}),aa("pointerup",(()=>{d.value=!1})),aa("resize",(()=>{h(ja.value)}));const m=Zr((()=>{var e,t;const n=null==(t=null==(e=fd.value)?void 0:e.meta)?void 0:t.slide;return(null==n?void 0:n.file)?`vscode://file/${n.file}:${n.start}`:void 0}));return function(e,t,n={}){const{throttle:r=0}=n,o=Wo(n,["throttle"]);Yo(e,t,Object.assign(Object.assign({},o),{eventFilter:Ko(r)}))}([n,r],(()=>{o.value&&u()}),{throttle:500}),(e,n)=>{const r=Ml,o=Rl,a=Il,l=Ss;return dr(),hr(ir,null,[br("div",{class:["fixed h-full top-0 bottom-0 w-10px bg-gray-400 select-none opacity-0 hover:opacity-10 z-100",{"!opacity-30":d.value}],style:{right:vt(ja)-5+"px",cursor:"col-resize"},onPointerdown:f},null,38),br("div",{class:"shadow bg-main p-4 grid grid-rows-[max-content,1fr] h-full overflow-hidden border-l border-gray-400 border-opacity-20",style:{width:`${vt(ja)}px`}},[br("div",Wl,[br("div",Ul,[br("button",{class:["icon-btn","content"===t.value?"text-primary":""],onClick:n[1]||(n[1]=e=>t.value="content")},[br(r)],2),br("button",{class:["icon-btn","note"===t.value?"text-primary":""],onClick:n[2]||(n[2]=e=>t.value="note")},[br(o)],2)]),br("span",Hl,b("content"===t.value?"Slide":"Note"),1),Vl,Sr(' <button class="icon-btn" :class="{ disabled: !dirty }" @click="save">\n        <carbon:save />\n      </button> '),br("button",$l,[br("a",{href:vt(m),target:"_blank"},[br(a)],8,["href"])]),br("button",{class:"icon-btn",onClick:p},[br(l)])]),br("div",ql,[$n(br("div",Gl,[br("textarea",{ref:i},null,512)],512),[[Eo,"content"===t.value]]),$n(br("div",Kl,[br("textarea",{ref:s},null,512)],512),[[Eo,"note"===t.value]])])],4)],64)}}});const Yl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Xl=br("path",{d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4z",fill:"currentColor"},null,-1),Jl=br("path",{d:"M30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z",fill:"currentColor"},null,-1);var Zl={render:function(e,t){return dr(),hr("svg",Yl,[Xl,Jl])}};const Ql={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},ec=br("path",{d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20z",fill:"currentColor"},null,-1),tc=br("path",{d:"M14 19.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z",fill:"currentColor"},null,-1);var nc={render:function(e,t){return dr(),hr("svg",Ql,[ec,tc])}};const rc={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},oc=br("path",{d:"M14 26l1.41-1.41L7.83 17H28v-2H7.83l7.58-7.59L14 6L4 16l10 10z",fill:"currentColor"},null,-1);var ac={render:function(e,t){return dr(),hr("svg",rc,[oc])}};const ic={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},sc=br("path",{d:"M18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z",fill:"currentColor"},null,-1);var lc={render:function(e,t){return dr(),hr("svg",ic,[sc])}};const cc={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},uc=br("path",{d:"M8 4v4H4V4zm2-2H2v8h8zm8 2v4h-4V4zm2-2h-8v8h8zm8 2v4h-4V4zm2-2h-8v8h8zM8 14v4H4v-4zm2-2H2v8h8zm8 2v4h-4v-4zm2-2h-8v8h8zm8 2v4h-4v-4zm2-2h-8v8h8zM8 24v4H4v-4zm2-2H2v8h8zm8 2v4h-4v-4zm2-2h-8v8h8zm8 2v4h-4v-4zm2-2h-8v8h8z",fill:"currentColor"},null,-1);var pc={render:function(e,t){return dr(),hr("svg",cc,[uc])}};const dc={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},fc=br("path",{d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z",fill:"currentColor"},null,-1);var hc={render:function(e,t){return dr(),hr("svg",dc,[fc])}};const mc={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},gc=br("path",{d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z",fill:"currentColor"},null,-1),vc=br("path",{d:"M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z",fill:"currentColor"},null,-1),yc=br("path",{d:"M2 15.005h5v2H2z",fill:"currentColor"},null,-1),kc=br("path",{d:"M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z",fill:"currentColor"},null,-1),bc=br("path",{d:"M15 25.005h2v5h-2z",fill:"currentColor"},null,-1),wc=br("path",{d:"M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z",fill:"currentColor"},null,-1),xc=br("path",{d:"M25 15.005h5v2h-5z",fill:"currentColor"},null,-1),Sc=br("path",{d:"M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z",fill:"currentColor"},null,-1),Cc=br("path",{d:"M15 2.005h2v5h-2z",fill:"currentColor"},null,-1);var Mc={render:function(e,t){return dr(),hr("svg",mc,[gc,vc,yc,kc,bc,wc,xc,Sc,Cc])}};const Tc={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Lc=br("path",{d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4z",fill:"currentColor"},null,-1),Ac=br("path",{d:"M26 14l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z",fill:"currentColor"},null,-1);var Oc={render:function(e,t){return dr(),hr("svg",Tc,[Lc,Ac])}};const Rc={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Ec=br("path",{d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3z",fill:"currentColor"},null,-1),Dc=br("path",{d:"M16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z",fill:"currentColor"},null,-1),Fc=br("path",{d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4z",fill:"currentColor"},null,-1);var Nc={render:function(e,t){return dr(),hr("svg",Rc,[Ec,Dc,Fc])}};const Ic={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},jc=br("path",{d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3s3 1.3 3 3s-1.3 3-3 3z",fill:"currentColor"},null,-1),_c=br("path",{d:"M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3s-3-1.3-3-3s1.3-3 3-3z",fill:"currentColor"},null,-1);var Pc={render:function(e,t){return dr(),hr("svg",Ic,[jc,_c])}};const zc={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Bc=br("path",{d:"M16 8a5 5 0 1 0 5 5a5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3a3.003 3.003 0 0 1-3 3z",fill:"currentColor"},null,-1),Wc=br("path",{d:"M16 2a14 14 0 1 0 14 14A14.016 14.016 0 0 0 16 2zm-6 24.377V25a3.003 3.003 0 0 1 3-3h6a3.003 3.003 0 0 1 3 3v1.377a11.899 11.899 0 0 1-12 0zm13.992-1.451A5.002 5.002 0 0 0 19 20h-6a5.002 5.002 0 0 0-4.992 4.926a12 12 0 1 1 15.985 0z",fill:"currentColor"},null,-1);var Uc={render:function(e,t){return dr(),hr("svg",zc,[Bc,Wc])}};const Hc={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Vc=br("path",{d:"M16 4A12 12 0 1 1 4 16A12 12 0 0 1 16 4m0-2a14 14 0 1 0 14 14A14 14 0 0 0 16 2z",fill:"currentColor"},null,-1),$c=br("path",{d:"M20 12v8h-8v-8h8m0-2h-8a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1);var qc={render:function(e,t){return dr(),hr("svg",Hc,[Vc,$c])}};const Gc={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 32 32"},Kc=br("path",{d:"M16 10l10 10l-1.4 1.4l-8.6-8.6l-8.6 8.6L6 20z",fill:"currentColor"},null,-1);var Yc={render:function(e,t){return dr(),hr("svg",Gc,[Kc])}};const Xc={class:"rounded-md bg-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ gray-400 opacity-10"};var Jc=Xn({expose:[],props:{modelValue:{default:!1},disabled:{default:!1}},setup(e,{emit:t}){const n=va(e,"modelValue",t,{passive:!0}),r=ft();return function(e,t,n={}){const{window:r=ta}=n;if(!r)return;const o=n=>{const r=oa(e);r&&(r===n.target||n.composedPath().includes(r)||t(n))};let a=ia.map((e=>aa(r,e,o,{passive:!0})));const i=()=>{a.forEach((e=>e())),a=[]};Zo(i)}(r,(()=>{n.value=!1})),(t,o)=>(dr(),hr("div",{ref:r,class:"flex relative"},[br("button",{class:{disabled:e.disabled},onClick:o[1]||(o[1]=e=>n.value=!vt(n))},[Jt(t.$slots,"button",{class:{disabled:e.disabled}})],2),$n(br("div",Xc,[Jt(t.$slots,"menu")],512),[[Eo,vt(n)]])],512))}});const Zc={class:"icon-btn h-full !text-sm !px-0"};Xn({expose:[],setup(e){const{recording:t,showAvatar:n,streamCamera:r,stopRecording:o,toggleAvatar:a}=Vs;function i(){t.value?o():ka.value=!0}return(e,o)=>{const s=Uc,l=qc,c=Gs,u=Yc;return dr(),hr(ir,null,["none"!==vt(Da)?(dr(),hr("button",{key:0,class:["icon-btn <md:hidden",{"text-green-500":Boolean(vt(n)&&vt(r))}],title:"Show camera view",onClick:o[1]||(o[1]=(...e)=>vt(a)&&vt(a)(...e))},[br(s)],2)):Sr("v-if",!0),br("button",{class:["icon-btn",{"text-red-500":vt(t)}],title:"Recording",onClick:i},[vt(t)?(dr(),hr(l,{key:0})):(dr(),hr(c,{key:1}))],2),br(Jc,{disabled:vt(t)},{button:an((()=>[br("button",Zc,[br(u,{class:"opacity-50"})])])),menu:an((()=>[br(rl)])),_:1},8,["disabled"])],64)}}});const Qc={class:"text-sm"};var eu=Xn({expose:[],setup(e){const t=[{display:"Fit",value:null},{display:"1:1",value:1}];return(e,n)=>(dr(),hr("div",Qc,[br(tl,{modelValue:vt(Na),"onUpdate:modelValue":n[1]||(n[1]=e=>dt(Na)?Na.value=e:null),title:"Scale",items:t},null,8,["modelValue"])]))}});const tu=br("div",{class:"w-1px m-2 opacity-10 bg-current"},null,-1),nu={class:"icon-btn"},ru=br("div",{class:"w-1px m-2 opacity-10 bg-current"},null,-1),ou={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},au={class:"my-auto"},iu={class:"opacity-50"};var su=Xn({expose:[],props:{mode:{default:"fixed"}},setup(e){Ca.smaller("md");const{isFullscreen:t,toggle:n}=Aa;Zr((()=>`${location.origin}/presenter/${pd.value}`)),Zr((()=>`${location.origin}/${pd.value}`));const r=ft(),o=()=>{r.value&&Oa.value&&r.value.contains(Oa.value)&&Oa.value.blur()};return(e,a)=>{const i=Zl,s=nc,l=ac,c=lc,u=pc,p=hc,d=Mc,f=Oc,h=Nc,m=Pc;return dr(),hr("nav",{ref:r,class:"flex flex-wrap-reverse text-xl p-2 gap-1",onMouseleave:o},[br("button",{class:"icon-btn",onClick:a[1]||(a[1]=(...e)=>vt(n)&&vt(n)(...e))},[vt(t)?(dr(),hr(i,{key:0})):(dr(),hr(s,{key:1}))]),br("button",{class:["icon-btn",{disabled:!vt(gd)}],onClick:a[2]||(a[2]=(...e)=>vt(xd)&&vt(xd)(...e))},[br(l)],2),br("button",{class:["icon-btn",{disabled:!vt(md)}],title:"Next",onClick:a[3]||(a[3]=(...e)=>vt(wd)&&vt(wd)(...e))},[br(c)],2),br("button",{class:"icon-btn",title:"Slides overview",onClick:a[4]||(a[4]=(...e)=>vt(Pa)&&vt(Pa)(...e))},[br(u)]),vt(gs)?(dr(),hr("button",{key:0,class:"icon-btn",title:"Toggle dark mode",onClick:a[5]||(a[5]=(...e)=>vt(ys)&&vt(ys)(...e))},[vt(vs)?(dr(),hr(p,{key:0})):(dr(),hr(d,{key:1}))])):Sr("v-if",!0),tu,(dr(),hr(ir,{key:2},[vt(hs).download?(dr(),hr("button",{key:0,class:"icon-btn",onClick:a[7]||(a[7]=(...e)=>vt(Ad)&&vt(Ad)(...e))},[br(f)])):Sr("v-if",!0)],2112)),vt(hs).info?(dr(),hr("button",{key:3,class:"icon-btn",onClick:a[8]||(a[8]=e=>ba.value=!vt(ba))},[br(h)])):Sr("v-if",!0),vt(ld)?Sr("v-if",!0):(dr(),hr(Jc,{key:4},{button:an((()=>[br("button",nu,[br(m)])])),menu:an((()=>[br(eu)])),_:1})),ru,br("div",ou,[br("div",au,[xr(b(vt(pd))+" ",1),br("span",iu,"/ "+b(vt(cd)),1)])])],544)}}}),lu=Xn({expose:[],setup(e){bs("space",wd),bs("right",wd),bs("left",xd),bs("up",(()=>Md(!1))),bs("down",Cd),bs("shift_left",(()=>Md(!1))),bs("shift_right",Cd),bs("d",ys),bs("f",(()=>Aa.toggle())),bs("o",Pa),bs("escape",(()=>ya.value=!1)),bs("g",(()=>wa.value=!wa.value));const t=ft();function n(e){var t;Ia.value||"slide-container"===(null==(t=e.target)?void 0:t.id)&&(e.screenX/window.innerWidth>.6?wd():xd())}Ld(t);const r=Zr((()=>La.value||Ia.value));return(e,o)=>(dr(),hr(ir,null,[br("div",{id:"page-root",ref:t,class:"grid grid-cols-[1fr,max-content]"},[br(Rs,{clicks:vt(kd),"onUpdate:clicks":o[1]||(o[1]=e=>dt(kd)?kd.value=e:null),"clicks-elements":vt(yd),"onUpdate:clicks-elements":o[2]||(o[2]=e=>dt(yd)?yd.value=e:null),class:"w-full h-full bg-black",width:vt(_a)?vt(Ma).width.value:void 0,route:vt(fd),"clicks-disabled":!1,scale:vt(Na),onClick:n},{controls:an((()=>[br("div",{class:["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",vt(r)?"opacity-100 right-0":"oapcity-0 p-2"]},[br(su,{class:["m-auto",vt(r)?"text-white bg-transparent":"rounded-md bg-main shadow dark:border dark:border-gray-400 dark:border-opacity-10"]},null,8,["class"])],2)])),_:1},8,["clicks","clicks-elements","width","route","scale"]),Sr("v-if",!0)],512),br(wl)],64))}});const cu={},uu={class:"slidev-layout end"};cu.render=function(e,t){return dr(),hr("div",uu," END ")};const pu={class:"my-auto w-full"};var du=Xn({expose:[],props:{background:{default:"https://source.unsplash.com/collection/94734566/1920x1080"}},setup(e){const t=e,n=Zr((()=>function(e,t=!1){const n=e&&"#"===e[0]&&e.startsWith("rgb"),r={background:n?e:void 0,color:e&&!n?"white":void 0,backgroundImage:n?void 0:e?t?`linear-gradient(#0005, #0008), url(${e})`:`url("${e}")`:void 0,backgroundRepeat:"no-repeat",backgroundPosition:"center",backgroundSize:"cover"};return r.background||delete r.background,r}(t.background,!0)));return(e,t)=>(dr(),hr("div",{class:"slidev-layout cover text-center",style:vt(n)},[br("div",pu,[Jt(e.$slots,"default")])],4))}});const fu=br("div",null,[br("h1",null,"WebView - IPC 构建 APP")],-1),hu={expose:[],setup(e){const t={theme:"seriph",class:"text-center",highlighter:"prism"};return(e,n)=>(dr(),hr(du,t,{default:an((()=>[fu])),_:1},16))}},mu={},gu={class:"slidev-layout default"};mu.render=function(e,t){return dr(),hr("div",gu,[Jt(e.$slots,"default")])};const vu=br("div",null,[br("h1",null,"技术栈"),br("ul",null,[br("li",null,"Kotlin"),br("li",null,"Vue 3"),br("li",null,"Gin"),br("li",null,"Room"),br("li",null,"Retrofit"),br("li",null,"FastJSON"),br("li",null,"Docker")])],-1),yu={expose:[],setup(e){const t={};return(e,n)=>(dr(),hr(mu,t,{default:an((()=>[vu])),_:1},16))}},ku=br("div",null,[br("h1",null,"Introduce"),br("p",{class:"text-black"}," 本软件是基于 Webview 桥接 JS 技术实现的 Android 平台的短链接生成软件。客户端平台为 Android，使用 Kotlin 开发,后端使用 Golang 开发，利用 Docker 实现便捷快速的部署服务器。数据库采用关系型数据库 MySQL。利用后端提供的接口服务，用户可以使用本软件将一个较长的网址转换为一个很短的网址。"),br("h2",null,"WebView"),br("p",null,"利用 Webview 桥接技术，我们快速开发出了本软件，短链接生成 APP 应当具备以下功能："),br("ol",null,[br("li",null,"利用服务端提供的接口服务，完成长链接到短链接的生成。"),br("li",null,"利用桥接技术，将 JS 与 Kotlin 联系起来，使得 Web 界面中生成的数据可以缓存在本地中。")])],-1),bu={expose:[],setup(e){const t={};return(e,n)=>(dr(),hr(mu,t,{default:an((()=>[ku])),_:1},16))}};const wu=on();nn("data-v-38b0446c");const xu=br("div",null,[br("h1",null,"Model"),br("p",null,"持久层使用 Room + SQLite 3"),Sr(" SQLite 的抽象 "),br("pre",{class:"slidev-code language-kt"},[br("code",null,[br("span",{class:"line"},[br("span",{class:"token annotation builtin"},"@Entity"),br("span",{class:"token punctuation"},"("),xr("tableName "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token string"},'"urls"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token keyword"},"data"),xr(),br("span",{class:"token keyword"},"class"),xr(),br("span",{class:"token function"},"URLModel"),br("span",{class:"token punctuation"},"(")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token annotation builtin"},"@PrimaryKey"),br("span",{class:"token punctuation"},"("),xr("autoGenerate "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token boolean"},"true"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token annotation builtin"},"@SerializedName"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"uid"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"var"),xr(" uid"),br("span",{class:"token operator"},":"),xr(" Int"),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token annotation builtin"},"@SerializedName"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"fullUrl"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token annotation builtin"},"@ColumnInfo"),br("span",{class:"token punctuation"},"("),xr("name "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token string"},'"full_url"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"val"),xr(" fullUrl"),br("span",{class:"token operator"},":"),xr(" String"),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token annotation builtin"},"@ColumnInfo"),br("span",{class:"token punctuation"},"("),xr("name "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token string"},'"code"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token annotation builtin"},"@SerializedName"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"code"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"val"),xr(" code"),br("span",{class:"token operator"},":"),xr(" String"),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token annotation builtin"},"@ColumnInfo"),br("span",{class:"token punctuation"},"("),xr("name "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token string"},'"created_at"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token annotation builtin"},"@SerializedName"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"created_at"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"val"),xr(" createdAt"),br("span",{class:"token operator"},":"),xr(" Date")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"constructor"),br("span",{class:"token punctuation"},"("),xr("fullUrl"),br("span",{class:"token operator"},":"),xr(" String"),br("span",{class:"token punctuation"},","),xr(" code"),br("span",{class:"token operator"},":"),xr(" String"),br("span",{class:"token punctuation"},","),xr(" createdAt"),br("span",{class:"token operator"},":"),xr(" Date"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token operator"},":"),xr(),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"("),br("span",{class:"token number"},"0"),br("span",{class:"token punctuation"},","),xr(" fullUrl"),br("span",{class:"token punctuation"},","),xr(" code"),br("span",{class:"token punctuation"},","),xr(" createdAt"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token punctuation"},"}")])])])],-1);rn();const Su={expose:[],setup(e){const t={};return(e,n)=>(dr(),hr(mu,t,{default:wu((()=>[xu])),_:1},16))},__scopeId:"data-v-38b0446c"},Cu=br("div",null,[br("h1",null,"Model"),br("pre",{class:"slidev-code language-go"},[br("code",null,[br("span",{class:"line"},[br("span",{class:"token keyword"},"type"),xr(" URLInfo "),br("span",{class:"token keyword"},"struct"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("\tgorm"),br("span",{class:"token punctuation"},"."),xr("Model")]),xr("\n"),br("span",{class:"line"},[xr("\tURL     "),br("span",{class:"token builtin"},"string"),xr(),br("span",{class:"token string"},'`json:"url" binding:"url"`')]),xr("\n"),br("span",{class:"line"},[xr("\tURLCode "),br("span",{class:"token builtin"},"string")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token punctuation"},"}")])])])],-1),Mu={expose:[],setup(e){const t={};return(e,n)=>(dr(),hr(mu,t,{default:an((()=>[Cu])),_:1},16))}};const Tu=on();nn("data-v-1d3f2a7c");const Lu=br("div",null,[br("h1",null,"Client"),br("h2",null,"App"),br("p",null,"应用本体，使用 Kotlin 编写。"),br("pre",{class:"slidev-code language-sh"},[br("code",null,[br("span",{class:"line"},"."),xr("\n"),br("span",{class:"line"},"├── bridge       # 桥接层"),xr("\n"),br("span",{class:"line"},"├── constants    # 常量"),xr("\n"),br("span",{class:"line"},"├── model        # 数据相关"),xr("\n"),br("span",{class:"line"},"├── utils        # 工具类"),xr("\n"),br("span",{class:"line"},"└── view         # 视图"),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},"."),xr("\n"),br("span",{class:"line"},"└── repository"),xr("\n"),br("span",{class:"line"},"    └── url"),xr("\n"),br("span",{class:"line"},"        ├── URLDatabase.kt"),xr("\n"),br("span",{class:"line"},"        ├── URLModel.kt"),xr("\n"),br("span",{class:"line"},"        ├── api"),xr("\n"),br("span",{class:"line"},"        │   └── URLApi.kt"),xr("\n"),br("span",{class:"line"},"        ├── dao"),xr("\n"),br("span",{class:"line"},"        │   └── URLDao.kt"),xr("\n"),br("span",{class:"line"},"        ├── service"),xr("\n"),br("span",{class:"line"},"        │   └── URLService.kt"),xr("\n"),br("span",{class:"line"},"        └── viewmodel"),xr("\n"),br("span",{class:"line"},"            └── URLViewModel.kt")])])],-1);rn();const Au={expose:[],setup(e){const t={};return(e,n)=>(dr(),hr(mu,t,{default:Tu((()=>[Lu])),_:1},16))}};
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */
function Ou(e){return null==e}Au.__scopeId="data-v-1d3f2a7c";var Ru={isNothing:Ou,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:Ou(e)?[]:[e]},repeat:function(e,t){var n,r="";for(n=0;n<t;n+=1)r+=e;return r},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var n,r,o,a;if(t)for(n=0,r=(a=Object.keys(t)).length;n<r;n+=1)e[o=a[n]]=t[o];return e}};function Eu(e,t){var n="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),r+" "+n):r}function Du(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Eu(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}Du.prototype=Object.create(Error.prototype),Du.prototype.constructor=Du,Du.prototype.toString=function(e){return this.name+": "+Eu(this,e)};var Fu=Du,Nu=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Iu=["scalar","sequence","mapping"];var ju=function(e,t){var n,r;if(t=t||{},Object.keys(t).forEach((function(t){if(-1===Nu.indexOf(t))throw new Fu('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=(n=t.styleAliases||null,r={},null!==n&&Object.keys(n).forEach((function(e){n[e].forEach((function(t){r[String(t)]=e}))})),r),-1===Iu.indexOf(this.kind))throw new Fu('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function _u(e,t){var n=[];return e[t].forEach((function(e){var t=n.length;n.forEach((function(n,r){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=r)})),n[t]=e})),n}function Pu(e){return this.extend(e)}Pu.prototype.extend=function(e){var t=[],n=[];if(e instanceof ju)n.push(e);else if(Array.isArray(e))n=n.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new Fu("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof ju))throw new Fu("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new Fu("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new Fu("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),n.forEach((function(e){if(!(e instanceof ju))throw new Fu("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var r=Object.create(Pu.prototype);return r.implicit=(this.implicit||[]).concat(t),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=_u(r,"implicit"),r.compiledExplicit=_u(r,"explicit"),r.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return n}(r.compiledImplicit,r.compiledExplicit),r};var zu=new Pu({explicit:[new ju("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),new ju("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),new ju("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})]});var Bu=new ju("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var Wu=new ju("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Uu(e){return 48<=e&&e<=55}function Hu(e){return 48<=e&&e<=57}var Vu=new ju("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=e.length,o=0,a=!1;if(!r)return!1;if("-"!==(t=e[o])&&"+"!==t||(t=e[++o]),"0"===t){if(o+1===r)return!0;if("b"===(t=e[++o])){for(o++;o<r;o++)if("_"!==(t=e[o])){if("0"!==t&&"1"!==t)return!1;a=!0}return a&&"_"!==t}if("x"===t){for(o++;o<r;o++)if("_"!==(t=e[o])){if(!(48<=(n=e.charCodeAt(o))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;a=!0}return a&&"_"!==t}if("o"===t){for(o++;o<r;o++)if("_"!==(t=e[o])){if(!Uu(e.charCodeAt(o)))return!1;a=!0}return a&&"_"!==t}}if("_"===t)return!1;for(;o<r;o++)if("_"!==(t=e[o])){if(!Hu(e.charCodeAt(o)))return!1;a=!0}return!(!a||"_"===t)},construct:function(e){var t,n=e,r=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(t=n[0])&&"+"!==t||("-"===t&&(r=-1),t=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===t){if("b"===n[1])return r*parseInt(n.slice(2),2);if("x"===n[1])return r*parseInt(n.slice(2),16);if("o"===n[1])return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!Ru.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),$u=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var qu=/^[-+]?[0-9]+e/;var Gu=new ju("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!$u.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:n*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||Ru.isNegativeZero(e))},represent:function(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ru.isNegativeZero(e))return"-0.0";return n=e.toString(10),qu.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),Ku=zu.extend({implicit:[Bu,Wu,Vu,Gu]}),Yu=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Xu=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var Ju=new ju("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==Yu.exec(e)||null!==Xu.exec(e))},construct:function(e){var t,n,r,o,a,i,s,l,c=0,u=null;if(null===(t=Yu.exec(e))&&(t=Xu.exec(e)),null===t)throw new Error("Date resolve error");if(n=+t[1],r=+t[2]-1,o=+t[3],!t[4])return new Date(Date.UTC(n,r,o));if(a=+t[4],i=+t[5],s=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(u=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(u=-u)),l=new Date(Date.UTC(n,r,o,a,i,s,c)),u&&l.setTime(l.getTime()-u),l},instanceOf:Date,represent:function(e){return e.toISOString()}});var Zu=new ju("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),Qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var ep=new ju("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,n,r=0,o=e.length,a=Qu;for(n=0;n<o;n++)if(!((t=a.indexOf(e.charAt(n)))>64)){if(t<0)return!1;r+=6}return r%8==0},construct:function(e){var t,n,r=e.replace(/[\r\n=]/g,""),o=r.length,a=Qu,i=0,s=[];for(t=0;t<o;t++)t%4==0&&t&&(s.push(i>>16&255),s.push(i>>8&255),s.push(255&i)),i=i<<6|a.indexOf(r.charAt(t));return 0===(n=o%4*6)?(s.push(i>>16&255),s.push(i>>8&255),s.push(255&i)):18===n?(s.push(i>>10&255),s.push(i>>2&255)):12===n&&s.push(i>>4&255),new Uint8Array(s)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,n,r="",o=0,a=e.length,i=Qu;for(t=0;t<a;t++)t%3==0&&t&&(r+=i[o>>18&63],r+=i[o>>12&63],r+=i[o>>6&63],r+=i[63&o]),o=(o<<8)+e[t];return 0===(n=a%3)?(r+=i[o>>18&63],r+=i[o>>12&63],r+=i[o>>6&63],r+=i[63&o]):2===n?(r+=i[o>>10&63],r+=i[o>>4&63],r+=i[o<<2&63],r+=i[64]):1===n&&(r+=i[o>>2&63],r+=i[o<<4&63],r+=i[64],r+=i[64]),r}}),tp=Object.prototype.hasOwnProperty,np=Object.prototype.toString;var rp=new ju("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,o,a,i=[],s=e;for(t=0,n=s.length;t<n;t+=1){if(r=s[t],a=!1,"[object Object]"!==np.call(r))return!1;for(o in r)if(tp.call(r,o)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==i.indexOf(o))return!1;i.push(o)}return!0},construct:function(e){return null!==e?e:[]}}),op=Object.prototype.toString;var ap=new ju("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,n,r,o,a,i=e;for(a=new Array(i.length),t=0,n=i.length;t<n;t+=1){if(r=i[t],"[object Object]"!==op.call(r))return!1;if(1!==(o=Object.keys(r)).length)return!1;a[t]=[o[0],r[o[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,r,o,a,i=e;for(a=new Array(i.length),t=0,n=i.length;t<n;t+=1)r=i[t],o=Object.keys(r),a[t]=[o[0],r[o[0]]];return a}}),ip=Object.prototype.hasOwnProperty;var sp=new ju("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,n=e;for(t in n)if(ip.call(n,t)&&null!==n[t])return!1;return!0},construct:function(e){return null!==e?e:{}}});function lp(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}Ku.extend({implicit:[Ju,Zu],explicit:[ep,rp,ap,sp]});for(var cp=new Array(256),up=new Array(256),pp=0;pp<256;pp++)cp[pp]=lp(pp)?1:0,up[pp]=lp(pp);var dp,fp,hp,mp,gp=Object.create,vp=Object.defineProperty,yp=Object.getOwnPropertyDescriptor,kp=Object.getOwnPropertyNames,bp=Object.getPrototypeOf,wp=Object.prototype.hasOwnProperty,xp=(dp={"../../node_modules/.pnpm/@antfu+utils@0.1.5/node_modules/@antfu/utils/dist/index.js"(e){function t(e,t,n){return Math.min(n,Math.max(t,e))}function n(e){return e=e||[],Array.isArray(e)?e:[e]}function r(e){return n(e).flat(1)}function o(e,t){const n=e.length;if(n)return t<0&&(t+=n),e[t]}Object.defineProperty(e,"__esModule",{value:!0});var a=Object.prototype.toString;function i(e){return null!=e}var s="undefined"!=typeof window,l=e=>"[object Object]"===toString.call(e);function c(e){return Object.keys(e)}function u(e){return l(e)&&!Array.isArray(e)}e.assert=(e,...t)=>{if(!e)throw new Error(...t)},e.at=o,e.batchInvoke=function(e){e.forEach((e=>e&&e()))},e.clamp=t,e.clampArrayRange=function(e,n){return t(e,0,n.length-1)},e.createSingletonPromise=function(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const e=t;t=void 0,e&&await e},n},e.deepMerge=function e(t,...n){if(!n.length)return t;const r=n.shift();return void 0===r?t:(u(t)&&u(r)&&c(r).forEach((n=>{u(r[n])?(t[n]||(t[n]={}),e(t[n],r[n])):t[n]=r[n]})),e(t,...n))},e.ensurePrefix=function(e,t){return t.startsWith(e)?t:e+t},e.flattenArrayable=r,e.invoke=function(e){return e()},e.isBoolean=e=>"boolean"==typeof e,e.isBrowser=s,e.isDef=e=>void 0!==e,e.isFunction=e=>"function"==typeof e,e.isKeyOf=function(e,t){return t in e},e.isNumber=e=>"number"==typeof e,e.isObject=l,e.isString=e=>"string"==typeof e,e.isTruthy=function(e){return Boolean(e)},e.isWindow=e=>"undefined"!=typeof window&&"[object Window]"===toString.call(e),e.last=function(e){return o(e,-1)},e.mergeArrayable=function(...e){return e.flatMap((e=>n(e)))},e.move=function(e,t,n){return e.splice(n,0,e.splice(t,1)[0]),e},e.noNull=function(e){return null!==e},e.noop=()=>{},e.notNullish=i,e.notUndefined=function(e){return void 0!==e},e.objectEntries=function(e){return Object.entries(e)},e.objectKeys=c,e.objectMap=function(e,t){return Object.fromEntries(Object.entries(e).map((([e,n])=>t(e,n))).filter(i))},e.objectPick=function(e,t,n=!1){return t.reduce(((t,r)=>(r in e&&(n&&void 0!==!e[r]||(t[r]=e[r])),t)),{})},e.partition=function(e,t){const n=[],r=[];return e.forEach(((e,o,a)=>(t(e,o,a)?n:r).push(e))),[n,r]},e.range=function(...e){let t,n,r;1===e.length?(t=0,r=1,[n]=e):[t,n,r=1]=e;const o=[];let a=t;for(;a<n;)o.push(a),a+=r||1;return o},e.remove=function(e,t){if(!e)return!1;const n=e.indexOf(t);return n>=0&&(e.splice(n,1),!0)},e.slash=function(e){return e.replace(/\\/g,"/")},e.sleep=function(e,t){return new Promise((n=>setTimeout((async()=>{await(null==t?void 0:t()),n()}),e)))},e.sum=function(...e){return r(e).reduce(((e,t)=>e+t),0)},e.timestamp=()=>+Date.now(),e.toArray=n,e.toString=a,e.uniq=function(e){return Array.from(new Set(e))}}},function(){return fp||(0,dp[Object.keys(dp)[0]])((fp={exports:{}}).exports,fp),fp.exports}),Sp=(hp=xp(),((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of kp(t))wp.call(e,r)||"default"===r||vp(e,r,{get:()=>t[r],enumerable:!(n=yp(t,r))||n.enumerable});return e})((mp=vp(null!=hp?gp(bp(hp)):{},"default",hp&&hp.__esModule&&"default"in hp?{get:()=>hp.default,enumerable:!0}:{value:hp,enumerable:!0}),vp(mp,"__esModule",{value:!0})),hp));function Cp(e,t){if(!t||"all"===t||"*"===t)return(0,Sp.range)(1,e+1);const n=[];for(const r of t.split(/[,;]/g))if(r.includes("-")){const[t,o]=r.split("-",2);n.push(...(0,Sp.range)(+t,o?+o+1:e+1))}else n.push(+r);return(0,Sp.uniq)(n).filter((t=>t<=e)).sort(((e,t)=>e-t))}var Mp=Xn({expose:[],props:{ranges:{default:()=>[]}},setup(e){const t=e,n=Ar(Ts),r=Ar(Ls),o=Ar(As);const a=ft(),i=Vr();return Cn((()=>{const e=r.value.length,s=Zr((()=>o.value?t.ranges.length-1:Math.min(Math.max(0,n.value-e),t.ranges.length-1))),l=Zr((()=>t.ranges[s.value]||""));if(t.ranges.length>=2&&!o.value){const e=function(e=5){const t=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length;for(let o=0;o<e;o++)t.push(n.charAt(Math.floor(Math.random()*r)));return t.join("")}(),n=function(...e){let t,n,r;1===e.length?(t=0,r=1,[n]=e):[t,n,r=1]=e;const o=[];let a=t;for(;a<n;)o.push(a),a+=r||1;return o}(t.ranges.length-1).map((t=>e+t));r.value.push(...n),An((()=>n.forEach((e=>Cs(r.value,e)))),i)}En((()=>{if(!a.value)return;const e=a.value.querySelector(".shiki-dark")?Array.from(a.value.querySelectorAll(".shiki")):[a.value];for(const t of e){const e=Array.from(t.querySelectorAll(".line")),n=Cp(e.length,l.value);e.forEach(((e,t)=>{const r=n.includes(t+1);e.classList.toggle("slidev-vclick-target",!0),e.classList.toggle("highlighted",r),e.classList.toggle("dishonored",!r)}))}}))})),(e,t)=>(dr(),hr("div",{ref:a},[Jt(e.$slots,"default")],512))}});const Tp=on();nn("data-v-3bac13ac");const Lp=br("h1",null,"App Bridge",-1),Ap=br("pre",{class:"slidev-code language-kt"},[br("code",null,[br("span",{class:"line"},[br("span",{class:"token keyword"},"class"),xr(),br("span",{class:"token function"},"WebAppInterfaceBridge"),br("span",{class:"token punctuation"},"(")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"private"),xr(),br("span",{class:"token keyword"},"val"),xr(" mContext"),br("span",{class:"token operator"},":"),xr(" Context"),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"private"),xr(),br("span",{class:"token keyword"},"val"),xr(" webView"),br("span",{class:"token operator"},":"),xr(" MWebView"),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"private"),xr(),br("span",{class:"token keyword"},"val"),xr(" logger "),br("span",{class:"token operator"},"="),xr(" Logger"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"getLogger"),br("span",{class:"token punctuation"},"("),xr("WebAppInterfaceBridge"),br("span",{class:"token operator"},"::"),br("span",{class:"token keyword"},"class"),br("span",{class:"token punctuation"},"."),xr("java"),br("span",{class:"token punctuation"},"."),xr("name"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token annotation builtin"},"@JavascriptInterface")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"fun"),xr(),br("span",{class:"token function"},"showToast"),br("span",{class:"token punctuation"},"("),xr("toast"),br("span",{class:"token operator"},":"),xr(" String"),br("span",{class:"token punctuation"},")"),br("span",{class:"token operator"},":"),xr(" String "),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("        Toast"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"makeText"),br("span",{class:"token punctuation"},"("),xr("mContext"),br("span",{class:"token punctuation"},","),xr(" toast"),br("span",{class:"token punctuation"},","),xr(" Toast"),br("span",{class:"token punctuation"},"."),xr("LENGTH_SHORT"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"show"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"return"),xr(" toast")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token annotation builtin"},"@JavascriptInterface")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"fun"),xr(),br("span",{class:"token function"},"openLink"),br("span",{class:"token punctuation"},"("),xr("url"),br("span",{class:"token operator"},":"),xr(" String"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"val"),xr(" i "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token function"},"Intent"),br("span",{class:"token punctuation"},"("),xr("Intent"),br("span",{class:"token punctuation"},"."),xr("ACTION_VIEW"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("        i"),br("span",{class:"token punctuation"},"."),xr("data "),br("span",{class:"token operator"},"="),xr(" Uri"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"parse"),br("span",{class:"token punctuation"},"("),xr("url"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token punctuation"},"("),xr("webView"),br("span",{class:"token punctuation"},"."),xr("context "),br("span",{class:"token keyword"},"as"),xr(" MainActivity"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"startActivity"),br("span",{class:"token punctuation"},"("),xr("i"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token annotation builtin"},"@JavascriptInterface")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"fun"),xr(),br("span",{class:"token function"},"callGeneratorApi"),br("span",{class:"token punctuation"},"("),xr("url"),br("span",{class:"token operator"},":"),xr(" String"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("        thread "),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("            kotlin"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"run"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token keyword"},"val"),xr(" model "),br("span",{class:"token operator"},"="),xr(" URLService"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"generatorURL"),br("span",{class:"token punctuation"},"("),xr("mContext"),br("span",{class:"token punctuation"},","),xr(" url"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token keyword"},"if"),xr(),br("span",{class:"token punctuation"},"("),xr("model "),br("span",{class:"token operator"},"!="),xr(),br("span",{class:"token keyword"},"null"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("                    "),br("span",{class:"token punctuation"},"("),xr("webView"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"emitEventByBus"),br("span",{class:"token punctuation"},"("),xr("model"),br("span",{class:"token punctuation"},","),xr(" EventType"),br("span",{class:"token punctuation"},"."),xr("APPEND"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token annotation builtin"},"@JavascriptInterface")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"fun"),xr(),br("span",{class:"token function"},"ipcEmitter"),br("span",{class:"token punctuation"},"("),xr("eventType"),br("span",{class:"token operator"},":"),xr(" String"),br("span",{class:"token punctuation"},","),xr(" payload"),br("span",{class:"token operator"},":"),xr(" String"),br("span",{class:"token operator"},"?"),xr(),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token string"},'""'),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        logger"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"log"),br("span",{class:"token punctuation"},"("),xr("Level"),br("span",{class:"token punctuation"},"."),xr("INFO"),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token string"},[xr('"EventType: '),br("span",{class:"token interpolation variable"},"$eventType"),xr(", payload: "),br("span",{class:"token interpolation variable"},"$payload"),xr('"')]),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"val"),xr(" dao "),br("span",{class:"token operator"},"="),xr(" URLDatabase"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"getDatabase"),br("span",{class:"token punctuation"},"("),xr("context "),br("span",{class:"token operator"},"="),xr(" mContext"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"."),xr("urlDao")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"val"),xr(),br("span",{class:"token keyword"},"data"),xr(),br("span",{class:"token operator"},"="),xr(" JSON"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"parse"),br("span",{class:"token punctuation"},"("),xr("payload"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"when"),xr(),br("span",{class:"token punctuation"},"("),br("span",{class:"token keyword"},"val"),xr(" type "),br("span",{class:"token operator"},"="),xr(" eventType"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("            EventType"),br("span",{class:"token punctuation"},"."),xr("WANT_CREATE"),br("span",{class:"token punctuation"},"."),xr("name "),br("span",{class:"token operator"},"->"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token keyword"},"val"),xr(" url "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token punctuation"},"("),br("span",{class:"token keyword"},"data"),xr(),br("span",{class:"token keyword"},"as"),xr(" JSONObject"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"getString"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"data"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token function"},"callGeneratorApi"),br("span",{class:"token punctuation"},"("),xr("url"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("            EventType"),br("span",{class:"token punctuation"},"."),xr("REMOVE_ALL"),br("span",{class:"token punctuation"},"."),xr("name "),br("span",{class:"token operator"},"->"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("            EventType"),br("span",{class:"token punctuation"},"."),xr("REMOVE"),br("span",{class:"token punctuation"},"."),xr("name "),br("span",{class:"token operator"},"->"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("            EventType"),br("span",{class:"token punctuation"},"."),xr("REMOVE_MANY"),br("span",{class:"token punctuation"},"."),xr("name "),br("span",{class:"token operator"},"->"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token punctuation"},"("),br("span",{class:"token keyword"},"data"),xr(),br("span",{class:"token keyword"},"as"),xr(" JSONArray"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"forEach"),xr(),br("span",{class:"token punctuation"},"{"),xr(" id "),br("span",{class:"token operator"},"->")]),xr("\n"),br("span",{class:"line"},[xr("                    logger"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"log"),br("span",{class:"token punctuation"},"("),xr("Level"),br("span",{class:"token punctuation"},"."),xr("INFO"),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token string"},[xr('"'),br("span",{class:"token interpolation variable"},"$id"),xr('"')]),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("                    dao"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"deleteById"),br("span",{class:"token punctuation"},"("),xr("id "),br("span",{class:"token keyword"},"as"),xr(" Int"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),xr("webView"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"emitEventByBus"),br("span",{class:"token punctuation"},"("),br("span",{class:"token keyword"},"data"),br("span",{class:"token punctuation"},","),xr(" EventType"),br("span",{class:"token punctuation"},"."),xr("REMOVE_MANY"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("            EventType"),br("span",{class:"token punctuation"},"."),xr("VISIT"),br("span",{class:"token punctuation"},"."),xr("name "),br("span",{class:"token operator"},"->"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token keyword"},"else"),xr(),br("span",{class:"token operator"},"->"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("                logger"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"log"),br("span",{class:"token punctuation"},"("),xr("Level"),br("span",{class:"token punctuation"},"."),xr("INFO"),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token string"},[xr('"EventType: '),br("span",{class:"token interpolation variable"},"$eventType"),xr('"')]),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token punctuation"},"}")])])],-1);rn();const Op={expose:[],setup(e){const t={};return(e,n)=>{const r=Mp;return dr(),hr(mu,t,{default:Tp((()=>[br("div",null,[Lp,br(r,{ranges:["35-"]},{default:Tp((()=>[Ap])),_:1})])])),_:1},16)}},__scopeId:"data-v-3bac13ac"};const Rp=on();nn("data-v-27425e9f");const Ep=br("div",null,[br("h1",null,"App Bridge"),br("pre",{class:"slidev-code language-kt"},[br("code",null,[br("span",{class:"line"},[br("span",{class:"token comment"},"// MWebkitView.kt")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[br("span",{class:"token keyword"},"fun"),xr(),br("span",{class:"token function"},"emitEventByBus"),br("span",{class:"token punctuation"},"("),br("span",{class:"token keyword"},"data"),br("span",{class:"token operator"},":"),xr(" Any"),br("span",{class:"token punctuation"},","),xr(" eventName"),br("span",{class:"token operator"},":"),xr(" EventType "),br("span",{class:"token operator"},"="),xr(" EventType"),br("span",{class:"token punctuation"},"."),xr("DISPATCH"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"post"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"evaluateJavascript"),br("span",{class:"token punctuation"},"(")]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token string"},'""'),xr('"')]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token operator"},"="),br("span",{class:"token operator"},">"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token keyword"},"const"),xr(" bus "),br("span",{class:"token operator"},"="),xr(" window"),br("span",{class:"token punctuation"},"."),xr("bus")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token keyword"},"if"),br("span",{class:"token punctuation"},"("),xr("bus"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("                    bus"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"emit"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},[xr('"'),br("span",{class:"token interpolation"},[br("span",{class:"token delimiter variable"},"${"),xr("eventName"),br("span",{class:"token punctuation"},"."),xr("name"),br("span",{class:"token delimiter variable"},"}")]),xr('"')]),br("span",{class:"token punctuation"},","),xr(" $"),br("span",{class:"token punctuation"},"{"),xr("JSON"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"toJSONString"),br("span",{class:"token punctuation"},"("),br("span",{class:"token keyword"},"data"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"}"),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token boolean"},"true"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},"}"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token string"},'""'),xr('"'),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"trimIndent"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{"),xr(" e "),br("span",{class:"token operator"},"->")]),xr("\n"),br("span",{class:"line"},[xr("                logger"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"log"),br("span",{class:"token punctuation"},"("),xr("Level"),br("span",{class:"token punctuation"},"."),xr("INFO"),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token string"},[xr('"[Event: '),br("span",{class:"token interpolation"},[br("span",{class:"token delimiter variable"},"${"),xr("eventName"),br("span",{class:"token punctuation"},"."),xr("name"),br("span",{class:"token delimiter variable"},"}")]),xr("]: "),br("span",{class:"token interpolation"},[br("span",{class:"token delimiter variable"},"${"),xr("JSON"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"toJSONString"),br("span",{class:"token punctuation"},"("),br("span",{class:"token keyword"},"data"),br("span",{class:"token punctuation"},")"),br("span",{class:"token delimiter variable"},"}")]),xr('"')]),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[br("span",{class:"token keyword"},"private"),xr(),br("span",{class:"token keyword"},"fun"),xr(),br("span",{class:"token function"},"registerInterface"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"addJavascriptInterface"),br("span",{class:"token punctuation"},"("),br("span",{class:"token function"},"WebAppInterfaceBridge"),br("span",{class:"token punctuation"},"("),xr("context"),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token string"},'"Bridge"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token punctuation"},"}")])])])],-1);rn();const Dp={expose:[],setup(e){const t={};return(e,n)=>(dr(),hr(mu,t,{default:Rp((()=>[Ep])),_:1},16))},__scopeId:"data-v-27425e9f"};const Fp=on();nn("data-v-29eee766");const Np=br("div",null,[br("h1",null,"MWebKitView"),br("pre",{class:"slidev-code language-kt"},[br("code",null,[br("span",{class:"line"},[br("span",{class:"token annotation builtin"},"@SuppressLint"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"SetJavaScriptEnabled"'),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token string"},'"ViewConstructor"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token keyword"},"class"),xr(),br("span",{class:"token function"},"MWebView"),br("span",{class:"token punctuation"},"("),xr("context"),br("span",{class:"token operator"},":"),xr(" Context"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token operator"},":"),xr(),br("span",{class:"token function"},"WebView"),br("span",{class:"token punctuation"},"("),xr("context"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"private"),xr(),br("span",{class:"token keyword"},"val"),xr(" logger"),br("span",{class:"token operator"},":"),xr(" Logger "),br("span",{class:"token operator"},"="),xr(" Logger"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"getLogger"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"logger"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"init"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),xr("settings"),br("span",{class:"token punctuation"},"."),xr("javaScriptEnabled "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token boolean"},"true")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"if"),xr(),br("span",{class:"token punctuation"},"("),xr("BuildConfig"),br("span",{class:"token punctuation"},"."),xr("DEBUG"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"loadUrl"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"http://192.168.31.19:3000/"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token function"},"setWebContentsDebuggingEnabled"),br("span",{class:"token punctuation"},"("),br("span",{class:"token boolean"},"true"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token punctuation"},"}"),xr(),br("span",{class:"token keyword"},"else"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"loadUrl"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"file:///android_asset/index.html"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"registerInterface"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),xr("webChromeClient "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token keyword"},"object"),xr(),br("span",{class:"token operator"},":"),xr(),br("span",{class:"token function"},"WebChromeClient"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token keyword"},"override"),xr(),br("span",{class:"token keyword"},"fun"),xr(),br("span",{class:"token function"},"onConsoleMessage"),br("span",{class:"token punctuation"},"("),xr("consoleMessage"),br("span",{class:"token operator"},":"),xr(" ConsoleMessage"),br("span",{class:"token operator"},"?"),br("span",{class:"token punctuation"},")"),br("span",{class:"token operator"},":"),xr(" Boolean "),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("                consoleMessage"),br("span",{class:"token operator"},"?"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"apply"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("                    Log"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"d"),br("span",{class:"token punctuation"},"("),xr("MWebView"),br("span",{class:"token operator"},"::"),br("span",{class:"token keyword"},"class"),br("span",{class:"token punctuation"},"."),xr("java"),br("span",{class:"token punctuation"},"."),xr("name"),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token string"},[xr('"'),br("span",{class:"token interpolation"},[br("span",{class:"token delimiter variable"},"${"),br("span",{class:"token function"},"message"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),br("span",{class:"token delimiter variable"},"}")]),xr(" -- From line "),br("span",{class:"token interpolation"},[br("span",{class:"token delimiter variable"},"${"),br("span",{class:"token function"},"lineNumber"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),br("span",{class:"token delimiter variable"},"}")]),xr(" of "),br("span",{class:"token interpolation"},[br("span",{class:"token delimiter variable"},"${"),br("span",{class:"token function"},"sourceId"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),br("span",{class:"token delimiter variable"},"}")]),xr('"')]),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token keyword"},"return"),xr(),br("span",{class:"token boolean"},"true")]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"fun"),xr(),br("span",{class:"token function"},"emitEventByBus"),br("span",{class:"token punctuation"},"("),br("span",{class:"token keyword"},"data"),br("span",{class:"token operator"},":"),xr(" Any"),br("span",{class:"token punctuation"},","),xr(" eventName"),br("span",{class:"token operator"},":"),xr(" EventType "),br("span",{class:"token operator"},"="),xr(" EventType"),br("span",{class:"token punctuation"},"."),xr("DISPATCH"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"post"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"evaluateJavascript"),br("span",{class:"token punctuation"},"(")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token string"},'""'),xr('"')]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token operator"},"="),br("span",{class:"token operator"},">"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token keyword"},"const"),xr(" bus "),br("span",{class:"token operator"},"="),xr(" window"),br("span",{class:"token punctuation"},"."),xr("bus")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token keyword"},"if"),br("span",{class:"token punctuation"},"("),xr("bus"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("                    bus"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"emit"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},[xr('"'),br("span",{class:"token interpolation"},[br("span",{class:"token delimiter variable"},"${"),xr("eventName"),br("span",{class:"token punctuation"},"."),xr("name"),br("span",{class:"token delimiter variable"},"}")]),xr('"')]),br("span",{class:"token punctuation"},","),xr(" $"),br("span",{class:"token punctuation"},"{"),xr("JSON"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"toJSONString"),br("span",{class:"token punctuation"},"("),br("span",{class:"token keyword"},"data"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"}"),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token boolean"},"true"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("                "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},"}"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token string"},'""'),xr('"'),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"trimIndent"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{"),xr(" e "),br("span",{class:"token operator"},"->")]),xr("\n"),br("span",{class:"line"},[xr("                logger"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"log"),br("span",{class:"token punctuation"},"("),xr("Level"),br("span",{class:"token punctuation"},"."),xr("INFO"),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token string"},[xr('"[Event: '),br("span",{class:"token interpolation"},[br("span",{class:"token delimiter variable"},"${"),xr("eventName"),br("span",{class:"token punctuation"},"."),xr("name"),br("span",{class:"token delimiter variable"},"}")]),xr("]: "),br("span",{class:"token interpolation"},[br("span",{class:"token delimiter variable"},"${"),xr("JSON"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"toJSONString"),br("span",{class:"token punctuation"},"("),br("span",{class:"token keyword"},"data"),br("span",{class:"token punctuation"},")"),br("span",{class:"token delimiter variable"},"}")]),xr('"')]),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("            "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"private"),xr(),br("span",{class:"token keyword"},"fun"),xr(),br("span",{class:"token function"},"registerInterface"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"addJavascriptInterface"),br("span",{class:"token punctuation"},"("),br("span",{class:"token function"},"WebAppInterfaceBridge"),br("span",{class:"token punctuation"},"("),xr("context"),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token string"},'"Bridge"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token punctuation"},"}")])])])],-1);rn();const Ip={expose:[],setup(e){const t={};return(e,n)=>(dr(),hr(mu,t,{default:Fp((()=>[Np])),_:1},16))},__scopeId:"data-v-29eee766"};const jp=on();nn("data-v-341047c5");const _p=br("div",null,[br("h1",null,"Entry"),br("p",null,"在 MainActitiy 挂载 MWebView. 网页加载完成，向 renderer 层通信，发送 FETCH_ALL 事件，并把所有 URL items 一同发送"),br("pre",{class:"slidev-code language-kt"},[br("code",null,[br("span",{class:"line"},[br("span",{class:"token comment"},"// MainActivity.kt")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token keyword"},"class"),xr(" MainActivity "),br("span",{class:"token operator"},":"),xr(),br("span",{class:"token function"},"AppCompatActivity"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"private"),xr(),br("span",{class:"token keyword"},"lateinit"),xr(),br("span",{class:"token keyword"},"var"),xr(" webView"),br("span",{class:"token operator"},":"),xr(" MWebView")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token annotation builtin"},"@SuppressLint"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"SetTextI18n"'),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token string"},'"SetJavaScriptEnabled"'),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"override"),xr(),br("span",{class:"token keyword"},"fun"),xr(),br("span",{class:"token function"},"onCreate"),br("span",{class:"token punctuation"},"("),xr("savedInstanceState"),br("span",{class:"token operator"},":"),xr(" Bundle"),br("span",{class:"token operator"},"?"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"super"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"onCreate"),br("span",{class:"token punctuation"},"("),xr("savedInstanceState"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("        webView "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token function"},"MWebView"),br("span",{class:"token punctuation"},"("),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("       webView"),br("span",{class:"token punctuation"},"."),xr("webViewClient "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token keyword"},"object"),xr(),br("span",{class:"token operator"},":"),xr(),br("span",{class:"token function"},"WebViewClient"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("           "),br("span",{class:"token keyword"},"override"),xr(),br("span",{class:"token keyword"},"fun"),xr(),br("span",{class:"token function"},"onPageFinished"),br("span",{class:"token punctuation"},"("),xr("view"),br("span",{class:"token operator"},":"),xr(" WebView"),br("span",{class:"token operator"},"?"),br("span",{class:"token punctuation"},","),xr(" url"),br("span",{class:"token operator"},":"),xr(" String"),br("span",{class:"token operator"},"?"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("               "),br("span",{class:"token keyword"},"super"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"onPageFinished"),br("span",{class:"token punctuation"},"("),xr("view"),br("span",{class:"token punctuation"},","),xr(" url"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("               "),br("span",{class:"token keyword"},"this"),br("span",{class:"token label symbol"},"@MainActivity"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"init"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("           "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("       "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token function"},"setContentView"),br("span",{class:"token punctuation"},"("),xr("webView"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("   "),br("span",{class:"token keyword"},"fun"),xr(),br("span",{class:"token keyword"},"init"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("       "),br("span",{class:"token keyword"},"val"),xr(" vm "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token function"},"ViewModelProvider"),br("span",{class:"token punctuation"},"(")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("           "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("           ViewModelProvider"),br("span",{class:"token punctuation"},"."),xr("AndroidViewModelFactory"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"getInstance"),br("span",{class:"token punctuation"},"("),xr("application"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("       "),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"get"),br("span",{class:"token punctuation"},"("),xr("URLViewModel"),br("span",{class:"token operator"},"::"),br("span",{class:"token keyword"},"class"),br("span",{class:"token punctuation"},"."),xr("java"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("       "),br("span",{class:"token keyword"},"val"),xr(" urls "),br("span",{class:"token operator"},"="),xr(" vm"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"getAllUrls"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("       urls"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"observeOnce"),br("span",{class:"token punctuation"},"("),xr("Observer "),br("span",{class:"token punctuation"},"{"),xr(" list "),br("span",{class:"token operator"},"->")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("           webView"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"emitEventByBus"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},"("),xr("list"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},","),xr(" eventName "),br("span",{class:"token operator"},"="),xr(" EventType"),br("span",{class:"token punctuation"},"."),xr("FETCH_ALL"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("       "),br("span",{class:"token punctuation"},"}"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"+"),xr("   "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[br("span",{class:"token punctuation"},"}")])])])],-1);rn();const Pp={expose:[],setup(e){const t={};return(e,n)=>(dr(),hr(mu,t,{default:jp((()=>[_p])),_:1},16))},__scopeId:"data-v-341047c5"};const zp=on();nn("data-v-03adbcca");const Bp=br("div",null,[br("h1",null,"Renderer (WebView) Emit"),br("pre",{class:"slidev-code language-js"},[br("code",null,[br("span",{class:"line"},[br("span",{class:"token punctuation"},";"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token operator"},"=>"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("  "),br("span",{class:"token keyword"},"class"),xr(),br("span",{class:"token class-name"},"Observable"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token function"},"constructor"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),xr("observers "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token punctuation"},"{"),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token function"},"on"),br("span",{class:"token punctuation"},"("),br("span",{class:"token parameter"},[xr("event"),br("span",{class:"token punctuation"},","),xr(" handler")]),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token keyword"},"const"),xr(" queue "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),xr("observers"),br("span",{class:"token punctuation"},"["),xr("event"),br("span",{class:"token punctuation"},"]")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token keyword"},"if"),xr(),br("span",{class:"token punctuation"},"("),br("span",{class:"token operator"},"!"),xr("queue"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),xr("observers"),br("span",{class:"token punctuation"},"["),xr("event"),br("span",{class:"token punctuation"},"]"),xr(),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token punctuation"},"["),xr("handler"),br("span",{class:"token punctuation"},"]")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"return")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token keyword"},"const"),xr(" isExist "),br("span",{class:"token operator"},"="),xr(" queue"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"some"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},"("),br("span",{class:"token parameter"},"func"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token operator"},"=>"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"return"),xr(" func "),br("span",{class:"token operator"},"==="),xr(" handler")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token punctuation"},"}"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token keyword"},"if"),xr(),br("span",{class:"token punctuation"},"("),br("span",{class:"token operator"},"!"),xr("isExist"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),xr("observers"),br("span",{class:"token punctuation"},"["),xr("event"),br("span",{class:"token punctuation"},"]"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"push"),br("span",{class:"token punctuation"},"("),xr("handler"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token function"},"emit"),br("span",{class:"token punctuation"},"("),br("span",{class:"token parameter"},[xr("event"),br("span",{class:"token punctuation"},","),xr(" payload")]),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token keyword"},"if"),xr(),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},"'Bridge'"),xr(),br("span",{class:"token keyword"},"in"),xr(" window"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        console"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"log"),br("span",{class:"token punctuation"},"("),xr("event"),br("span",{class:"token punctuation"},","),xr(" payload"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("        window"),br("span",{class:"token punctuation"},"."),xr("Bridge"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"ipcEmitter"),br("span",{class:"token punctuation"},"("),xr("event"),br("span",{class:"token punctuation"},","),xr(" payload"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token keyword"},"const"),xr(" queue "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),xr("observers"),br("span",{class:"token punctuation"},"["),xr("event"),br("span",{class:"token punctuation"},"]")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token keyword"},"if"),xr(),br("span",{class:"token punctuation"},"("),br("span",{class:"token operator"},"!"),xr("queue"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"return")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token keyword"},"for"),xr(),br("span",{class:"token punctuation"},"("),br("span",{class:"token keyword"},"const"),xr(" func "),br("span",{class:"token keyword"},"of"),xr(" queue"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token function"},"func"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"call"),br("span",{class:"token punctuation"},"("),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},","),xr(" payload"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token function"},"off"),br("span",{class:"token punctuation"},"("),br("span",{class:"token parameter"},[xr("event"),br("span",{class:"token punctuation"},","),xr(" handler")]),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token keyword"},"const"),xr(" queue "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token keyword"},"this"),br("span",{class:"token punctuation"},"."),xr("observers"),br("span",{class:"token punctuation"},"["),xr("event"),br("span",{class:"token punctuation"},"]")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token keyword"},"if"),xr(),br("span",{class:"token punctuation"},"("),br("span",{class:"token operator"},"!"),xr("queue"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"return")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token keyword"},"if"),xr(),br("span",{class:"token punctuation"},"("),xr("handler"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"const"),xr(" index "),br("span",{class:"token operator"},"="),xr(" queue"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"findIndex"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},"("),br("span",{class:"token parameter"},"func"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token operator"},"=>"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("          "),br("span",{class:"token keyword"},"return"),xr(" func "),br("span",{class:"token operator"},"==="),xr(" handler")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token punctuation"},"}"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token keyword"},"if"),xr(),br("span",{class:"token punctuation"},"("),xr("index "),br("span",{class:"token operator"},"!=="),xr(),br("span",{class:"token operator"},"-"),br("span",{class:"token number"},"1"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("          queue"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"splice"),br("span",{class:"token punctuation"},"("),xr("index"),br("span",{class:"token punctuation"},","),xr(),br("span",{class:"token number"},"1"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("        "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token punctuation"},"}"),xr(),br("span",{class:"token keyword"},"else"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("        queue"),br("span",{class:"token punctuation"},"."),xr("length "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token number"},"0")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("  "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("  window"),br("span",{class:"token punctuation"},"."),xr("bus "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token keyword"},"new"),xr(),br("span",{class:"token class-name"},"Observable"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("  console"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"log"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},"'event bus mounted'"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token punctuation"},"}"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")")])])])],-1);rn();const Wp={expose:[],setup(e){const t={};return(e,n)=>(dr(),hr(mu,t,{default:zp((()=>[Bp])),_:1},16))},__scopeId:"data-v-03adbcca"};const Up=on();nn("data-v-5e7e25e9");const Hp=br("h1",null,"IPC",-1),Vp=br("h3",null,"WebView (JS) <—> Client",-1),$p=br("pre",{class:"slidev-code language-js"},[br("code",null,[br("span",{class:"line"},[br("span",{class:"token operator"},"<"),xr("template"),br("span",{class:"token operator"},">")]),xr("\n"),br("span",{class:"line"},[xr("  "),br("span",{class:"token operator"},"<"),xr("header"),br("span",{class:"token operator"},">")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token operator"},"<"),xr("button "),br("span",{class:"token keyword"},"class"),br("span",{class:"token operator"},"="),br("span",{class:"token string"},'"edit-btn btn"'),xr(" @click"),br("span",{class:"token operator"},"="),br("span",{class:"token string"},'"handleEdit"'),br("span",{class:"token operator"},">")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token punctuation"},"{"),br("span",{class:"token punctuation"},"{"),xr(),br("span",{class:"token operator"},"!"),xr("isEdit "),br("span",{class:"token operator"},"?"),xr(),br("span",{class:"token string"},"'编辑'"),xr(),br("span",{class:"token operator"},":"),xr(),br("span",{class:"token string"},"'完成'"),xr(),br("span",{class:"token punctuation"},"}"),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token operator"},"<"),br("span",{class:"token operator"},"/"),xr("button"),br("span",{class:"token operator"},">")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token operator"},"<"),xr("button "),br("span",{class:"token keyword"},"class"),br("span",{class:"token operator"},"="),br("span",{class:"token string"},'"delete-btn btn"'),xr(" @click"),br("span",{class:"token operator"},"="),br("span",{class:"token string"},'"handleDelete"'),xr(" v"),br("span",{class:"token operator"},"-"),br("span",{class:"token keyword"},"if"),br("span",{class:"token operator"},"="),br("span",{class:"token string"},'"isEdit"'),br("span",{class:"token operator"},">")]),xr("\n"),br("span",{class:"line"},"      删除"),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token operator"},"<"),br("span",{class:"token operator"},"/"),xr("button"),br("span",{class:"token operator"},">")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token operator"},"<"),xr("h1"),br("span",{class:"token operator"},">"),xr("短连接生成器"),br("span",{class:"token operator"},"<"),br("span",{class:"token operator"},"/"),xr("h1"),br("span",{class:"token operator"},">")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token operator"},"<"),xr("div "),br("span",{class:"token keyword"},"class"),br("span",{class:"token operator"},"="),br("span",{class:"token string"},'"seq"'),br("span",{class:"token operator"},">"),br("span",{class:"token operator"},"<"),br("span",{class:"token operator"},"/"),xr("div"),br("span",{class:"token operator"},">")]),xr("\n"),br("span",{class:"line"},[xr("  "),br("span",{class:"token operator"},"<"),br("span",{class:"token operator"},"/"),xr("header"),br("span",{class:"token operator"},">")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"<"),br("span",{class:"token operator"},"/"),xr("template"),br("span",{class:"token operator"},">")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"<"),xr("script"),br("span",{class:"token operator"},">")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token comment"},"// ...")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[br("span",{class:"token keyword"},"export"),xr(),br("span",{class:"token keyword"},"default"),xr(),br("span",{class:"token function"},"defineComponent"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("  name"),br("span",{class:"token operator"},":"),xr(),br("span",{class:"token string"},"'header'"),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"},[xr("  "),br("span",{class:"token function"},"setup"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"const"),xr(" envStore "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token function"},"useInjector"),br("span",{class:"token punctuation"},"("),xr("EnvStore"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"function"),xr(),br("span",{class:"token function"},"handleEdit"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("      envStore"),br("span",{class:"token punctuation"},"."),xr("isEditMode"),br("span",{class:"token punctuation"},"."),xr("value "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token operator"},"!"),xr("envStore"),br("span",{class:"token punctuation"},"."),xr("isEditMode"),br("span",{class:"token punctuation"},"."),xr("value")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"function"),xr(),br("span",{class:"token function"},"handleDelete"),br("span",{class:"token punctuation"},"("),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("      "),br("span",{class:"token keyword"},"const"),xr(" list "),br("span",{class:"token operator"},"="),xr(" envStore"),br("span",{class:"token punctuation"},"."),xr("selectedItem"),br("span",{class:"token punctuation"},"."),xr("value")]),xr("\n"),br("span",{class:"line"},[xr("      window"),br("span",{class:"token punctuation"},"."),xr("bus"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"emit"),br("span",{class:"token punctuation"},"("),xr("EventTypes"),br("span",{class:"token punctuation"},"."),br("span",{class:"token constant"},"REMOVE_MANY"),br("span",{class:"token punctuation"},","),xr(" list"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("      envStore"),br("span",{class:"token punctuation"},"."),xr("isEditMode"),br("span",{class:"token punctuation"},"."),xr("value "),br("span",{class:"token operator"},"="),xr(),br("span",{class:"token boolean"},"false")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token keyword"},"return"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("      handleEdit"),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"},[xr("      isEdit"),br("span",{class:"token operator"},":"),xr(" envStore"),br("span",{class:"token punctuation"},"."),xr("isEditMode"),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"},[xr("      handleDelete"),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"},[xr("    "),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("  "),br("span",{class:"token punctuation"},"}"),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token punctuation"},"}"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[br("span",{class:"token operator"},"<"),br("span",{class:"token operator"},"/"),xr("script"),br("span",{class:"token operator"},">")])])],-1),qp=br("p",null,[br("strong",null,"所有数据在通讯时均采用 JSON 格式。")],-1);rn();const Gp={expose:[],setup(e){const t={};return(e,n)=>{const r=Mp;return dr(),hr(mu,t,{default:Up((()=>[br("div",null,[Hp,Vp,br(r,{ranges:["25-31"]},{default:Up((()=>[$p])),_:1}),qp])])),_:1},16)}},__scopeId:"data-v-5e7e25e9"};const Kp=on();nn("data-v-bf021e7a");const Yp=br("div",null,[br("h1",null,"Diagrams"),br("p",null,[br("img",{src:"https://github.com/Innei/short-link-generator/blob/master/slidev/assets/image.png?raw=true",alt:""})])],-1);rn();const Xp={expose:[],setup(e){const t={};return(e,n)=>(dr(),hr(mu,t,{default:Kp((()=>[Yp])),_:1},16))},__scopeId:"data-v-bf021e7a"};const Jp=on();nn("data-v-0327e414");const Zp=br("div",null,[br("h1",null,"Server (Golang)"),br("pre",{class:"slidev-code language-sh"},[br("code",null,[br("span",{class:"line"},"."),xr("\n"),br("span",{class:"line"},"├── config                    # 配置文件"),xr("\n"),br("span",{class:"line"},"│   ├── config.go"),xr("\n"),br("span",{class:"line"},"│   └── config.toml"),xr("\n"),br("span",{class:"line"},"├── controler                 # 接口逻辑实现"),xr("\n"),br("span",{class:"line"},"│   └── api"),xr("\n"),br("span",{class:"line"},"│       └── v1"),xr("\n"),br("span",{class:"line"},"│           └── tinyURL.go"),xr("\n"),br("span",{class:"line"},"├── data                      # 应用产生数据是存放的位置"),xr("\n"),br("span",{class:"line"},"│   └── images"),xr("\n"),br("span",{class:"line"},"│       └── qrcode"),xr("\n"),br("span",{class:"line"},"├── docker-compose.yml"),xr("\n"),br("span",{class:"line"},"├── Dockerfile"),xr("\n"),br("span",{class:"line"},"├── Dockerfile.link           # Dockerfile"),xr("\n"),br("span",{class:"line"},"├── docs                      # 文档"),xr("\n"),br("span",{class:"line"},"│   ├── docs.go"),xr("\n"),br("span",{class:"line"},"│   ├── swagger.json"),xr("\n"),br("span",{class:"line"},"│   └── swagger.yaml"),xr("\n"),br("span",{class:"line"},"├── global"),xr("\n"),br("span",{class:"line"},"│   └── global.go"),xr("\n"),br("span",{class:"line"},"├── go.mod"),xr("\n"),br("span",{class:"line"},"├── go.sum"),xr("\n"),br("span",{class:"line"},"├── initialize"),xr("\n"),br("span",{class:"line"},"│   ├── email.go"),xr("\n"),br("span",{class:"line"},"│   ├── gorm.go"),xr("\n"),br("span",{class:"line"},"│   ├── router.go"),xr("\n"),br("span",{class:"line"},"│   ├── viper.go"),xr("\n"),br("span",{class:"line"},"│   └── zap.go"),xr("\n"),br("span",{class:"line"},"├── log                       # 日志文件"),xr("\n"),br("span",{class:"line"},"│   └── tinyURL.log"),xr("\n"),br("span",{class:"line"},"├── main.go                   # 应用入口"),xr("\n"),br("span",{class:"line"},"├── model"),xr("\n"),br("span",{class:"line"},"│   ├── dao"),xr("\n"),br("span",{class:"line"},"│   │   └── tinyURL.go"),xr("\n"),br("span",{class:"line"},"│   ├── request"),xr("\n"),br("span",{class:"line"},"│   │   ├── Email.go"),xr("\n"),br("span",{class:"line"},"│   │   └── URL.go"),xr("\n"),br("span",{class:"line"},"│   └── URL.go"),xr("\n"),br("span",{class:"line"},"├── README.md"),xr("\n"),br("span",{class:"line"},"├── router"),xr("\n"),br("span",{class:"line"},"│   └── router.go"),xr("\n"),br("span",{class:"line"},"├── tinyURL"),xr("\n"),br("span",{class:"line"},"├── utils                     # 工具集"),xr("\n"),br("span",{class:"line"},"│   ├── Base62.go"),xr("\n"),br("span",{class:"line"},"│   ├── email.go"),xr("\n"),br("span",{class:"line"},"│   ├── errCode"),xr("\n"),br("span",{class:"line"},"│   │   ├── common_code.go"),xr("\n"),br("span",{class:"line"},"│   │   └── errCode.go"),xr("\n"),br("span",{class:"line"},"│   ├── qrcode"),xr("\n"),br("span",{class:"line"},"│   │   └── qrcode.go"),xr("\n"),br("span",{class:"line"},"│   ├── sha1.go"),xr("\n"),br("span",{class:"line"},"│   └── validate.go"),xr("\n"),br("span",{class:"line"},"└── wait-for.sh")])])],-1);rn();const Qp={expose:[],setup(e){const t={};return(e,n)=>(dr(),hr(mu,t,{default:Jp((()=>[Zp])),_:1},16))},__scopeId:"data-v-0327e414"};const ed=on();nn("data-v-f4e0af16");const td=br("div",null,[br("h1",null,"Server"),br("p",null,"其中最为核心的短链接生成原理如下： 利用 Mysql 的自增 ID，将此 ID 与原网址进行一一映射，最后对该 ID 进行 Base64 转换，即可得到转换后的短链接码，接口逻辑函数如下:"),br("pre",{class:"slidev-code language-go"},[br("code",null,[br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[br("span",{class:"token keyword"},"func"),xr(),br("span",{class:"token function"},"Long2ShortURL"),br("span",{class:"token punctuation"},"("),xr("c "),br("span",{class:"token operator"},"*"),xr("gin"),br("span",{class:"token punctuation"},"."),xr("Context"),br("span",{class:"token punctuation"},")"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("\t"),br("span",{class:"token keyword"},"var"),xr(" u request"),br("span",{class:"token punctuation"},"."),xr("URLInfo")]),xr("\n"),br("span",{class:"line"},[xr("\terr "),br("span",{class:"token operator"},":="),xr(" c"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"BindJSON"),br("span",{class:"token punctuation"},"("),br("span",{class:"token operator"},"&"),xr("u"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("\tok"),br("span",{class:"token punctuation"},","),xr(" msg "),br("span",{class:"token operator"},":="),xr(" utils"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"Valid"),br("span",{class:"token punctuation"},"("),xr("err"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("\t"),br("span",{class:"token keyword"},"if"),xr(),br("span",{class:"token operator"},"!"),xr("ok "),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("\t\terrCode"),br("span",{class:"token punctuation"},"."),xr("InvalidParams"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"WithDetails"),br("span",{class:"token punctuation"},"("),xr("msg"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"ResponseJson"),br("span",{class:"token punctuation"},"("),xr("c"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("\t\tglobal"),br("span",{class:"token punctuation"},"."),xr("LOGGER"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"Warn"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"入参错误"'),br("span",{class:"token punctuation"},","),xr(" zap"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"Error"),br("span",{class:"token punctuation"},"("),xr("err"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("\t\t"),br("span",{class:"token keyword"},"return")]),xr("\n"),br("span",{class:"line"},[xr("\t"),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"}),xr("\n"),br("span",{class:"line"},[xr("\turl "),br("span",{class:"token operator"},":="),xr(" model"),br("span",{class:"token punctuation"},"."),xr("URLInfo"),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("\t\tModel"),br("span",{class:"token punctuation"},":"),xr("   gorm"),br("span",{class:"token punctuation"},"."),xr("Model"),br("span",{class:"token punctuation"},"{"),br("span",{class:"token punctuation"},"}"),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"},[xr("\t\tURL"),br("span",{class:"token punctuation"},":"),xr("     u"),br("span",{class:"token punctuation"},"."),xr("URL"),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"},[xr("\t\tURLCode"),br("span",{class:"token punctuation"},":"),xr(),br("span",{class:"token string"},'""'),br("span",{class:"token punctuation"},",")]),xr("\n"),br("span",{class:"line"},[xr("\t"),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("\t"),br("span",{class:"token keyword"},"var"),xr(" urlCode "),br("span",{class:"token builtin"},"string")]),xr("\n"),br("span",{class:"line"},[xr("\turlCode"),br("span",{class:"token punctuation"},","),xr(" err "),br("span",{class:"token operator"},"="),xr(" dao"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"GenderURLCode"),br("span",{class:"token punctuation"},"("),br("span",{class:"token operator"},"&"),xr("url"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("\t"),br("span",{class:"token keyword"},"if"),xr(" err "),br("span",{class:"token operator"},"!="),xr(),br("span",{class:"token boolean"},"nil"),xr(),br("span",{class:"token punctuation"},"{")]),xr("\n"),br("span",{class:"line"},[xr("\t\terrCode"),br("span",{class:"token punctuation"},"."),xr("GenderURLError"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"ResponseJson"),br("span",{class:"token punctuation"},"("),xr("c"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("\t\tglobal"),br("span",{class:"token punctuation"},"."),xr("LOGGER"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"Error"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"短链生成失败"'),br("span",{class:"token punctuation"},","),xr(" zap"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"Error"),br("span",{class:"token punctuation"},"("),xr("err"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("\t\t"),br("span",{class:"token keyword"},"return")]),xr("\n"),br("span",{class:"line"},[xr("\t"),br("span",{class:"token punctuation"},"}")]),xr("\n"),br("span",{class:"line"},[xr("\ttinyUrl "),br("span",{class:"token operator"},":="),xr(" fmt"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"Sprintf"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"http://%s:%d/l/%s"'),br("span",{class:"token punctuation"},","),xr(" global"),br("span",{class:"token punctuation"},"."),xr("APPCONF"),br("span",{class:"token punctuation"},"."),xr("Host"),br("span",{class:"token punctuation"},","),xr(" global"),br("span",{class:"token punctuation"},"."),xr("APPCONF"),br("span",{class:"token punctuation"},"."),xr("Port"),br("span",{class:"token punctuation"},","),xr(" urlCode"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("\terrCode"),br("span",{class:"token punctuation"},"."),xr("Success"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"WithData"),br("span",{class:"token punctuation"},"("),xr("tinyUrl"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"ResponseJson"),br("span",{class:"token punctuation"},"("),xr("c"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[xr("\tglobal"),br("span",{class:"token punctuation"},"."),xr("LOGGER"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"Info"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"短链生成成功"'),br("span",{class:"token punctuation"},","),xr(" zap"),br("span",{class:"token punctuation"},"."),br("span",{class:"token function"},"String"),br("span",{class:"token punctuation"},"("),br("span",{class:"token string"},'"短链"'),br("span",{class:"token punctuation"},","),xr(" urlCode"),br("span",{class:"token punctuation"},")"),br("span",{class:"token punctuation"},")")]),xr("\n"),br("span",{class:"line"},[br("span",{class:"token punctuation"},"}")])])])],-1);rn();const nd={expose:[],setup(e){const t={};return(e,n)=>(dr(),hr(mu,t,{default:ed((()=>[td])),_:1},16))},__scopeId:"data-v-f4e0af16"},rd=br("div",null,[br("h2",null,"layout: center"),br("h1",null,"End")],-1);const od=[{path:"1",name:"page-1",component:hu,meta:{theme:"seriph",class:"text-center",highlighter:"prism",slide:{start:0,end:8,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:0,no:1}}},{path:"2",name:"page-2",component:yu,meta:{slide:{start:9,end:32,note:"Room\nRoom 持久性库在 SQLite 的基础上提供了一个抽象层，让用户能够在充分利用 SQLite 的强大功能的同时，获享更强健的数据库访问机制。\n该库可帮助使用者在运行应用的设备上创建应用数据的缓存。此缓存充当应用的单一可信来源，使用户能够在应用中查看关键信息的一致副本，无论用户是否具有互联网连接。\n\nRetrofit\nRetrofit 和 Java 领域的 ORM 概念类似， ORM 把结构化数据转换为 Java 对象，而 Retrofit 把 REST API 返回的数据转化为 Java 对象方便操作。同时还封装了网络代码的调用。\n\nFastJson\nFastJson 是阿里巴巴的开源 JSON 解析库，它可以解析 JSON 格式的字符串，支持将 Java Bean 序列化为 JSON 字符串，也可以从 JSON 字符串反序列化到 JavaBean。",file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:1,no:2}}},{path:"3",name:"page-3",component:bu,meta:{slide:{start:33,end:46,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:2,no:3}}},{path:"4",name:"page-4",component:Su,meta:{slide:{start:47,end:87,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:3,no:4}}},{path:"5",name:"page-5",component:Mu,meta:{slide:{start:88,end:99,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:4,no:5}}},{path:"6",name:"page-6",component:Au,meta:{slide:{start:100,end:139,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:5,no:6}}},{path:"7",name:"page-7",component:Op,meta:{slide:{start:140,end:227,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:6,no:7}}},{path:"8",name:"page-8",component:Dp,meta:{slide:{start:228,end:267,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:7,no:8}}},{path:"9",name:"page-9",component:Ip,meta:{slide:{start:268,end:337,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:8,no:9}}},{path:"10",name:"page-10",component:Pp,meta:{slide:{start:338,end:387,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:9,no:10}}},{path:"11",name:"page-11",component:Wp,meta:{slide:{start:388,end:458,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:10,no:11}}},{path:"12",name:"page-12",component:Gp,meta:{slide:{start:459,end:525,note:"而 renderer 层向 app 通信也变得十分简单。只需 emit 事件即可，以 DELETE_MANY 为例。",file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:11,no:12}}},{path:"13",name:"page-13",component:Xp,meta:{slide:{start:526,end:537,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:12,no:13}}},{path:"14",name:"page-14",component:Qp,meta:{slide:{start:538,end:606,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:13,no:14}}},{path:"15",name:"page-15",component:nd,meta:{slide:{start:607,end:651,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:14,no:15}}},{path:"16",name:"page-16",component:{expose:[],setup(e){const t={};return(e,n)=>(dr(),hr(mu,t,{default:an((()=>[rd])),_:1},16))}},meta:{slide:{start:652,end:657,file:"/Users/xiaoxun/github/playground/short_url_generator/slidev/slides.md",id:15,no:16}}},{path:"17",component:cu,meta:{layout:"end"}}],ad=[{name:"play",path:"/",component:lu,children:[...od]},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}}],id=function(e){const t=Ei(e.routes,e);let n=e.parseQuery||es,r=e.stringifyQuery||ts,o=e.history;const a=rs(),i=rs(),s=rs(),l=ht(yi);let c=yi;qa&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ka.bind(null,(e=>""+e)),p=Ka.bind(null,Zi),d=Ka.bind(null,Qi);function f(e,a){if(a=Ga({},a||l.value),"string"==typeof e){let r=Ja(n,e,a.path),i=t.resolve({path:r.path},a),s=o.createHref(r.fullPath);return Ga(r,i,{params:d(i.params),hash:Qi(r.hash),redirectedFrom:void 0,href:s})}let i;"path"in e?i=Ga({},e,{path:Ja(n,e.path,a.path).path}):(i=Ga({},e,{params:p(e.params)}),a.params=p(a.params));let s=t.resolve(i,a);const c=e.hash||"";s.params=u(d(s.params));const f=function(e,t){let n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,Ga({},e,{hash:(h=c,Xi(h).replace(qi,"{").replace(Ki,"}").replace(Vi,"^")),path:s.path}));var h;let m=o.createHref(f);return Ga({fullPath:f,hash:c,query:r===ts?ns(e.query):e.query},s,{redirectedFrom:void 0,href:m})}function h(e){return"string"==typeof e?Ja(n,e,l.value.path):Ga({},e)}function m(e,t){if(c!==e)return xi(8,{from:t,to:e})}function g(e){return y(e)}function v(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=h(r):{path:r}),Ga({query:e.query,hash:e.hash,params:e.params},r)}}function y(e,t){const n=c=f(e),o=l.value,a=e.state,i=e.force,s=!0===e.replace,u=v(n);if(u)return y(Ga(h(u),{state:a,force:i,replace:s}),t||n);const p=n;let d;return p.redirectedFrom=t,!i&&function(e,t,n){let r=t.matched.length-1,o=n.matched.length-1;return r>-1&&r===o&&Qa(t.matched[r],n.matched[o])&&ei(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,o,n)&&(d=xi(16,{to:p,from:o}),R(o,o,!0,!1)),(d?Promise.resolve(d):b(p,o)).catch((e=>Si(e)?e:A(e))).then((e=>{if(e){if(Si(e,2))return y(Ga(h(e.to),{state:a,force:i,replace:s}),t||p)}else e=x(p,o,!0,s,a);return w(p,o,e),e}))}function k(e,t){const n=m(e,t);return n?Promise.reject(n):Promise.resolve()}function b(e,t){let n;const[r,o,s]=function(e,t){const n=[],r=[],o=[],a=Math.max(t.matched.length,e.matched.length);for(let i=0;i<a;i++){const a=t.matched[i];a&&(e.matched.find((e=>Qa(e,a)))?r.push(a):n.push(a));const s=e.matched[i];s&&(t.matched.find((e=>Qa(e,s)))||o.push(s))}return[n,r,o]}(e,t);n=as(r.reverse(),"beforeRouteLeave",e,t);for(const a of r)a.leaveGuards.forEach((r=>{n.push(os(r,e,t))}));const l=k.bind(null,e,t);return n.push(l),ds(n).then((()=>{n=[];for(const r of a.list())n.push(os(r,e,t));return n.push(l),ds(n)})).then((()=>{n=as(o,"beforeRouteUpdate",e,t);for(const r of o)r.updateGuards.forEach((r=>{n.push(os(r,e,t))}));return n.push(l),ds(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&t.matched.indexOf(r)<0)if(Array.isArray(r.beforeEnter))for(const o of r.beforeEnter)n.push(os(o,e,t));else n.push(os(r.beforeEnter,e,t));return n.push(l),ds(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=as(s,"beforeRouteEnter",e,t),n.push(l),ds(n)))).then((()=>{n=[];for(const r of i.list())n.push(os(r,e,t));return n.push(l),ds(n)})).catch((e=>Si(e,8)?e:Promise.reject(e)))}function w(e,t,n){for(const r of s.list())r(e,t,n)}function x(e,t,n,r,a){const i=m(e,t);if(i)return i;const s=t===yi,c=qa?history.state:{};n&&(r||s?o.replace(e.fullPath,Ga({scroll:s&&c&&c.scroll},a)):o.push(e.fullPath,a)),l.value=e,R(e,t,n,s),O()}let S;function C(){S=o.listen(((e,t,n)=>{let r=f(e);const a=v(r);if(a)return void y(Ga(a,{replace:!0}),r).catch(Ya);c=r;const i=l.value;var s,u;qa&&(s=di(i.fullPath,n.delta),u=ui(),fi.set(s,u)),b(r,i).catch((e=>Si(e,12)?e:Si(e,2)?(y(e.to,r).catch(Ya),Promise.reject()):(n.delta&&o.go(-n.delta,!1),A(e)))).then((e=>{(e=e||x(r,i,!1))&&n.delta&&o.go(-n.delta,!1),w(r,i,e)})).catch(Ya)}))}let M,T=rs(),L=rs();function A(e){return O(e),L.list().forEach((t=>t(e))),Promise.reject(e)}function O(e){M||(M=!0,C(),T.list().forEach((([t,n])=>e?n(e):t())),T.reset())}function R(t,n,r,o){const{scrollBehavior:a}=e;if(!qa||!a)return Promise.resolve();let i=!r&&function(e){const t=fi.get(e);return fi.delete(e),t}(di(t.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return Pt().then((()=>a(t,n,i))).then((e=>e&&pi(e))).catch(A)}const E=e=>o.go(e);let D;const F=new Set;return{currentRoute:l,addRoute:function(e,n){let r,o;return vi(e)?(r=t.getRecordMatcher(e),o=n):o=e,t.addRoute(o,r)},removeRoute:function(e){let n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((e=>e.record))},resolve:f,options:e,push:g,replace:function(e){return g(Ga(h(e),{replace:!0}))},go:E,back:()=>E(-1),forward:()=>E(1),beforeEach:a.add,beforeResolve:i.add,afterEach:s.add,onError:L.add,isReady:function(){return M&&l.value!==yi?Promise.resolve():new Promise(((e,t)=>{T.add([e,t])}))},install(e){e.component("RouterLink",ss),e.component("RouterView",ps),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>vt(l)}),qa&&!D&&l.value===yi&&(D=!0,g(o.location).catch((e=>{})));const t={};for(let r in yi)t[r]=Zr((()=>l.value[r]));e.provide(Ha,this),e.provide(Va,ot(t)),e.provide($a,l);let n=e.unmount;F.add(e),e.unmount=function(){F.delete(e),F.size<1&&(S(),l.value=yi,D=!1,M=!1),n()}}}}({history:function(e){const t=gi(e=si(e)),n=function(e,t,n,r){let o=[],a=[],i=null;const s=({state:a})=>{const s=hi(e,location),l=n.value,c=t.value;let u=0;if(a){if(n.value=s,t.value=a,i&&i===l)return void(i=null);u=c?a.position-c.position:0}else r(s);o.forEach((e=>{e(n.value,l,{delta:u,type:ri.pop,direction:u?u>0?ai.forward:ai.back:ai.unknown})}))};function l(){const{history:e}=window;e.state&&e.replaceState(Ga({},e.state,{scroll:ui()}),"")}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",l),{pauseListeners:function(){i=n.value},listen:function(e){o.push(e);const t=()=>{const t=o.indexOf(e);t>-1&&o.splice(t,1)};return a.push(t),t},destroy:function(){for(const e of a)e();a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",l)}}}(e,t.state,t.location,t.replace),r=Ga({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:ci.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}(""),routes:ad}),sd=Zr((()=>id.currentRoute.value)),ld=Zr((()=>sd.value.path.startsWith("/presenter"))),cd=Zr((()=>od.length-1)),ud=Zr((()=>sd.value.path)),pd=Zr((()=>parseInt(ud.value.split(/\//g).slice(-1)[0])||1)),dd=Zr((()=>Sd(pd.value))),fd=Zr((()=>od.find((e=>e.path===`${pd.value}`)))),hd=Zr((()=>{var e,t,n;return null==(n=null==(t=null==(e=fd.value)?void 0:e.meta)?void 0:t.slide)?void 0:n.id})),md=Zr((()=>pd.value<od.length-1)),gd=Zr((()=>pd.value>1)),vd=Zr((()=>od.find((e=>e.path===`${Math.min(od.length,pd.value+1)}`)))),yd=ft([]),kd=Zr({get(){let e=+Sa.clicks||0;return isNaN(e)&&(e=0),e},set(e){Sa.clicks=e.toString()}}),bd=Zr((()=>{var e,t,n;return+(null!=(n=null==(t=null==(e=fd.value)?void 0:e.meta)?void 0:t.clicks)?n:yd.value.length)}));function wd(){bd.value<=kd.value?Cd():kd.value+=1}async function xd(){kd.value<=0?await Md():kd.value-=1}function Sd(e){return ld.value?`/presenter/${e}`:`/${e}`}function Cd(){return Td(Math.min(od.length,pd.value+1))}async function Md(e=!0){const t=Math.max(1,pd.value-1);await Td(t),e&&(kd.value=bd.value)}function Td(e){return kd.value=0,id.push(Sd(e))}function Ld(e){const t=ft(0),{direction:n,lengthX:r,lengthY:o}=ga(e,{onSwipeStart(){t.value=+Date.now()},onSwipeEnd(){if(!t.value)return;const e=Math.abs(r.value),a=Math.abs(o.value);e/window.innerWidth>.3||e>100?n.value===ha.LEFT?wd():xd():(a/window.innerHeight>.4||a>200)&&(n.value===ha.DOWN?Md():Cd())}})}async function Ad(){const{saveAs:e}=await import("./FileSaver.min.35581110.js").then((function(e){return e.F}));e(Vo(hs.download)?hs.download:"slidev-exported.pdf",`${hs.title}.pdf`)}var Od=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",rawRoutes:od,route:sd,isPresenter:ld,total:cd,path:ud,currentPage:pd,currentPath:dd,currentRoute:fd,currentSlideId:hd,hasNext:md,hasPrev:gd,nextRoute:vd,clicksElements:yd,clicks:kd,clicksTotal:bd,next:wd,prev:xd,getPath:Sd,nextSlide:Cd,prevSlide:Md,go:Td,useSwipeControls:Ld,downloadPDF:Ad});const Rd=ft({page:0,clicks:0});function Ed(){function e(){ld.value&&(Rd.value.page=+pd.value,Rd.value.clicks=kd.value)}(e=>{const t=ft(e),n=jo();n.addHeadObjs(t),zo&&(En((()=>{n.updateDOM()})),Ln((()=>{n.removeHeadObjs(t),n.updateDOM()})))})({title:fs.title?`${fs.title} - Slidev`:"Slidev"}),id.afterEach(e),id.isReady().then((()=>{Fn(Rd,(()=>{ld.value||(+Rd.value.page!=+pd.value&&id.replace(Sd(Rd.value.page)),kd.value=Rd.value.clicks||0)}),{deep:!0})})),Fn(kd,e)}var Dd=Xn({expose:[],setup:e=>(Ed(),(e,t)=>{const n=or("components",r="RouterView",!0,o)||r;var r,o;return dr(),hr(n)})});function Fd(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function Nd(e,t){Array.isArray(e)?e.splice(t,1):delete e[t]}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Id=function(){return(Id=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function jd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}var _d=function(e,t,n){return Math.min(Math.max(n,e),t)};function Pd(e){var t,n,r=e.duration,o=void 0===r?800:r,a=e.bounce,i=void 0===a?.25:a,s=e.velocity,l=void 0===s?0:s,c=e.mass,u=void 0===c?1:c,p=1-i;p=_d(.05,1,p),o=_d(.01,10,o/1e3),p<1?(t=function(e){var t=e*p,n=t*o;return.001-(t-l)/zd(e,p)*Math.exp(-n)},n=function(e){var n=e*p*o,r=n*l+l,a=Math.pow(p,2)*Math.pow(e,2)*o,i=Math.exp(-n),s=zd(Math.pow(e,2),p);return(.001-t(e)>0?-1:1)*((r-a)*i)/s}):(t=function(e){return Math.exp(-e*o)*((e-l)*o+1)-.001},n=function(e){return Math.exp(-e*o)*(o*o*(l-e))});var d=function(e,t,n){for(var r=n,o=1;o<12;o++)r-=e(r)/t(r);return r}(t,n,5/o);if(o*=1e3,isNaN(d))return{stiffness:100,damping:10,duration:o};var f=Math.pow(d,2)*u;return{stiffness:f,damping:2*p*Math.sqrt(u*f),duration:o}}function zd(e,t){return e*Math.sqrt(1-t*t)}var Bd=["duration","bounce"],Wd=["stiffness","damping","mass"];function Ud(e,t){return t.some((function(t){return void 0!==e[t]}))}function Hd(e){var t=e.from,n=void 0===t?0:t,r=e.to,o=void 0===r?1:r,a=e.restSpeed,i=void 0===a?2:a,s=e.restDelta,l=jd(e,["from","to","restSpeed","restDelta"]),c={done:!1,value:n},u=function(e){var t=Id({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Ud(e,Wd)&&Ud(e,Bd)){var n=Pd(e);(t=Id(Id(Id({},t),n),{velocity:0,mass:1})).isResolvedFromDuration=!0}return t}(l),p=u.stiffness,d=u.damping,f=u.mass,h=u.velocity,m=u.duration,g=u.isResolvedFromDuration,v=Vd,y=Vd;function k(){var e=h?-h/1e3:0,t=o-n,r=d/(2*Math.sqrt(p*f)),a=Math.sqrt(p/f)/1e3;if(null!=s||(s=Math.abs(o-n)<=1?.01:.4),r<1){var i=zd(a,r);v=function(n){var s=Math.exp(-r*a*n);return o-s*((e+r*a*t)/i*Math.sin(i*n)+t*Math.cos(i*n))},y=function(n){var o=Math.exp(-r*a*n);return r*a*o*(Math.sin(i*n)*(e+r*a*t)/i+t*Math.cos(i*n))-o*(Math.cos(i*n)*(e+r*a*t)-i*t*Math.sin(i*n))}}else if(1===r)v=function(n){return o-Math.exp(-a*n)*(t+(e+a*t)*n)};else{var l=a*Math.sqrt(r*r-1);v=function(n){var i=Math.exp(-r*a*n),s=Math.min(l*n,300);return o-i*((e+r*a*t)*Math.sinh(s)+l*t*Math.cosh(s))/l}}}return k(),{next:function(e){var t=v(e);if(g)c.done=e>=m;else{var n=1e3*y(e),r=Math.abs(n)<=i,a=Math.abs(o-t)<=s;c.done=r&&a}return c.value=c.done?o:t,c},flipTarget:function(){var e;h=-h,n=(e=[o,n])[0],o=e[1],k()}}}Hd.needsInterpolation=function(e,t){return"string"==typeof e||"string"==typeof t};var Vd=function(e){return 0},$d=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},qd=function(e,t,n){return-n*e+n*t+e},Gd=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},Kd=function(e){return e%1?Number(e.toFixed(5)):e},Yd=/(-)?([\d]*\.?[\d])+/g,Xd=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Jd=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Zd(e){return"string"==typeof e}var Qd={test:function(e){return"number"==typeof e},parse:parseFloat,transform:function(e){return e}},ef=Id(Id({},Qd),{transform:Gd(0,1)});Id(Id({},Qd),{default:1});var tf,nf=(tf="%",{test:function(e){return Zd(e)&&e.endsWith(tf)&&1===e.split(" ").length},parse:parseFloat,transform:function(e){return""+e+tf}});Id(Id({},nf),{parse:function(e){return nf.parse(e)/100},transform:function(e){return nf.transform(100*e)}});var rf=function(e,t){return function(n){return Boolean(Zd(n)&&Jd.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},of=function(e,t,n){return function(r){var o;if(!Zd(r))return r;var a=r.match(Yd),i=a[0],s=a[1],l=a[2],c=a[3];return(o={})[e]=parseFloat(i),o[t]=parseFloat(s),o[n]=parseFloat(l),o.alpha=void 0!==c?parseFloat(c):1,o}},af={test:rf("hsl","hue"),parse:of("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,o=e.alpha,a=void 0===o?1:o;return"hsla("+Math.round(t)+", "+nf.transform(Kd(n))+", "+nf.transform(Kd(r))+", "+Kd(ef.transform(a))+")"}},sf=Gd(0,255),lf=Id(Id({},Qd),{transform:function(e){return Math.round(sf(e))}}),cf={test:rf("rgb","red"),parse:of("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,o=e.alpha,a=void 0===o?1:o;return"rgba("+lf.transform(t)+", "+lf.transform(n)+", "+lf.transform(r)+", "+Kd(ef.transform(a))+")"}};var uf={test:rf("#"),parse:function(e){var t="",n="",r="",o="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),o=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),o=e.substr(4,1),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:cf.transform},pf=function(e){return cf.test(e)||uf.test(e)||af.test(e)},df=function(e){return cf.test(e)?cf.parse(e):af.test(e)?af.parse(e):uf.parse(e)},ff=function(e){return Zd(e)?e:e.hasOwnProperty("red")?cf.transform(e):af.transform(e)};function hf(e){var t=[],n=0,r=e.match(Xd);r&&(n=r.length,e=e.replace(Xd,"${c}"),t.push.apply(t,r.map(df)));var o=e.match(Yd);return o&&(e=e.replace(Yd,"${n}"),t.push.apply(t,o.map(Qd.parse))),{values:t,numColors:n,tokenised:e}}function mf(e){return hf(e).values}function gf(e){var t=hf(e),n=t.values,r=t.numColors,o=t.tokenised,a=n.length;return function(e){for(var t=o,n=0;n<a;n++)t=t.replace(n<r?"${c}":"${n}",n<r?ff(e[n]):Kd(e[n]));return t}}var vf=function(e){return"number"==typeof e?0:e};var yf={test:function(e){var t,n,r,o;return isNaN(e)&&Zd(e)&&(null!==(n=null===(t=e.match(Yd))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(o=null===(r=e.match(Xd))||void 0===r?void 0:r.length)&&void 0!==o?o:0)>0},parse:mf,createTransformer:gf,getAnimatableNone:function(e){var t=mf(e);return gf(e)(t.map(vf))}},kf=function(e,t,n){var r=e*e,o=t*t;return Math.sqrt(Math.max(0,n*(o-r)+r))},bf=[uf,cf,af],wf=function(e){return bf.find((function(t){return t.test(e)}))},xf=function(e,t){var n=wf(e),r=wf(t);n.transform,r.transform;var o=n.parse(e),a=r.parse(t),i=Id({},o),s=n===af?qd:kf;return function(e){for(var t in i)"alpha"!==t&&(i[t]=s(o[t],a[t],e));return i.alpha=qd(o.alpha,a.alpha,e),n.transform(i)}},Sf=function(e,t){return function(n){return t(e(n))}},Cf=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(Sf)};function Mf(e,t){return"number"==typeof e?function(n){return qd(e,t,n)}:pf(e)?xf(e,t):Of(e,t)}var Tf=function(e,t){var n=function(e,t){for(var n=0,r=t.length,o=e.length;n<r;n++,o++)e[o]=t[n];return e}([],e),r=n.length,o=e.map((function(e,n){return Mf(e,t[n])}));return function(e){for(var t=0;t<r;t++)n[t]=o[t](e);return n}},Lf=function(e,t){var n=Id(Id({},e),t),r={};for(var o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=Mf(e[o],t[o]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function Af(e){for(var t=yf.parse(e),n=t.length,r=0,o=0,a=0,i=0;i<n;i++)r||"number"==typeof t[i]?r++:void 0!==t[i].hue?a++:o++;return{parsed:t,numNumbers:r,numRGB:o,numHSL:a}}var Of=function(e,t){var n=yf.createTransformer(t),r=Af(e),o=Af(t);return Cf(Tf(r.parsed,o.parsed),n)},Rf=function(e,t){return function(n){return qd(e,t,n)}};function Ef(e,t,n){for(var r,o=[],a=n||("number"==typeof(r=e[0])?Rf:"string"==typeof r?pf(r)?xf:Of:Array.isArray(r)?Tf:"object"==typeof r?Lf:void 0),i=e.length-1,s=0;s<i;s++){var l=a(e[s],e[s+1]);if(t){var c=Array.isArray(t)?t[s]:t;l=Cf(c,l)}o.push(l)}return o}function Df(e,t,n){var r=void 0===n?{}:n,o=r.clamp,a=void 0===o||o,i=r.ease,s=r.mixer,l=e.length;t.length,!i||!Array.isArray(i)||i.length,e[0]>e[l-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var c=Ef(t,i,s),u=2===l?function(e,t){var n=e[0],r=e[1],o=t[0];return function(e){return o($d(n,r,e))}}(e,c):function(e,t){var n=e.length,r=n-1;return function(o){var a=0,i=!1;if(o<=e[0]?i=!0:o>=e[r]&&(a=r-1,i=!0),!i){for(var s=1;s<n&&!(e[s]>o||s===r);s++);a=s-1}var l=$d(e[a],e[a+1],o);return t[a](l)}}(e,c);return a?function(t){return u(_d(e[0],e[l-1],t))}:u}var Ff,Nf=function(e){return function(t){return 1-e(1-t)}},If=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},jf=function(e){return function(t){return t*t*((e+1)*t-e)}},_f=function(e){return e},Pf=(Ff=2,function(e){return Math.pow(e,Ff)}),zf=Nf(Pf),Bf=If(Pf),Wf=function(e){return 1-Math.sin(Math.acos(e))},Uf=Nf(Wf),Hf=If(Uf),Vf=jf(1.525),$f=Nf(Vf),qf=If(Vf),Gf=function(e){var t=jf(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}}(1.525),Kf=function(e){if(1===e||0===e)return e;var t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},Yf=Nf(Kf);function Xf(e,t){return e.map((function(){return t||Bf})).splice(0,e.length-1)}function Jf(e){var t=e.from,n=void 0===t?0:t,r=e.to,o=void 0===r?1:r,a=e.ease,i=e.offset,s=e.duration,l=void 0===s?300:s,c={done:!1,value:n},u=Array.isArray(o)?o:[n,o],p=function(e,t){return e.map((function(e){return e*t}))}(i&&i.length===u.length?i:function(e){var t=e.length;return e.map((function(e,n){return 0!==n?n/(t-1):0}))}(u),l);function d(){return Df(p,u,{ease:Array.isArray(a)?a:Xf(u,a)})}var f=d();return{next:function(e){return c.value=f(e),c.done=e>=l,c},flipTarget:function(){u.reverse(),f=d()}}}var Zf={keyframes:Jf,spring:Hd,decay:function(e){var t=e.velocity,n=void 0===t?0:t,r=e.from,o=void 0===r?0:r,a=e.power,i=void 0===a?.8:a,s=e.timeConstant,l=void 0===s?350:s,c=e.restDelta,u=void 0===c?.5:c,p=e.modifyTarget,d={done:!1,value:o},f=i*n,h=o+f,m=void 0===p?h:p(h);return m!==h&&(f=m-o),{next:function(e){var t=-f*Math.exp(-e/l);return d.done=!(t>u||t<-u),d.value=d.done?m:m+t,d},flipTarget:function(){}}}};var Qf="undefined"!=typeof performance?function(){return performance.now()}:function(){return Date.now()},eh="undefined"!=typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(Qf())}),16.666666666666668)};var th=!0,nh=!1,rh=!1,oh={delta:0,timestamp:0},ah=["read","update","preRender","render","postRender"],ih=ah.reduce((function(e,t){var n,r,o,a,i,s,l;return e[t]=(n=function(){return nh=!0},r=[],o=[],a=0,i=!1,s=new WeakSet,l={schedule:function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var l=n&&i,c=l?r:o;return t&&s.add(e),-1===c.indexOf(e)&&(c.push(e),l&&i&&(a=r.length)),e},cancel:function(e){var t=o.indexOf(e);-1!==t&&o.splice(t,1),s.delete(e)},process:function(e){var t;if(i=!0,r=(t=[o,r])[0],(o=t[1]).length=0,a=r.length)for(var c=0;c<a;c++){var u=r[c];u(e),s.has(u)&&(l.schedule(u),n())}i=!1}}),e}),{}),sh=ah.reduce((function(e,t){var n=ih[t];return e[t]=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),nh||ph(),n.schedule(e,t,r)},e}),{}),lh=ah.reduce((function(e,t){return e[t]=ih[t].cancel,e}),{}),ch=function(e){return ih[e].process(oh)},uh=function(e){nh=!1,oh.delta=th?16.666666666666668:Math.max(Math.min(e-oh.timestamp,40),1),oh.timestamp=e,rh=!0,ah.forEach(ch),rh=!1,nh&&(th=!1,eh(uh))},ph=function(){nh=!0,th=!0,rh||eh(uh)};function dh(e,t,n){return void 0===n&&(n=0),e-t-n}var fh=function(e){var t=function(t){var n=t.delta;return e(n)};return{start:function(){return sh.update(t,!0)},stop:function(){return lh.update(t)}}};function hh(e){var t,n,r,o,a,i=e.from,s=e.autoplay,l=void 0===s||s,c=e.driver,u=void 0===c?fh:c,p=e.elapsed,d=void 0===p?0:p,f=e.repeat,h=void 0===f?0:f,m=e.repeatType,g=void 0===m?"loop":m,v=e.repeatDelay,y=void 0===v?0:v,k=e.onPlay,b=e.onStop,w=e.onComplete,x=e.onRepeat,S=e.onUpdate,C=jd(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]),M=C.to,T=0,L=C.duration,A=!1,O=!0,R=function(e){if(Array.isArray(e.to))return Jf;if(Zf[e.type])return Zf[e.type];var t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Jf:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?Hd:Jf}(C);(null===(n=(t=R).needsInterpolation)||void 0===n?void 0:n.call(t,i,M))&&(a=Df([0,100],[i,M],{clamp:!1}),i=0,M=100);var E=R(Id(Id({},C),{from:i,to:M}));function D(){T++,"reverse"===g?d=function(e,t,n,r){return void 0===n&&(n=0),void 0===r&&(r=!0),r?dh(t+-e,t,n):t-(e-t)+n}(d,L,y,O=T%2==0):(d=dh(d,L,y),"mirror"===g&&E.flipTarget()),A=!1,x&&x()}function F(e){if(O||(e=-e),d+=e,!A){var t=E.next(Math.max(0,d));o=t.value,a&&(o=a(o)),A=O?t.done:d<=0}null==S||S(o),A&&(0===T&&(null!=L||(L=d)),T<h?function(e,t,n,r){return r?e>=t+n:e<=-n}(d,L,y,O)&&D():(r.stop(),w&&w()))}return l&&(null==k||k(),(r=u(F)).start()),{stop:function(){null==b||b(),r.stop()}}}function mh(e,t){return t?e*(1e3/t):0}function gh(e){var t,n=e.from,r=void 0===n?0:n,o=e.velocity,a=void 0===o?0:o,i=e.min,s=e.max,l=e.power,c=void 0===l?.8:l,u=e.timeConstant,p=void 0===u?750:u,d=e.bounceStiffness,f=void 0===d?500:d,h=e.bounceDamping,m=void 0===h?10:h,g=e.restDelta,v=void 0===g?1:g,y=e.modifyTarget,k=e.driver,b=e.onUpdate,w=e.onComplete;function x(e){return void 0!==i&&e<i||void 0!==s&&e>s}function S(e){return void 0===i?s:void 0===s||Math.abs(i-e)<Math.abs(s-e)?i:s}function C(e){null==t||t.stop(),t=hh(Id(Id({},e),{driver:k,onUpdate:function(t){var n;null==b||b(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:w}))}function M(e){C(Id({type:"spring",stiffness:f,damping:m,restDelta:v},e))}if(x(r))M({from:r,velocity:a,to:S(r)});else{var T=c*a+r;void 0!==y&&(T=y(T));var L,A,O=S(T),R=O===i?-1:1;C({type:"decay",from:r,velocity:a,timeConstant:p,power:c,restDelta:v,modifyTarget:y,onUpdate:x(T)?function(e){L=A,A=e,a=mh(e-L,oh.delta),(1===R&&e>O||-1===R&&e<O)&&M({from:e,to:O,velocity:a})}:void 0})}return{stop:function(){return null==t?void 0:t.stop()}}}var vh=function(e,t){return 1-3*t+3*e},yh=function(e,t){return 3*t-6*e},kh=function(e){return 3*e},bh=function(e,t,n){return((vh(t,n)*e+yh(t,n))*e+kh(t))*e},wh=function(e,t,n){return 3*vh(t,n)*e*e+2*yh(t,n)*e+kh(t)};function xh(e,t,n,r){if(e===t&&n===r)return _f;for(var o=new Float32Array(11),a=0;a<11;++a)o[a]=bh(.1*a,e,n);function i(t){for(var r=0,a=1;10!==a&&o[a]<=t;++a)r+=.1;--a;var i=r+.1*((t-o[a])/(o[a+1]-o[a])),s=wh(i,e,n);return s>=.001?function(e,t,n,r){for(var o=0;o<8;++o){var a=wh(t,n,r);if(0===a)return t;t-=(bh(t,n,r)-e)/a}return t}(t,i,e,n):0===s?i:function(e,t,n,r,o){var a,i,s=0;do{(a=bh(i=t+(n-t)/2,r,o)-e)>0?n=i:t=i}while(Math.abs(a)>1e-7&&++s<10);return i}(t,r,r+.1,e,n)}return function(e){return 0===e||1===e?e:bh(i(e),t,r)}}
/*!
  * @vueuse/motion v1.5.4
  * (c) 2021 
  * @license MIT
  */const Sh={};var Ch="undefined"!=typeof performance?function(){return performance.now()}:function(){return Date.now()},Mh="undefined"!=typeof window?function(e){return window.requestAnimationFrame(e)}:function(e){return setTimeout((function(){return e(Ch())}),16.666666666666668)};var Th=!0,Lh=!1,Ah=!1,Oh={delta:0,timestamp:0},Rh=["read","update","preRender","render","postRender"],Eh=Rh.reduce((function(e,t){var n,r,o,a,i,s,l;return e[t]=(n=function(){return Lh=!0},r=[],o=[],a=0,i=!1,s=new WeakSet,l={schedule:function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var l=n&&i,c=l?r:o;return t&&s.add(e),-1===c.indexOf(e)&&(c.push(e),l&&i&&(a=r.length)),e},cancel:function(e){var t=o.indexOf(e);-1!==t&&o.splice(t,1),s.delete(e)},process:function(e){var t;if(i=!0,r=(t=[o,r])[0],(o=t[1]).length=0,a=r.length)for(var c=0;c<a;c++){var u=r[c];u(e),s.has(u)&&(l.schedule(u),n())}i=!1}}),e}),{}),Dh=Rh.reduce((function(e,t){var n=Eh[t];return e[t]=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!1),Lh||Ih(),n.schedule(e,t,r)},e}),{}),Fh=function(e){return Eh[e].process(Oh)},Nh=function(e){Lh=!1,Oh.delta=Th?16.666666666666668:Math.max(Math.min(e-Oh.timestamp,40),1),Oh.timestamp=e,Ah=!0,Rh.forEach(Fh),Ah=!1,Lh&&(Th=!1,Mh(Nh))},Ih=function(){Lh=!0,Th=!0,Ah||Mh(Nh)};class jh{constructor(){this.subscriptions=new Set}add(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}notify(e,t,n){if(this.subscriptions.size)for(const r of this.subscriptions)r(e,t,n)}clear(){this.subscriptions.clear()}}const _h=e=>!isNaN(parseFloat(e));class Ph{constructor(e){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new jh,this.canTrackVelocity=!1,this.updateAndNotify=e=>{this.prev=this.current,this.current=e;const{delta:t,timestamp:n}=Oh;this.lastUpdated!==n&&(this.timeDelta=t,this.lastUpdated=n),Dh.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>Dh.postRender(this.velocityCheck),this.velocityCheck=({timestamp:e})=>{this.canTrackVelocity||(this.canTrackVelocity=_h(this.current)),e!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=e,this.canTrackVelocity=_h(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}set(e){this.updateAndNotify(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?mh(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise((t=>{const{stop:n}=e(t);this.stopAnimation=n})).then((()=>this.clearAnimation()))}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}const{isArray:zh}=Array;function Bh(){const e={};return{motionValues:e,get:(t,n,r)=>{if(e[t])return e[t];const o=new Ph(n);return o.onChange((e=>{Fd(r,t,e)})),Fd(e,t,o),o},stop:t=>{const n=t=>{e[t]&&(e[t].stop(),e[t].destroy(),Nd(e,t))};t?zh(t)?t.forEach(n):n(t):Object.keys(e).forEach(n)}}}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wh=function(){return(Wh=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},Uh=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},Hh=function(e){return e%1?Number(e.toFixed(5)):e},Vh=/(-)?([\d]*\.?[\d])+/g,$h=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,qh=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Gh(e){return"string"==typeof e}var Kh={test:function(e){return"number"==typeof e},parse:parseFloat,transform:function(e){return e}},Yh=Wh(Wh({},Kh),{transform:Uh(0,1)}),Xh=Wh(Wh({},Kh),{default:1}),Jh=function(e){return{test:function(t){return Gh(t)&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},Zh=Jh("deg"),Qh=Jh("%"),em=Jh("px"),tm=Wh(Wh({},Qh),{parse:function(e){return Qh.parse(e)/100},transform:function(e){return Qh.transform(100*e)}}),nm=function(e,t){return function(n){return Boolean(Gh(n)&&qh.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t))}},rm=function(e,t,n){return function(r){var o;if(!Gh(r))return r;var a=r.match(Vh),i=a[0],s=a[1],l=a[2],c=a[3];return(o={})[e]=parseFloat(i),o[t]=parseFloat(s),o[n]=parseFloat(l),o.alpha=void 0!==c?parseFloat(c):1,o}},om={test:nm("hsl","hue"),parse:rm("hue","saturation","lightness"),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,o=e.alpha,a=void 0===o?1:o;return"hsla("+Math.round(t)+", "+Qh.transform(Hh(n))+", "+Qh.transform(Hh(r))+", "+Hh(Yh.transform(a))+")"}},am=Uh(0,255),im=Wh(Wh({},Kh),{transform:function(e){return Math.round(am(e))}}),sm={test:nm("rgb","red"),parse:rm("red","green","blue"),transform:function(e){var t=e.red,n=e.green,r=e.blue,o=e.alpha,a=void 0===o?1:o;return"rgba("+im.transform(t)+", "+im.transform(n)+", "+im.transform(r)+", "+Hh(Yh.transform(a))+")"}};var lm={test:nm("#"),parse:function(e){var t="",n="",r="",o="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),o=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),o=e.substr(4,1),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:sm.transform},cm={test:function(e){return sm.test(e)||lm.test(e)||om.test(e)},parse:function(e){return sm.test(e)?sm.parse(e):om.test(e)?om.parse(e):lm.parse(e)},transform:function(e){return Gh(e)?e:e.hasOwnProperty("red")?sm.transform(e):om.transform(e)}};function um(e){var t=[],n=0,r=e.match($h);r&&(n=r.length,e=e.replace($h,"${c}"),t.push.apply(t,r.map(cm.parse)));var o=e.match(Vh);return o&&(e=e.replace(Vh,"${n}"),t.push.apply(t,o.map(Kh.parse))),{values:t,numColors:n,tokenised:e}}function pm(e){return um(e).values}function dm(e){var t=um(e),n=t.values,r=t.numColors,o=t.tokenised,a=n.length;return function(e){for(var t=o,n=0;n<a;n++)t=t.replace(n<r?"${c}":"${n}",n<r?cm.transform(e[n]):Hh(e[n]));return t}}var fm=function(e){return"number"==typeof e?0:e};var hm={test:function(e){var t,n,r,o;return isNaN(e)&&Gh(e)&&(null!==(n=null===(t=e.match(Vh))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(o=null===(r=e.match($h))||void 0===r?void 0:r.length)&&void 0!==o?o:0)>0},parse:pm,createTransformer:dm,getAnimatableNone:function(e){var t=pm(e);return dm(e)(t.map(fm))}},mm=new Set(["brightness","contrast","saturate","opacity"]);function gm(e){var t=e.slice(0,-1).split("("),n=t[0],r=t[1];if("drop-shadow"===n)return e;var o=(r.match(Vh)||[])[0];if(!o)return e;var a=r.replace(o,""),i=mm.has(n)?1:0;return o!==r&&(i*=100),n+"("+i+a+")"}var vm=/([a-z-]*)\(.*?\)/g,ym=Wh(Wh({},hm),{getAnimatableNone:function(e){var t=e.match(vm);return t?t.map(gm).join(" "):e}});const km=()=>({type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}),bm=e=>({type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}),wm=()=>({type:"keyframes",ease:"linear",duration:300}),xm=e=>({type:"keyframes",duration:800,values:e}),Sm={default:e=>({type:"spring",stiffness:550,damping:0===e?100:30,restDelta:.01,restSpeed:10}),x:km,y:km,z:km,rotate:km,rotateX:km,rotateY:km,rotateZ:km,scaleX:bm,scaleY:bm,scale:bm,backgroundColor:wm,color:wm,opacity:wm},Cm=(e,t)=>{let n;var r;return r=t,n=Array.isArray(r)?xm:Sm[e]||Sm.default,s({to:t},n(t))},Mm=l(s({},Kh),{transform:Math.round}),Tm={color:cm,backgroundColor:cm,outlineColor:cm,fill:cm,stroke:cm,borderColor:cm,borderTopColor:cm,borderRightColor:cm,borderBottomColor:cm,borderLeftColor:cm,borderWidth:em,borderTopWidth:em,borderRightWidth:em,borderBottomWidth:em,borderLeftWidth:em,borderRadius:em,radius:em,borderTopLeftRadius:em,borderTopRightRadius:em,borderBottomRightRadius:em,borderBottomLeftRadius:em,width:em,maxWidth:em,height:em,maxHeight:em,size:em,top:em,right:em,bottom:em,left:em,padding:em,paddingTop:em,paddingRight:em,paddingBottom:em,paddingLeft:em,margin:em,marginTop:em,marginRight:em,marginBottom:em,marginLeft:em,rotate:Zh,rotateX:Zh,rotateY:Zh,rotateZ:Zh,scale:Xh,scaleX:Xh,scaleY:Xh,scaleZ:Xh,skew:Zh,skewX:Zh,skewY:Zh,distance:em,translateX:em,translateY:em,translateZ:em,x:em,y:em,z:em,perspective:em,transformPerspective:em,opacity:Yh,originX:tm,originY:tm,originZ:em,zIndex:Mm,filter:ym,WebkitFilter:ym,fillOpacity:Yh,strokeOpacity:Yh,numOctaves:Mm},Lm=e=>Tm[e],Am=(e,t)=>t&&"number"==typeof e&&t.transform?t.transform(e):e;const Om={linear:_f,easeIn:Pf,easeInOut:Bf,easeOut:zf,circIn:Wf,circInOut:Hf,circOut:Uf,backIn:Vf,backInOut:qf,backOut:$f,anticipate:Gf,bounceIn:Yf,bounceInOut:function(e){return e<.5?.5*(1-Kf(1-2*e)):.5*Kf(2*e-1)+.5},bounceOut:Kf},Rm=e=>{if(Array.isArray(e)){const[t,n,r,o]=e;return xh(t,n,r,o)}return"string"==typeof e?Om[e]:e},Em=(e,t)=>"zIndex"!==e&&(!("number"!=typeof t&&!Array.isArray(t))||!("string"!=typeof t||!hm.test(t)||t.startsWith("url(")));function Dm(e){var t=e,{ease:n,times:r,delay:o}=t,a=c(t,["ease","times","delay"]);const i=s({},a);return r&&(i.offset=r),n&&(i.ease=(e=>Array.isArray(e)&&"number"!=typeof e[0])(n)?n.map(Rm):Rm(n)),o&&(i.elapsed=-o),i}function Fm(e,t,n){return Array.isArray(t.to)&&(e.duration||(e.duration=800)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=[...e.to],e.to[0]=e.from)}(t),function(e){var t=e,{delay:n,repeat:r,repeatType:o,repeatDelay:a,from:i}=t,s=c(t,["delay","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(s).length}(e)||(e=s(s({},e),Cm(n,t.to))),s(s({},t),Dm(e))}function Nm(e,t,n,r,o){const a=function(e,t){return e[t]||e.default||e}(r,e);let i=null===a.from||void 0===a.from?t.get():a.from;const c=Em(e,n);"none"===i&&c&&"string"==typeof n&&(i=function(e,t){let n=Lm(e);return n!==ym&&(n=hm),n.getAnimatableNone?n.getAnimatableNone(t):void 0}(e,n));return Em(e,i)&&c&&!1!==a.type?function(c){const u={from:i,to:n,velocity:r.velocity?r.velocity:t.getVelocity(),onUpdate:e=>t.set(e)};return"inertia"===a.type||"decay"===a.type?gh(s(s({},u),a)):hh(l(s({},Fm(a,u,e)),{onUpdate:e=>{u.onUpdate(e),a.onUpdate&&a.onUpdate(e)},onComplete:()=>{r.onComplete&&r.onComplete(),o&&o(),c&&c()}}))}:function(e){return t.set(n),r.onComplete&&r.onComplete(),o&&o(),e&&e(),{stop:()=>{}}}}function Im(e,t={},{push:n,stop:r}=function(){const{motionValues:e,stop:t,get:n}=Bh();return{motionValues:e,stop:t,push:(e,t,r,o={},a)=>{const i=r[e],s=n(e,i,r);if(o&&o.immediate)return void s.set(t);const l=Nm(e,s,t,o,a);s.start(l)}}}()){const o=vt(t),a=e=>{if(!o||!o[e])throw new Error(`The variant ${e} does not exist.`);return o[e]},i=t=>("string"==typeof t&&(t=a(t)),Promise.all(Object.entries(t).map((([r,o])=>{if("transition"!==r)return new Promise((a=>{n(r,o,e,t.transition||Cm(r,t[r]),a)}))}))));return{apply:i,set:t=>{let r=$o(t)?t:a(t);Object.entries(r).forEach((([t,r])=>{"transition"!==t&&n(t,r,e,{immediate:!0})}))},stopTransitions:r,leave:async e=>{let t;o&&(o.leave&&(t=o.leave),!o.leave&&o.initial&&(t=o.initial)),t?(await i(t),e()):e()}}}const jm="undefined"!=typeof window;function _m({target:e,state:t,variants:n,apply:r}){const o=vt(n),a=ft(!1),i=ft(!1),s=ft(!1),l=Zr((()=>{let e=[];return o?(o.hovered&&(e=[...e,...Object.keys(o.hovered)]),o.tapped&&(e=[...e,...Object.keys(o.tapped)]),o.focused&&(e=[...e,...Object.keys(o.focused)]),e):e})),c=Zr((()=>{const e={};Object.assign(e,t.value),a.value&&o.hovered&&Object.assign(e,o.hovered),i.value&&o.tapped&&Object.assign(e,o.tapped),s.value&&o.focused&&Object.assign(e,o.focused);for(const t in e)l.value.includes(t)||delete e[t];return e}));Fn((()=>oa(e)),(e=>{e&&o&&(o.hovered&&(aa(e,"mouseenter",(()=>{a.value=!0})),aa(e,"mouseleave",(()=>{a.value=!1,i.value=!1})),aa(e,"mouseout",(()=>{a.value=!1,i.value=!1}))),o.tapped&&(jm&&null===window.onmousedown&&(aa(e,"mousedown",(()=>{i.value=!0})),aa(e,"mouseup",(()=>{i.value=!1}))),jm&&null===window.onpointerdown&&(aa(e,"pointerdown",(()=>{i.value=!0})),aa(e,"pointerup",(()=>{i.value=!1}))),jm&&null===window.ontouchstart&&(aa(e,"touchstart",(()=>{i.value=!0})),aa(e,"touchend",(()=>{i.value=!1})))),o.focused&&(aa(e,"focus",(()=>{s.value=!0})),aa(e,"blur",(()=>{s.value=!1}))))}),{immediate:!0}),Fn(c,(e=>{r(e)}))}function Pm({target:e,variants:t,variant:n}){const r=vt(t);let o=qo;const a=Fn((()=>oa(e)),(t=>{t&&(o=function(e,t,n={}){const{root:r,rootMargin:o="0px",threshold:a=.1,window:i=ta}=n,s=i&&"IntersectionObserver"in i;let l=qo;const c=s?Fn((()=>({el:oa(e),root:oa(r)})),(({el:e,root:n})=>{if(l(),!e)return;const r=new i.IntersectionObserver(t,{root:n,rootMargin:o,threshold:a});r.observe(e),l=()=>{r.disconnect(),l=qo}}),{immediate:!0,flush:"post"}):qo,u=()=>{l(),c()};return Zo(u),{isSupported:s,stop:u}}(e,(([{isIntersecting:e}])=>{r&&r.visible&&(n.value=e?"visible":"initial")})).stop)}),{immediate:!0});return{stop:()=>{o(),a()}}}function zm(e,t={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){t.lifeCycleHooks&&function({target:e,variants:t,variant:n}){const r=vt(t);Fn((()=>e),(()=>{r&&r.enter&&(r.initial&&(n.value="initial"),Pt((()=>n.value="enter")))}),{immediate:!0,flush:"pre"})}(e),t.syncVariants&&function({state:e,apply:t}){Fn(e,(e=>{e&&t(e)}),{immediate:!0})}(e),t.visibilityHooks&&Pm(e),t.eventListeners&&_m(e)}const Bm=["","X","Y","Z"],Wm=["transformPerspective","x","y","z"];["perspective","translate","scale","rotate","skew"].forEach((e=>{Bm.forEach((t=>{const n=e+t;Wm.push(n)}))}));const Um=new Set(Wm);function Hm(e){return Um.has(e)}const Vm=new Set(["originX","originY","originZ"]);function $m(e){return Vm.has(e)}function qm(e,t){let n,r;const{state:o,style:a}=function(e={}){const t=ot(s({},e)),n=ft({});return Fn(t,(()=>{const e={};for(const[n,r]of Object.entries(t)){const t=Lm(n),o=Am(r,t);e[n]=o}n.value=e}),{immediate:!0,deep:!0}),{state:t,style:n}}(),i=Fn((()=>oa(e)),(e=>{if(e){r=e;for(const t of Object.keys(Tm))null===e.style[t]||""===e.style[t]||Hm(t)||$m(t)||Fd(o,t,e.style[t]);n&&Object.entries(n).forEach((([t,n])=>Fd(e.style,t,n))),t&&t(o)}}),{immediate:!0}),l=Fn(a,(e=>{if(r)for(const t in e)Fd(r.style,t,e[t]);else n=e}),{immediate:!0});return{style:o,stop:()=>{i(),l()}}}const Gm={x:"translateX",y:"translateY",z:"translateZ"};function Km(e){const t=e.trim().split(/\) |\)/);if(1===t.length)return{};return t.reduce(((e,t)=>{if(!t)return e;const[n,r]=t.split("("),o=r.split(",").map((e=>(e=>e.endsWith("px")||e.endsWith("deg")?parseFloat(e):isNaN(Number(e))?Number(e):e)(e.endsWith(")")?e.replace(")",""):e.trim()))),a=1===o.length?o[0]:o;return l(s({},e),{[n]:a})}),{})}function Ym(e,t){let n,r;const{state:o,transform:a}=function(e={},t=!0){const n=ot(s({},e)),r=ft("");return Fn(n,(e=>{let n="",o=!1;t&&(e.x||e.y||e.z)&&(n+=`translate3d(${[e.x||0,e.y||0,e.z||0].map(em.transform).join(",")}) `,o=!0);for(const[r,a]of Object.entries(e)){if(t&&("x"===r||"y"===r||"z"===r))continue;const e=Lm(r),o=Am(a,e);n+=`${Gm[r]||r}(${o}) `}t&&!o&&(n+="translateZ(0px) "),r.value=n.trim()}),{immediate:!0,deep:!0}),{state:n,transform:r}}(),i=Fn((()=>oa(e)),(e=>{e&&(r=e,e.style.transform&&function(e,t){Object.entries(Km(t)).forEach((([t,n])=>{n=parseFloat(n);const r=["x","y","z"];"translate3d"!==t?Fd(e,"translateX"!==t?"translateY"!==t?"translateZ"!==t?t:"z":"y":"x",n):n.forEach(((t,n)=>{Fd(e,r[n],t)}))}))}(o,e.style.transform),n&&(e.style.transform=n),t&&t(o))}),{immediate:!0}),l=Fn(a,(e=>{r?r.style.transform=e:n=e}),{immediate:!0});return{transform:o,stop:()=>{i(),l()}}}function Xm(e,t={},n){const{motionProperties:r}=function(e,t){const n=ot({}),r=e=>{Object.entries(e).forEach((([e,t])=>{Fd(n,e,t)}))},{style:o,stop:a}=qm(e,r),{transform:i,stop:s}=Ym(e,r),l=Fn(n,(e=>{Object.entries(e).forEach((([e,t])=>{const n=Hm(e)?i:o;n[e]&&n[e]===t||Fd(n,e,t)}))}),{immediate:!0,deep:!0}),c=Fn((()=>oa(e)),(e=>{e&&t&&r(t)}),{immediate:!0});return{motionProperties:n,style:o,transform:i,stop:()=>{a(),s(),l(),c()}}}(e),{variant:o,state:a}=function(e={}){const t=vt(e),n=ft();return{state:Zr((()=>{if(n.value)return t[n.value]})),variant:n}}(t),i=Im(r,t),l=s({target:e,variant:o,variants:t,state:a,motionProperties:r},i);return zm(l,n),l}const Jm=["initial","enter","leave","visible","hovered","tapped","focused","delay"],Zm=e=>{const t=(t,n,r)=>{const o=ft(e||{});((e,t)=>{const n=e.props?e.props:e.data&&e.data.attrs?e.data.attrs:{};n&&(n.variants&&$o(n.variants)&&(t.value=s(s({},t.value),n.variants)),Jm.forEach((e=>{if("delay"!==e)n&&n[e]&&$o(n[e])&&(t.value[e]=n[e]);else if(n&&n[e]&&"number"==typeof n[e]){const r=n[e];t&&t.value&&(t.value.enter&&(t.value.enter.transition||(t.value.enter.transition={}),t.value.enter.transition=l(s({},t.value.enter.transition),{delay:r})),t.value.visible&&(t.value.visible.transition||(t.value.visible.transition={}),t.value.visible.transition=l(s({},t.value.visible.transition),{delay:r})))}})))})(r,o);const a=Xm(t,o);n.value&&Fd(Sh,n.value,a)},n=(e,t,n)=>{t.value&&Sh[t.value]&&Nd(Sh,t.value)};return{created:t,unmounted:n,bind:t,unbind:n}};var Qm=Object.freeze({__proto__:null,fade:{initial:{opacity:0},enter:{opacity:1}},fadeVisible:{initial:{opacity:0},visible:{opacity:1}},pop:{initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},popVisible:{initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},rollBottom:{initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},rollLeft:{initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},rollRight:{initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},rollTop:{initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},rollVisibleBottom:{initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},rollVisibleLeft:{initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},rollVisibleRight:{initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},rollVisibleTop:{initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},slideBottom:{initial:{y:100,opacity:0},enter:{y:0,opacity:1}},slideLeft:{initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},slideRight:{initial:{x:100,opacity:0},enter:{x:0,opacity:1}},slideTop:{initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},slideVisibleBottom:{initial:{y:100,opacity:0},visible:{y:0,opacity:1}},slideVisibleLeft:{initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},slideVisibleRight:{initial:{x:100,opacity:0},visible:{x:0,opacity:1}},slideVisibleTop:{initial:{y:-100,opacity:0},visible:{y:0,opacity:1}}});function eg(e){const t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",n=new RegExp(t.split("").join("|"),"g");return e.toString().replace(/[A-Z]/g,(e=>"-"+e)).toLowerCase().replace(/\s+/g,"-").replace(n,(e=>"aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------".charAt(t.indexOf(e)))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const tg={install(e,t){if(e.directive("motion",Zm()),!t||t&&!t.excludePresets)for(const n in Qm){const t=Qm[n];e.directive(`motion-${eg(n)}`,Zm(t))}if(t&&t.directives)for(const n in t.directives){const r=t.directives[n];r.initial,0,e.directive(`motion-${n}`,Zm(r))}}};const ng=((...e)=>{const t=(No||(No=er(Fo))).createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if(P(e)){return document.querySelector(e)}return e}(e);if(!r)return;const o=t._component;_(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const a=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},t})(Dd);ng.use(id),ng.use((()=>{let e=[];const t={install(e){e.config.globalProperties.$head=t,e.provide("usehead",t)},get headTags(){const t=[];return e.forEach((e=>{(e=>{const t=[];for(const n of Object.keys(e))if(null!=e[n])if("title"===n)t.push({tag:n,props:{children:e[n]}});else if("base"===n)t.push({tag:n,props:s({key:"default"},e[n])});else if(_o.includes(n)){const r=e[n];Array.isArray(r)?r.forEach((e=>{t.push({tag:n,props:e})})):r&&t.push({tag:n,props:r})}return t})(e.value).forEach((e=>{if("meta"===e.tag||"base"===e.tag){const r=void 0!==(n=e.props).key?{name:"key",value:n.key}:void 0!==n.name?{name:"name",value:n.name}:void 0!==n.property?{name:"property",value:n.property}:void 0;if(r){let n=-1;for(let o=0;o<t.length;o++){const a=t[o],i=a.props[r.name],s=e.props[r.name];if(a.tag===e.tag&&i===s){n=o;break}}-1!==n&&t.splice(n,1)}}var n;t.push(e)}))})),t},addHeadObjs(t){e.push(t)},removeHeadObjs(t){e=e.filter((e=>e!==t))},updateDOM(e){((e,t=window.document)=>{const n=t.head;let r=n.querySelector('meta[name="head:count"]');const o=r?Number(r.getAttribute("content")):0,a=[];if(r)for(let u=0,p=r.previousElementSibling;u<o;u++,p=p.previousElementSibling)p&&a.push(p);else r=t.createElement("meta"),r.setAttribute("name","head:count"),r.setAttribute("content","0"),n.append(r);const i=[];let s,l={},c={};for(const u of e)"title"!==u.tag?"htmlAttrs"!==u.tag?"bodyAttrs"!==u.tag?i.push(Io(u.tag,u.props,t)):Object.assign(c,u.props):Object.assign(l,u.props):s=u.props.children;a.forEach((e=>{e.remove()})),void 0!==s&&(t.title=s),Po(t.documentElement,l),Po(t.body,c),i.forEach((e=>{n.insertBefore(e,r)})),r.setAttribute("content",""+i.length)})(t.headTags,e)}};return t})()),ng.use({install(e){e.directive("click",{name:"v-click",mounted(e,t){if(_a.value||Os(t,As).value)return;const n=Os(t,Ls),r=Os(t,Ts),o=n.value.length;n.value.includes(e)||n.value.push(e),null==e||e.classList.toggle("slidev-vclick-target",!0),Fn(r,(()=>{const n=null!=t.value?r.value>=t.value:r.value>o;e.classList.contains("slidev-vclick-hidden-explicitly")||e.classList.toggle("slidev-vclick-hidden",!n)}),{immediate:!0})},unmounted(e,t){null==e||e.classList.toggle("slidev-vclick-target",!1);const n=Os(t,Ls);(null==n?void 0:n.value)&&Cs(n.value,e)}}),e.directive("after",{name:"v-after",mounted(e,t){if(_a.value||Os(t,As).value)return;const n=Os(t,Ls),r=Os(t,Ts),o=n.value.length;null==e||e.classList.toggle("slidev-vclick-target",!0),Fn(r,(()=>{var n;const a=r.value>=(null!=(n=t.value)?n:o);e.classList.contains("slidev-vclick-hidden-explicitly")||e.classList.toggle("slidev-vclick-hidden",!a)}),{immediate:!0})},unmounted(e){null==e||e.classList.toggle("slidev-vclick-target",!0)}}),e.directive("click-hide",{name:"v-click-hide",mounted(e,t){if(_a.value||Os(t,As).value)return;const n=Os(t,Ts);null==e||e.classList.toggle("slidev-vclick-target",!0),Fn(n,(()=>{const r=n.value>t.value;e.classList.toggle("slidev-vclick-hidden",r),e.classList.toggle("slidev-vclick-hidden-explicitly",r)}),{immediate:!0})},unmounted(e,t){null==e||e.classList.toggle("slidev-vclick-target",!1);const n=Os(t,Ls);(null==n?void 0:n.value)&&Cs(n.value,e)}})}}),ng.use({install(e){e.config.globalProperties.$slidev={nav:ot(s({},Od))}}}),function(e){function t(){document.documentElement.style.setProperty("--vh",.01*window.innerHeight+"px")}t(),window.addEventListener("resize",t),e.app.use(tg)}({app:ng,router:id}),ng.mount("#app");export{Fs as c};
